!function(){var t=document.createElement("style");t.innerHTML=unescape(".jumpstart-ad-container%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20z-index%3A%204%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-ad-playing%20.jumpstart-ad-container%2C.jumpstart-ad-paused%20.jumpstart-ad-container%20%7B%20%20pointer-events%3A%20all%3B%7D.jumpstart-player-mobile.jumpstart-ad-playing%20.jumpstart-control-bar%2C.jumpstart-player-mobile.jumpstart-ad-paused%20.jumpstart-control-bar%20%7B%20%20opacity%3A%201%3B%20%20pointer-events%3A%20all%3B%7D.jumpstart-control-skip-ad%20%7B%20%20visibility%3A%20hidden%3B%7D.jumpstart-ads-skippable.jumpstart-ad-playing%20.jumpstart-control-skip-ad%2C.jumpstart-ads-skippable.jumpstart-ad-paused%20.jumpstart-control-skip-ad%20%7B%20%20position%3A%20absolute%3B%20%20bottom%3A%2045px%3B%20%20right%3A%201em%3B%20%20z-index%3A%204%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20%20color%3A%20%23fff%3B%20%20padding%3A%208px%2012px%3B%20%20box-sizing%3A%20border-box%3B%20%20border%3A%201px%20solid%3B%20%20font-family%3A%20sans-serif%3B%20%20font-size%3A%200.9em%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20font-smoothing%3A%20antialiased%3B%20%20cursor%3A%20pointer%3B%20%20font-size%3A%201em%3B%20%20animation%3A%200.3s%20skipAdBtnFadeIn%3B%20%20animation-fill-mode%3A%20forwards%3B%20%20animation-delay%3A%204.7s%3B%7D.jumpstart-player-small.jumpstart-ads-skippable.jumpstart-ad-playing%20.jumpstart-control-skip-ad%2C.jumpstart-player-small.jumpstart-ads-skippable.jumpstart-ad-paused%20.jumpstart-control-skip-ad%20%7B%20%20right%3A%200.5em%3B%7D@-moz-keyframes%20skipAdBtnFadeIn%20%7B%20%200%25%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20100%25%20%7B%20%20%20%20visibility%3A%20visible%3B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-webkit-keyframes%20skipAdBtnFadeIn%20%7B%20%200%25%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20100%25%20%7B%20%20%20%20visibility%3A%20visible%3B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-o-keyframes%20skipAdBtnFadeIn%20%7B%20%200%25%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20100%25%20%7B%20%20%20%20visibility%3A%20visible%3B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@keyframes%20skipAdBtnFadeIn%20%7B%20%200%25%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20100%25%20%7B%20%20%20%20visibility%3A%20visible%3B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D.jumpstart-control-bar%20%7B%20%20position%3A%20absolute%3B%20%20bottom%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20font-size%3A%201em%3B%20%20color%3A%20%23fff%3B%20%20text-shadow%3A%200px%200px%201px%20%23000%3B%20%20padding%3A%200.4375em%200.5em%200.25em%3B%20%20box-sizing%3A%20border-box%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20%20user-select%3A%20none%3B%20%20opacity%3A%200%3B%20%20pointer-events%3A%20none%3B%20%20transition%3A%20opacity%200.3s%3B%20%20z-index%3A%205%3B%7D.jumpstart-js.jumpstart-controls-hover%20.jumpstart-control-bar%2C.jumpstart-js.jumpstart-controls-active%20.jumpstart-control-bar%2C.jumpstart-js.jumpstart-controls-focus%20.jumpstart-control-bar%20%7B%20%20opacity%3A%201%3B%20%20pointer-events%3A%20all%3B%7D.jumpstart-js.jumpstart-player-mobile%3Aafter%20%7B%20%20content%3A%20%22%22%3B%20%20position%3A%20absolute%3B%20%20bottom%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%2060px%3B%20%20z-index%3A%206%3B%20%20transition%3A%20height%200.2s%3B%7D.jumpstart-js.jumpstart-player-mobile.jumpstart-controls-active%3Aafter%20%7B%20%20height%3A%200%3B%20%20transition-delay%3A%200.2s%3B%7D.jumpstart-player-sticky-close%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%20-24px%3B%20%20right%3A%200%3B%20%20z-index%3A%204%3B%20%20color%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20%20text-align%3A%20center%3B%20%20font-size%3A%201.5em%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20box-sizing%3A%20border-box%3B%20%20opacity%3A%200%3B%20%20cursor%3A%20pointer%3B%20%20transition%3A%20all%200.3s%3B%20%20transition-delay%3A%20opacity%202s%3B%7D.jumpstart-player-sticky-close%3Aafter%20%7B%20%20content%3A%20%22%22%3B%20%20display%3A%20block%3B%20%20position%3A%20absolute%3B%20%20width%3A%200.5em%3B%20%20height%3A%200.5em%3B%20%20background%3A%20%23fff%3B%20%20top%3A%200.167em%3B%20%20left%3A%200.25em%3B%20%20z-index%3A%20-1%3B%20%20speak%3A%20none%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-player-sticky-close%3Ahover%2C.jumpstart-player-sticky-close%3Afocus%20%7B%20%20transform%3A%20scale%281.1%29%3B%7D.jumpstart-js.jumpstart-controls-hover%20.jumpstart-player-sticky-close%2C.jumpstart-js.jumpstart-controls-active%20.jumpstart-player-sticky-close%2C.jumpstart-js.jumpstart-controls-focus%20.jumpstart-player-sticky-close%20%7B%20%20transition-delay%3A%200s%3B%20%20opacity%3A%201%3B%7D.jumpstart-control-bar%20*%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-control-bar-zone-right%20%7B%20%20float%3A%20right%3B%7D.jumpstart-control%20%7B%20%20cursor%3A%20pointer%3B%20%20font-size%3A%201.5em%3B%20%20transition%3A%20opacity%200.3s%2C%20outline%200.1s%3B%20%20z-index%3A%204%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%20%20vertical-align%3A%20middle%3B%7D.jumpstart-control-bar-zone-left%20.jumpstart-control%20%7B%20%20margin-right%3A%200.667em%3B%7D.jumpstart-control-bar-zone-right%20.jumpstart-control%20%7B%20%20margin-left%3A%200.667em%3B%7D.jumpstart-control-pause%2C.jumpstart-control-unmute%2C.jumpstart-control-normalscreen%20%7B%20%20display%3A%20none%3B%7D.jumpstart-control-big-play%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%2050%25%3B%20%20left%3A%2050%25%3B%20%20transform%3A%20translateZ%280%29%20translate%28-50%25%2C%20-50%25%29%3B%20%20font-size%3A%204em%3B%20%20width%3A%201.5em%3B%20%20height%3A%201.5em%3B%20%20color%3A%20%23fff%3B%20%20text-shadow%3A%200px%200px%202px%20%23000%3B%20%20transition%3A%20transform%200.3s%2C%20background%200.3s%3B%20%20z-index%3A%207%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.65%29%3B%20%20border%3A%204px%20solid%20rgba%28255%2C255%2C255%2C0.7%29%3B%20%20border-radius%3A%2050%25%3B%20%20box-sizing%3A%20border-box%3B%20%20-webkit-backface-visibility%3A%20hidden%3B%7D.jumpstart-control-big-play%3Abefore%20%7B%20%20top%3A%2017px%3B%20%20left%3A%2014px%3B%7D.jumpstart-js.jumpstart-player-mobile%20.jumpstart-control-big-play%2C.jumpstart-js.jumpstart-player-small%20.jumpstart-control-big-play%2C.jumpstart-js.jumpstart-player-sticky%20.jumpstart-control-big-play%20%7B%20%20font-size%3A%202em%3B%20%20border%3A%202px%20solid%20rgba%28255%2C255%2C255%2C0.7%29%3B%7D.jumpstart-js.jumpstart-player-mobile%20.jumpstart-control-big-play%3Abefore%2C.jumpstart-js.jumpstart-player-small%20.jumpstart-control-big-play%3Abefore%2C.jumpstart-js.jumpstart-player-sticky%20.jumpstart-control-big-play%3Abefore%20%7B%20%20top%3A%209px%3B%20%20left%3A%208px%3B%7D.jumpstart-control-audio-descriptions.ad-available%2C.jumpstart-control%3Abefore%20%7B%20%20display%3A%20inline-block%3B%20%20transition%3A%20transform%200.3s%3B%20%20-webkit-backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%3B%7D.jumpstart-control-audio-descriptions.ad-available%3Ahover%2C.jumpstart-control%3Ahover%3Abefore%20%7B%20%20transform%3A%20translateZ%280%29%20scale%281.1%29%3B%7D.jumpstart-control-big-play%3Ahover%3Abefore%20%7B%20%20transform%3A%20none%3B%7D.jumpstart-control-big-play%3Ahover%2C.jumpstart-control-loader%3Ahover%20%7B%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%20scale%281.1%29%3B%7D.jumpstart-control%2C.jumpstart-control%3Afocus%20%7B%20%20outline%3A%200px%20solid%20%2300a1ff%3B%7D.jumpstart-js-show-acc%20.jumpstart-control%3Afocus%20%7B%20%20outline%3A%203px%20solid%20%2300a1ff%3B%7D.jumpstart-control-loader%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%2050%25%3B%20%20left%3A%2050%25%3B%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%20%20width%3A%205.4em%3B%20%20height%3A%205.4em%3B%20%20background-image%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/assets/loader.svg%22%29%3B%20%20background-size%3A%20cover%3B%20%20-webkit-filter%3A%20drop-shadow%280px%200px%201px%20%23000%29%3B%20%20filter%3A%20drop-shadow%280px%200px%201px%20%23000%29%3B%20%20opacity%3A%200%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-js.jumpstart-player-mobile%20.jumpstart-control-loader%2C.jumpstart-js.jumpstart-player-small%20.jumpstart-control-loader%2C.jumpstart-js.jumpstart-player-sticky%20.jumpstart-control-loader%20%7B%20%20width%3A%202.7em%3B%20%20height%3A%202.7em%3B%7D/*%20state%20based%20styles%20%28consider%20moving%20elsewhere...%29%20*/.jumpstart-video-playing%20.jumpstart-control-big-play%2C.jumpstart-ad-playing%20.jumpstart-control-big-play%2C.jumpstart-ad-paused%20.jumpstart-control-big-play%2C.jumpstart-ad-loading%20.jumpstart-control-big-play%2C.jumpstart-video-loading%20.jumpstart-control-big-play%2C.jumpstart-video-scrubbing%20.jumpstart-control-big-play%20%7B%20%20display%3A%20none%3B%7D.jumpstart-ad-loading%20.jumpstart-control-loader%2C.jumpstart-video-loading%20.jumpstart-control-loader%20%7B%20%20opacity%3A%201%3B%20%20transition-delay%3A%200.2s%3B%7D.jumpstart-js-player-error%20.jumpstart-control-loader%20%7B%20%20display%3A%20none%3B%7D.jumpstart-video-playing%20.jumpstart-control-pause%2C.jumpstart-ad-playing%20.jumpstart-control-pause%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-video-playing%20.jumpstart-control-play%2C.jumpstart-ad-playing%20.jumpstart-control-play%20%7B%20%20display%3A%20none%3B%7D.jumpstart-video-paused%20.jumpstart-control-pause%2C.jumpstart-ad-paused%20.jumpstart-control-pause%20%7B%20%20display%3A%20none%3B%7D.jumpstart-video-paused%20.jumpstart-control-play%2C.jumpstart-ad-paused%20.jumpstart-control-play%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-video-muted%20.jumpstart-control-mute%2C.jumpstart-ad-muted%20.jumpstart-control-mute%20%7B%20%20display%3A%20none%3B%7D.jumpstart-video-muted%20.jumpstart-control-unmute%2C.jumpstart-ad-muted%20.jumpstart-control-unmute%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-control-progress%20%7B%20%20position%3A%20absolute%3B%20%20font-size%3A%201.2em%3B%20%20bottom%3A%202em%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%203px%3B%20%20margin-bottom%3A%20-2px%3B%20%20background%3A%20%23b2b2b2%3B%20%20-webkit-box-shadow%3A%200px%200px%201px%20%23000%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20-webkit-transition%3A%20height%200.15s%3B%20%20-o-transition%3A%20height%200.15s%3B%20%20transition%3A%20height%200.15s%3B%20%20backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%20%20z-index%3A%204%3B%7D.jumpstart-control-progress%3Ahover%2C.jumpstart-control-progress%3Afocus%2C.jumpstart-control-progress.jumpstart-control-progress-focus%20%7B%20%20height%3A%208px%3B%20%20transform%3A%20scale%281%29%3B%7D.jumpstart-ad-paused%20.jumpstart-control-progress%2C.jumpstart-ad-playing%20.jumpstart-control-progress%2C.jumpstart-ad-loading%20.jumpstart-control-progress%20%7B%20%20pointer-events%3A%20none%3B%20%20height%3A%203px%3B%7D.jumpstart-control-progress%20input%20%7B%20%20-webkit-appearance%3A%20none%3B%20%20-moz-appearance%3A%20none%3B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20margin%3A%20-10px%200%20-5px%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20background%3A%20transparent%3B%20%20outline%3A%20none%3B%20%20z-index%3A%205%3B%20%20padding%3A%2010px%200%205px%200%3B%20%20box-sizing%3A%20content-box%3B%7D.jumpstart-control-progress%20input%3A%3A-moz-range-track%20%7B%20%20background%3A%20transparent%3B%7D.jumpstart-control-progress%20input%3A%3A-ms-track%20%7B%20%20border-color%3A%20transparent%3B%20%20color%3A%20transparent%3B%20%20background%3A%20transparent%3B%7D.jumpstart-control-progress%20input%3A%3A-ms-tooltip%20%7B%20%20display%3A%20none%3B%7D.jumpstart-control-progress%20input%3A%3A-ms-fill-lower%20%7B%20%20background%3A%20transparent%3B%7D.jumpstart-control-progress%20input%3A%3A-ms-fill-upper%20%7B%20%20background%3A%20transparent%3B%7D/*%20make%20the%20progrss%20area%20easier%20to%20get%20your%20mouse%20on%20*//*%20disabled%20in%20favor%20of%20a%20margin%20+%20padding%20solution%20*//*.jumpstart-control-progress%20input%3A%3Aafter%20%7B%20%20content%3A%20%22%22%3B%20%20position%3A%20absolute%3B%20%20bottom%3A%20-5px%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%2020px%3B%7D*/.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%20%7B%20%20-webkit-appearance%3A%20none%3B%20%20-moz-appearance%3A%20none%3B%20%20width%3A%203px%3B%20%20height%3A%203px%3B%20%20border-radius%3A%200%3B%20%20background%3A%20%23fff%3B%20%20cursor%3A%20pointer%3B%20%20-webkit-transition%3A%20all%200.3s%3B%20%20-o-transition%3A%20all%200.3s%3B%20%20transition%3A%20all%200.3s%3B%20%20-webkit-box-shadow%3A%200px%200px%201px%20%23000%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%7D.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%20%7B%20%20width%3A%203px%3B%20%20height%3A%203px%3B%20%20border-radius%3A%200%3B%20%20background%3A%20%23fff%3B%20%20cursor%3A%20pointer%3B%20%20-webkit-transition%3A%20all%200.3s%3B%20%20-o-transition%3A%20all%200.3s%3B%20%20transition%3A%20all%200.3s%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%20translateY%280px%29%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%7D.jumpstart-control-progress%20input%3A%3A-ms-thumb%20%7B%20%20width%3A%208px%3B%20%20height%3A%208px%3B%20%20border-radius%3A%200%3B%20%20background%3A%20%23fff%3B%20%20cursor%3A%20pointer%3B%20%20-webkit-transition%3A%20all%200.3s%3B%20%20-o-transition%3A%20all%200.3s%3B%20%20transition%3A%20all%200.3s%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20border%3A%204px%20solid%20%23000%3B%20%20backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%20translateY%28-1px%29%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%7D.jumpstart-ad-playing%20.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-ad-paused%20.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-ad-loading%20.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-ad-ending%20.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-video-changing%20.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%20%7B%20%20transition%3A%20none%3B%20%20visibility%3A%20hidden%3B%7D.jumpstart-ad-playing%20.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%2C.jumpstart-ad-paused%20.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%2C.jumpstart-ad-loading%20.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%2C.jumpstart-ad-ending%20.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%2C.jumpstart-video-changing%20.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%20%7B%20%20transition%3A%20none%3B%20%20visibility%3A%20hidden%3B%7D.jumpstart-control-progress%3Ahover%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-control-progress%3Afocus%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-control-progress.jumpstart-control-progress-focus%20input%3A%3A-webkit-slider-thumb%20%7B%20%20width%3A%2012px%3B%20%20height%3A%2012px%3B%20%20backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%7D.jumpstart-control-progress%3Ahover%20input%3A%3A-moz-range-thumb%2C.jumpstart-control-progress%3Afocus%20input%3A%3A-moz-range-thumb%2C.jumpstart-control-progress.jumpstart-control-progress-focus%20input%3A%3A-moz-range-thumb%20%7B%20%20width%3A%2012px%3B%20%20height%3A%2012px%3B%20%20backface-visibility%3A%20hidden%3B%20%20transform%3A%20translateZ%280%29%20translateY%280px%29%3B%20%20-webkit-font-smoothing%3A%20subpixel-antialiased%3B%7D.jumpstart-progress-tracker%20%7B%20%20width%3A%200%3B%20%20height%3A%20100%25%3B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20background%3A%20%23fff%3B%20%20z-index%3A%204%3B%7D.jumpstart-ad-loading%20.jumpstart-progress-tracker%2C.jumpstart-ad-paused%20.jumpstart-progress-tracker%2C.jumpstart-ad-playing%20.jumpstart-progress-tracker%20%7B%20%20background%3A%20%23fc0%3B%20%20transition%3A%20width%200.3s%20linear%3B%7D.jumpstart-control-closed-captions%20%7B%20%20display%3A%20none%3B%20%20opacity%3A%200.5%3B%7D.jumpstart-closed-captions-active%20.jumpstart-control-closed-captions%20%7B%20%20opacity%3A%201%3B%7D.jumpstart-control-audio-descriptions%20%7B%20%20position%3A%20relative%3B%20%20width%3A%2024px%3B%20%20height%3A%2024px%3B%20%20background-image%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/assets/ad.svg%22%29%3B%20%20background-size%3A%20contain%3B%20%20background-repeat%3A%20no-repeat%3B%20%20background-position%3A%20center%3B%20%20filter%3A%20drop-shadow%280px%200px%201px%20%23000%29%3B%20%20margin-top%3A%20-2px%3B%7D.jumpstart-control-audio-descriptions%3Anot%28.ad-available%29%20%7B%20%20display%3A%20none%20%21important%3B%7D.jumpstart-js%3Anot%28.audio-descriptions-active%2C.jumpstart-ad-loading%2C.jumpstart-ad-playing%2C.jumpstart-ad-paused%29%20.jumpstart-control-audio-descriptions%20%7B%20%20opacity%3A%200.7%3B%7D.jumpstart-control-next%2C.jumpstart-control-previous%20%7B%20%20display%3A%20none%3B%7D.jumpstart-recs-loaded%20.jumpstart-control-next%2C.jumpstart-recs-loaded%20.jumpstart-control-previous%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-ad-loading%20.jumpstart-control-next%2C.jumpstart-ad-paused%20.jumpstart-control-next%2C.jumpstart-ad-playing%20.jumpstart-control-next%2C.jumpstart-ad-loading%20.jumpstart-control-previous%2C.jumpstart-ad-paused%20.jumpstart-control-previous%2C.jumpstart-ad-playing%20.jumpstart-control-previous%2C.jumpstart-ad-loading%20.jumpstart-control-share%2C.jumpstart-ad-paused%20.jumpstart-control-share%2C.jumpstart-ad-playing%20.jumpstart-control-share%2C.jumpstart-ad-loading%20.jumpstart-control-closed-captions%2C.jumpstart-ad-paused%20.jumpstart-control-closed-captions%2C.jumpstart-ad-playing%20.jumpstart-control-closed-captions%2C.jumpstart-ad-loading%20.jumpstart-control-audio-descriptions%2C.jumpstart-ad-paused%20.jumpstart-control-audio-descriptions%2C.jumpstart-ad-playing%20.jumpstart-control-audio-descriptions%20%7B%20%20opacity%3A%200.2%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-control.jumpstart-control-current-time%2C.jumpstart-control.jumpstart-control-duration%20%7B%20%20font-family%3A%20sans-serif%3B%20%20font-size%3A%200.75em%3B%20%20font-weight%3A%20bold%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20font-smoothing%3A%20antialiased%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-control.jumpstart-control-current-time%20%7B%20%20margin-right%3A%201em%3B%7D.jumpstart-control.jumpstart-control-current-time%3Aafter%20%7B%20%20content%3A%20%22/%22%3B%20%20margin-left%3A%201em%3B%7D.jumpstart-control.jumpstart-control-current-time%3Aempty%20%7B%20%20display%3A%20none%3B%7D.jumpstart-js%3A-webkit-full-screen%20.jumpstart-control-normalscreen%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-js%3A-webkit-full-screen%20.jumpstart-control-fullscreen%20%7B%20%20display%3A%20none%3B%7D.jumpstart-js%3A-moz-full-screen%20.jumpstart-control-normalscreen%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-js%3A-moz-full-screen%20.jumpstart-control-fullscreen%20%7B%20%20display%3A%20none%3B%7D.jumpstart-js%3A-ms-fullscreen%20.jumpstart-control-normalscreen%20%7B%20%20display%3A%20inline-block%3B%7D.jumpstart-js%3A-ms-fullscreen%20.jumpstart-control-fullscreen%20%7B%20%20display%3A%20none%3B%7D.jumpstart-player-mobile%20.jumpstart-control%20%7B%20%20outline%3A%20none%3B%7D.jumpstart-player-small%20.jumpstart-control-bar%2C.jumpstart-player-sticky%20.jumpstart-control-bar%20%7B%20%20font-size%3A%201em%3B%7D.jumpstart-player-small%20.jumpstart-control-bar-zone-left%20.jumpstart-control%2C.jumpstart-player-sticky%20.jumpstart-control-bar-zone-left%20.jumpstart-control%20%7B%20%20margin-right%3A%200.5em%3B%7D.jumpstart-player-small%20.jumpstart-control-bar-zone-right%20.jumpstart-control%2C.jumpstart-player-sticky%20.jumpstart-control-bar-zone-right%20.jumpstart-control%20%7B%20%20margin-left%3A%200.5em%3B%7D.jumpstart-player-small%20.jumpstart-control.jumpstart-control-current-time%20%7B%20%20margin-right%3A%200.25em%3B%7D.jumpstart-player-small%20.jumpstart-control.jumpstart-control-current-time%3Aafter%20%7B%20%20margin-left%3A%200.25em%3B%7D.jumpstart-player-small%20.jumpstart-control-progress%20input%3A%3A-webkit-slider-thumb%20%7B%20%20width%3A%205px%3B%20%20height%3A%205px%3B%7D.jumpstart-player-small%20.jumpstart-control-progress%20input%3A%3A-moz-range-thumb%20%7B%20%20width%3A%205px%3B%20%20height%3A%205px%3B%7D.jumpstart-player-small%20.jumpstart-control-progress%3Ahover%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-player-small%20.jumpstart-control-progress%3Afocus%20input%3A%3A-webkit-slider-thumb%2C.jumpstart-player-small%20.jumpstart-control-progress.jumpstart-control-progress-focus%20input%3A%3A-webkit-slider-thumb%20%7B%20%20width%3A%2012px%3B%20%20height%3A%2012px%3B%7D.jumpstart-player-small%20.jumpstart-control-progress%3Ahover%20input%3A%3A-moz-range-thumb%2C.jumpstart-player-small%20.jumpstart-control-progress%3Afocus%20input%3A%3A-moz-range-thumb%2C.jumpstart-player-small%20.jumpstart-control-progress.jumpstart-control-progress-focus%20input%3A%3A-moz-range-thumb%20%7B%20%20width%3A%2012px%3B%20%20height%3A%2012px%3B%7D.jumpstart-js%20video%3A%3A-webkit-media-controls-panel%20%7B%20%20display%3A%20none%20%21important%3B%20%20-webkit-appearance%3A%20none%3B%7D.jumpstart-js%20video%3A%3A-webkit-media-controls-play-button%20%7B%20%20display%3A%20none%20%21important%3B%20%20-webkit-appearance%3A%20none%3B%7D.jumpstart-js%20video%3A%3A-webkit-media-controls-start-playback-button%20%7B%20%20display%3A%20none%20%21important%3B%20%20-webkit-appearance%3A%20none%3B%7D.jumpstart-video-live.jumpstart-video-started%20.jumpstart-control-progress%20%7B%20%20display%3A%20none%3B%7D/*%20if%20the%20screen%20is%20especially%20small%20we%20shrink%20select%20icons%20*/@media%20only%20screen%20and%20%28max-width%3A%20430px%29%20%7B%20%20.jumpstart-player-small%20.jumpstart-control-bar%20%7B%20%20%20%20font-size%3A%200.8em%3B%20%20%7D%20%20.jumpstart-player-small%20.jumpstart-control-audio-descriptions%20%7B%20%20%20%20width%3A%2019.2px%3B%20%20%20%20height%3A%2019px%3B%20%20%7D%7D/*%20eventually%2C%20we%20have%20to%20hide%20our%20least%20valuable%20icons%20as%20well%20*/@media%20only%20screen%20and%20%28max-width%3A%20355px%29%20%7B%20%20.jumpstart-player-small%20.jumpstart-control-next%2C%20%20.jumpstart-player-small%20.jumpstart-control-previous%20%7B%20%20%20%20display%3A%20none%3B%20%20%7D%7D/*%20occasionally%2C%20we%20may%20need%20to%20embed%20the%20player%20in%20an%20especially%20tight%20place%2Cbut%20on%20a%20larger%20screen...%20this%20compact%20class%20assists%20with%20that%20*/.jumpstart-player-compact.jumpstart-player-small%20.jumpstart-control-bar%20%7B%20%20font-size%3A%200.8em%3B%7D.jumpstart-player-compact.jumpstart-player-small%20.jumpstart-control-audio-descriptions%20%7B%20%20width%3A%2019.2px%3B%20%20height%3A%2019px%3B%7D.jumpstart-player-compact.jumpstart-player-small%20.jumpstart-control-bar-zone-left%20.jumpstart-control%20%7B%20%20margin-right%3A%200.4em%3B%7D.jumpstart-player-compact.jumpstart-player-small%20.jumpstart-control-bar-zone-right%20.jumpstart-control%20%7B%20%20margin-left%3A%200.4em%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%20%7B%20%20height%3A%2024px%3B%20%20-webkit-appearance%3A%20none%3B%20%20-moz-appearance%3A%20none%3B%20%20background%3A%20transparent%3B%20%20vertical-align%3A%20middle%3B%20%20padding%3A%200%3B%20%20margin%3A%20-2px%200%200%200%3B%7D.jumpstart-player-small%20.jumpstart-control-mute%20input%5Btype%3Drange%5D%2C.jumpstart-player-sticky%20.jumpstart-control-mute%20input%5Btype%3Drange%5D%20%7B%20%20display%3A%20none%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3Afocus%20%7B%20%20outline%3A%20none%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-webkit-slider-runnable-track%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%208px%3B%20%20cursor%3A%20pointer%3B%20%20animate%3A%200.2s%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20background%3A%20%23b2b2b2%3B%20%20border-radius%3A%200px%3B%20%20border%3A%200px%20solid%20%23000%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-webkit-slider-thumb%20%7B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20border%3A%200px%20solid%20%23000%3B%20%20height%3A%2014px%3B%20%20width%3A%2014px%3B%20%20border-radius%3A%200px%3B%20%20background%3A%20%23fff%3B%20%20cursor%3A%20pointer%3B%20%20-webkit-appearance%3A%20none%3B%20%20-moz-appearance%3A%20none%3B%20%20margin-top%3A%20-3px%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3Afocus%3A%3A-webkit-slider-runnable-track%20%7B%20%20background%3A%20%23b2b2b2%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-moz-range-track%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%208px%3B%20%20cursor%3A%20pointer%3B%20%20animate%3A%200.2s%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20background%3A%20%23b2b2b2%3B%20%20border-radius%3A%200px%3B%20%20border%3A%200px%20solid%20%23000%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-moz-range-thumb%20%7B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20border%3A%200px%20solid%20%23000%3B%20%20height%3A%2014px%3B%20%20width%3A%2014px%3B%20%20border-radius%3A%200px%3B%20%20background%3A%20%23fff%3B%20%20cursor%3A%20pointer%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-ms-track%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%208px%3B%20%20cursor%3A%20pointer%3B%20%20animate%3A%200.2s%3B%20%20background%3A%20transparent%3B%20%20border-color%3A%20transparent%3B%20%20color%3A%20transparent%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-ms-fill-lower%20%7B%20%20background%3A%20%23b2b2b2%3B%20%20border%3A%200px%20solid%20%23000%3B%20%20border-radius%3A%200px%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-ms-fill-upper%20%7B%20%20background%3A%20%23b2b2b2%3B%20%20border%3A%200px%20solid%20%23000%3B%20%20border-radius%3A%200px%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-ms-thumb%20%7B%20%20margin-top%3A%201px%3B%20%20box-shadow%3A%200px%200px%201px%20%23000%3B%20%20border%3A%200px%20solid%20%23000%3B%20%20height%3A%2014px%3B%20%20width%3A%2014px%3B%20%20border-radius%3A%200px%3B%20%20background%3A%20%23fff%3B%20%20cursor%3A%20pointer%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3Afocus%3A%3A-ms-fill-lower%20%7B%20%20background%3A%20%23b2b2b2%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3Afocus%3A%3A-ms-fill-upper%20%7B%20%20background%3A%20%23b2b2b2%3B%7D.jumpstart-control-mute%20input%5Btype%3Drange%5D%3A%3A-ms-tooltip%20%7B%20%20display%3A%20none%3B%7D@charset%20%22UTF-8%22%3B@font-face%20%7B%20%20font-family%3A%20%22icons%22%3B%20%20src%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/fonts/icons.eot%22%29%3B%20%20src%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/fonts/icons.eot%3F%23iefix%22%29%20format%28%22embedded-opentype%22%29%2C%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/fonts/icons.woff%22%29%20format%28%22woff%22%29%2C%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/fonts/icons.ttf%22%29%20format%28%22truetype%22%29%2C%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/fonts/icons.svg%23icons%22%29%20format%28%22svg%22%29%3B%20%20font-weight%3A%20normal%3B%20%20font-style%3A%20normal%3B%7D%5Bdata-icon%5D%3Abefore%20%7B%20%20font-family%3A%20%22icons%22%20%21important%3B%20%20content%3A%20attr%28data-icon%29%3B%20%20font-style%3A%20normal%20%21important%3B%20%20font-weight%3A%20normal%20%21important%3B%20%20font-variant%3A%20normal%20%21important%3B%20%20text-transform%3A%20none%20%21important%3B%20%20speak%3A%20none%3B%20%20line-height%3A%201%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%7D%5Bclass%5E%3D%22jumpstart-control-%22%5D%3Abefore%2C%5Bclass*%3D%22%20jumpstart-control-%22%5D%3Abefore%20%7B%20%20font-family%3A%20%22icons%22%20%21important%3B%20%20font-style%3A%20normal%20%21important%3B%20%20font-weight%3A%20normal%20%21important%3B%20%20font-variant%3A%20normal%20%21important%3B%20%20text-transform%3A%20none%20%21important%3B%20%20speak%3A%20none%3B%20%20line-height%3A%201%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%20%20vertical-align%3A%20middle%3B%7D.jumpstart-control-big-play%3Abefore%20%7B%20%20content%3A%20%22%5C61%22%3B%20%20vertical-align%3A%20top%3B%20%20position%3A%20relative%3B%7D.jumpstart-control-play%3Abefore%20%7B%20%20content%3A%20%22%5C61%22%3B%7D.jumpstart-control-pause%3Abefore%20%7B%20%20content%3A%20%22%5C62%22%3B%7D.jumpstart-control-next%3Abefore%20%7B%20%20content%3A%20%22%5C63%22%3B%7D.jumpstart-control-previous%3Abefore%20%7B%20%20content%3A%20%22%5C64%22%3B%7D.jumpstart-control-rewind%3Abefore%20%7B%20%20content%3A%20%22%5C65%22%3B%7D.jumpstart-control-forward%3Abefore%20%7B%20%20content%3A%20%22%5C66%22%3B%7D.jumpstart-control-fullscreen%3Abefore%20%7B%20%20content%3A%20%22%5C67%22%3B%7D.jumpstart-control-normalscreen%3Abefore%20%7B%20%20content%3A%20%22%5C68%22%3B%7D.jumpstart-control-mute%3Abefore%20%7B%20%20content%3A%20%22%5C69%22%3B%7D.jumpstart-control-unmute%3Abefore%20%7B%20%20content%3A%20%22%5C6a%22%3B%7D.jumpstart-control-closed-captions%3Abefore%20%7B%20%20content%3A%20%22%5C6b%22%3B%7D.jumpstart-control-share%3Abefore%20%7B%20%20content%3A%20%22%5C6c%22%3B%7D.jumpstart-js%20%7B%20%20overflow%3A%20hidden%3B%20%20pointer-events%3A%20none%3B%20%20font-family%3A%20sans-serif%3B%20%20text-align%3A%20left%3B%20%20line-height%3A%20normal%3B%7D.jumpstart-js.jumpstart-player-ready%20%7B%20%20pointer-events%3A%20all%3B%7D.jumpstart-player-initializing%20.jumpstart-control-big-play%2C.jumpstart-video-changing%20.jumpstart-control-big-play%20%7B%20%20opacity%3A%200%3B%7D.jumpstart-player-initializing%20.jumpstart-control-loader%2C.jumpstart-video-changing%20.jumpstart-control-loader%20%7B%20%20opacity%3A%201%3B%7D.jumpstart-js%20video%2C.jumpstart-js%20.jumpstart-poster%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20opacity%3A%200%3B%20%20transition%3A%20all%200.3s%3B%20%20background-color%3A%20%23000%3B%20%20object-fit%3A%20contain%3B%7D.jumpstart-js%20.jumpstart-poster%20%7B%20%20z-index%3A%201%3B%7D.jumpstart-js%20.jumpstart-preview%20%7B%20%20z-index%3A%201%3B%7D.jumpstart-js%20.jumpstart-poster.jumpstart-poster-loaded%20%7B%20%20transform%3A%20scale%281%29%3B%20%20opacity%3A%201%3B%7D.jumpstart-js%20.jumpstart-poster.jumpstart-poster-lazy%20%7B%20%20transition%3A%20all%200.6s%3B%20%20transform%3A%20scale%281.05%29%3B%20%20filter%3A%20blur%286px%29%3B%7D.jumpstart-js.jumpstart-player-ready%20video%20%7B%20%20transition-delay%3A%200.3s%3B%20%20opacity%3A%201%3B%7D.jumpstart-js%3A-webkit-full-screen%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20padding-bottom%3A%200%3B%7D.jumpstart-js%3A-moz-full-screen%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20padding-bottom%3A%200%3B%7D.jumpstart-js%3A-ms-fullscreen%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20padding-bottom%3A%200%3B%7D.jumpstart-text-tracks-container%20%7B%20%20position%3A%20absolute%3B%20%20bottom%3A%201em%3B%20%20left%3A%2050%25%3B%20%20text-align%3A%20center%3B%20%20transform%3A%20translate%28-50%25%2C%200%29%3B%20%20z-index%3A%2010%3B%20%20transition%3A%20all%200.3s%3B%20%20width%3A%20100%25%3B%20%20max-width%3A%2090%25%3B%20%20text-align%3A%20center%3B%7D.jumpstart-text-tracks-container%20span%20%7B%20%20display%3A%20inline-block%3B%20%20background%3A%20%23000%3B%20%20box-shadow%3A%200%200%201px%20rgba%280%2C0%2C0%2C0.5%29%3B%20%20border-radius%3A%201px%3B%20%20padding%3A%200.2em%200.3em%3B%20%20color%3A%20%23fff%3B%20%20font-family%3A%20sans-serif%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%20%20letter-spacing%3A%200.15px%3B%20%20font-size%3A%200.9em%3B%7D.jumpstart-player-small%20.jumpstart-text-tracks-container%20span%20%7B%20%20font-size%3A%200.8em%3B%7D.jumpstart-controls-active%20.jumpstart-text-tracks-container%2C.jumpstart-controls-hover%20.jumpstart-text-tracks-container%2C.jumpstart-controls-focus%20.jumpstart-text-tracks-container%20%7B%20%20bottom%3A%203em%3B%7D.jumpstart-text-tracks-container%3Aempty%2C.jumpstart-text-tracks-container%20span%3Aempty%20%7B%20%20opacity%3A%200%20%21important%3B%7D.jumpstart-player-sticky%20%7B%20%20position%3A%20fixed%20%21important%3B%20%20top%3A%20auto%20%21important%3B%20%20right%3A%200%20%21important%3B%20%20bottom%3A%200%20%21important%3B%20%20left%3A%20auto%20%21important%3B%20%20width%3A%20400px%20%21important%3B%20%20height%3A%20225px%20%21important%3B%20%20padding-bottom%3A%200%20%21important%3B%20%20margin%3A%2015px%20%21important%3B%20%20overflow%3A%20visible%3B%20%20z-index%3A%20999%3B%20%20box-shadow%3A%200px%200px%202px%20rgba%280%2C0%2C0%2C0.5%29%3B%7D.jumpstart-player-sticky%20.jumpstart-recs-container%20%7B%20%20display%3A%20none%3B%7D.jumpstart-meta-bar%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20z-index%3A%202%3B%20%20background%3A%20linear-gradient%28to%20bottom%2C%20rgba%280%2C0%2C0%2C0.85%29%200%25%2C%20rgba%280%2C0%2C0%2C0.55%29%2075%25%2C%20rgba%280%2C0%2C0%2C0%29%20100%25%29%3B%20%20text-shadow%3A%200px%200px%201px%20%23000%3B%20%20color%3A%20%23fff%3B%20%20padding%3A%2010px%2010px%2020px%2010px%3B%20%20font-family%3A%20sans-serif%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%20%20letter-spacing%3A%200.2px%3B%20%20width%3A%20100%25%3B%20%20box-sizing%3A%20border-box%3B%20%20opacity%3A%200%3B%20%20transition%3A%20all%200.3s%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-js.jumpstart-controls-hover%20.jumpstart-meta-bar%2C.jumpstart-js.jumpstart-controls-active%20.jumpstart-meta-bar%2C.jumpstart-js.jumpstart-controls-focus%20.jumpstart-meta-bar%20%7B%20%20opacity%3A%201%3B%7D.jumpstart-js.jumpstart-ad-loading%20.jumpstart-meta-bar%2C.jumpstart-js.jumpstart-ad-paused%20.jumpstart-meta-bar%2C.jumpstart-js.jumpstart-ad-playing%20.jumpstart-meta-bar%20%7B%20%20opacity%3A%200%20%21important%3B%7D.jumpstart-player-title%2C.jumpstart-player-dek%20%7B%20%20width%3A%20100%25%3B%20%20white-space%3A%20nowrap%3B%20%20overflow%3A%20hidden%3B%20%20text-overflow%3A%20ellipsis%3B%20%20margin-top%3A%202px%3B%7D.jumpstart-player-title%20%7B%20%20font-weight%3A%20bold%3B%7D.jumpstart-recs-loaded.jumpstart-video-paused%3Anot%28.jumpstart-recs-hidden%29%3Anot%28.jumpstart-player-sticky%29%20.jumpstart-player-title%2C.jumpstart-recs-loaded.jumpstart-video-paused%3Anot%28.jumpstart-recs-hidden%29%3Anot%28.jumpstart-player-sticky%29%20.jumpstart-player-dek%2C.jumpstart-recs-loaded.jumpstart-video-ending%3Anot%28.jumpstart-recs-hidden%29%3Anot%28.jumpstart-player-sticky%29%20.jumpstart-player-title%2C.jumpstart-recs-loaded.jumpstart-video-ending%3Anot%28.jumpstart-recs-hidden%29%3Anot%28.jumpstart-player-sticky%29%20.jumpstart-player-dek%20%7B%20%20width%3A%2075%25%3B%20%20max-width%3A%20calc%28100%25%20-%20136px%29%3B%7D.jumpstart-js%5Bdata-hide-recs%3D%22true%22%5D%20.jumpstart-player-title%2C.jumpstart-js%5Bdata-hide-recs%3D%22true%22%5D%20.jumpstart-player-dek%20%7B%20%20width%3A%20100%25%20%21important%3B%20%20max-width%3A%20100%25%20%21important%3B%7D.jumpstart-js-error-dialog%20%7B%20%20width%3A%20100%25%3B%20%20text-align%3A%20center%3B%20%20position%3A%20absolute%3B%20%20top%3A%2050%25%3B%20%20left%3A%2050%25%3B%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%20%20z-index%3A%205%3B%20%20color%3A%20%23fff%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.9%29%3B%20%20padding%3A%2020px%3B%20%20box-sizing%3A%20border-box%3B%20%20text-transform%3A%20uppercase%3B%20%20opacity%3A%200%3B%20%20animation-name%3A%20errorFadeIn%3B%20%20animation-duration%3A%200.3s%3B%20%20animation-delay%3A%200.3s%3B%20%20animation-fill-mode%3A%20forwards%3B%7D.jumpstart-endslate-container%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20overflow%3A%20hidden%3B%20%20z-index%3A%2010%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20%20opacity%3A%200%3B%20%20animation-name%3A%20endSlateFadeIn%3B%20%20animation-duration%3A%200.3s%3B%20%20animation-fill-mode%3A%20forwards%3B%7D.thumbnail-wrapper%20%7B%20%20position%3A%20absolute%3B%20%20bottom%3A%200%3B%20%20height%3A%20175px%3B%7D.thumbnail-preview%20%7B%20%20position%3A%20absolute%3B%20%20bottom%3A%2025px%3B%20%20max-width%3A%20162px%3B%20%20border%3A%202px%20solid%20%23fff%3B%7D@-moz-keyframes%20errorFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-webkit-keyframes%20errorFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-o-keyframes%20errorFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@keyframes%20errorFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-moz-keyframes%20endSlateFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-webkit-keyframes%20endSlateFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@-o-keyframes%20endSlateFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D@keyframes%20endSlateFadeIn%20%7B%20%20from%20%7B%20%20%20%20opacity%3A%200%3B%20%20%7D%20%20to%20%7B%20%20%20%20opacity%3A%201%3B%20%20%7D%7D.jumpstart-recs-container%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20right%3A%200%3B%20%20width%3A%2025%25%3B%20%20min-width%3A%20136px%3B%20%20max-width%3A%20300px%3B%20%20height%3A%20100%25%3B%20%20z-index%3A%204%3B%20%20overflow%3A%20hidden%3B%20%20box-sizing%3A%20border-box%3B%20%20opacity%3A%200%3B%20%20pointer-events%3A%20none%3B%20%20transition%3A%20all%200.3s%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.65%29%3B%7D.jumpstart-controls-active%20.jumpstart-recs-container%20%7B%20%20height%3A%20calc%28100%25%20-%202.5em%29%3B%7D.jumpstart-recs-container%3Aafter%20%7B%20%20content%3A%20%22%22%3B%20%20position%3A%20absolute%3B%20%20bottom%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%203.2em%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-video-started.jumpstart-video-paused%20.jumpstart-recs-container%2C.jumpstart-video-started.jumpstart-video-ending%20.jumpstart-recs-container%20%7B%20%20opacity%3A%201%3B%20%20pointer-events%3A%20all%3B%7D.jumpstart-recs-hidden%20.jumpstart-recs-container%2C.jumpstart-ad-loading%20.jumpstart-recs-container%2C.jumpstart-ad-paused%20.jumpstart-recs-container%2C.jumpstart-ad-playing%20.jumpstart-recs-container%2C.jumpstart-video-changing%20.jumpstart-recs-container%2C.jumpstart-video-scrubbing%20.jumpstart-recs-container%2C.jumpstart-video-live.jumpstart-video-ending%20.jumpstart-recs-container%20%7B%20%20opacity%3A%200%20%21important%3B%20%20pointer-events%3A%20none%20%21important%3B%7D.jumpstart-recs-container%20.jumpstart-recs-list%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%201.3em%3B%20%20margin-top%3A%2012px%3B%20%20width%3A%20100%25%3B%20%20height%3A%20calc%28100%25%20-%201.2em%29%3B%20%20padding%3A%200%200%203.2em%200.5em%3B%20%20overflow-x%3A%20hidden%3B%20%20overflow-y%3A%20scroll%3B%20%20-webkit-overflow-scrolling%3A%20touch%3B%20%20box-sizing%3A%20border-box%3B%7D.jumpstart-recs-title%2C.jumpstart-recs-close-button%2C.jumpstart-recs-flyout%20.title%2C.jumpstart-recs-flyout%20.countdown%2C.jumpstart-recs-flyout%20.watched%20%7B%20%20display%3A%20inline-block%3B%20%20color%3A%20%23fff%3B%20%20font-family%3A%20sans-serif%3B%20%20-webkit-font-smoothing%3A%20antialiased%3B%20%20-moz-osx-font-smoothing%3A%20grayscale%3B%20%20letter-spacing%3A%200.2px%3B%20%20box-shadow%3A%200px%200px%201px%20rgba%280%2C0%2C0%2C0.5%29%3B%20%20padding%3A%200.16em%200.4em%200.16em%200.4em%3B%20%20font-size%3A%200.8em%3B%20%20transition%3A%20all%200.3s%3B%20%20margin-bottom%3A%202px%3B%7D.jumpstart-recs-title%20%7B%20%20box-shadow%3A%20none%3B%20%20padding%3A%208px%3B%20%20font-weight%3A%20bold%3B%7D.jumpstart-recs-flyout%3Alast-child%20.title%20%7B%20%20margin-bottom%3A%200%3B%7D.jumpstart-recs-close-button%20%7B%20%20font-size%3A%2024px%3B%20%20line-height%3A%2020px%3B%20%20box-shadow%3A%20none%3B%20%20position%3A%20relative%3B%20%20cursor%3A%20pointer%3B%20%20display%3A%20inline-block%3B%20%20float%3A%20right%3B%20%20box-sizing%3A%20border-box%3B%20%20padding%3A%200%204px%202px%3B%20%20top%3A%204px%3B%20%20right%3A%204px%3B%20%20margin-bottom%3A%200%3B%7D.jumpstart-recs-close-button%3Ahover%2C.jumpstart-recs-close-button%3Afocus%20%7B%20%20background%3A%20%23fff%3B%20%20color%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20%20outline%3A%20none%3B%7D.jumpstart-recs-flyout%20%7B%20%20position%3A%20relative%3B%20%20cursor%3A%20pointer%3B%20%20box-shadow%3A%200%200%201px%20rgba%280%2C0%2C0%2C0.5%29%3B%7D.jumpstart-recs-flyout%5Bdata-index%3D%220%22%5D%20%7B%20%20display%3A%20none%3B%7D.jumpstart-recs-flyout%3Afocus%20%7B%20%20outline%3A%20none%3B%7D.jumpstart-recs-flyout%3Ahover%20.title%2C.jumpstart-recs-flyout%3Afocus%20.title%20%7B%20%20background%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20%20color%3A%20%23fff%3B%7D.jumpstart-recs-flyout%20.countdown%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%7D.jumpstart-recs-flyout%20.watched%20%7B%20%20font-size%3A%200.7em%3B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%7D.jumpstart-recs-flyout%20.countdown%3Aempty%20%7B%20%20display%3A%20none%3B%7D.jumpstart-recs-flyout%20.thumbnail%20%7B%20%20width%3A%20100%25%3B%20%20height%3A%20auto%3B%20%20float%3A%20left%3B%7D.jumpstart-recs-flyout%20.title%20%7B%20%20font-size%3A%200.7em%3B%20%20max-height%3A%202.05em%3B%20%20line-height%3A%201.1em%3B%20%20overflow%3A%20hidden%3B%20%20display%3A%20-webkit-box%3B%20%20-webkit-line-clamp%3A%202%3B%20%20-webkit-box-orient%3A%20vertical%3B%20%20box-sizing%3A%20content-box%20%21important%3B%20%20background%3A%20%23fff%3B%20%20color%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20%20padding%3A%200.25em%3B%20%20margin-bottom%3A%208px%3B%7D.jumpstart-recs-list%3A%3A-webkit-scrollbar%20%7B%20%20width%3A%208px%3B%7D/*%20Handle%20*/.jumpstart-recs-list%3A%3A-webkit-scrollbar-thumb%20%7B%20%20background%3A%20%23fff%3B%20%20border%3A%201px%20solid%20rgba%280%2C0%2C0%2C0.95%29%3B%7D/*%20MOBILE%20*/.jumpstart-player-mobile%20.jumpstart-recs-container%20%7B%20%20width%3A%20100%25%3B%20%20min-width%3A%20100%25%3B%20%20max-width%3A%20100%25%3B%20%20height%3A%20auto%3B%20%20margin-top%3A%205px%3B%7D.jumpstart-player-mobile%20.jumpstart-controls-active%20.jumpstart-recs-container%20%7B%20%20height%3A%20auto%3B%7D.jumpstart-player-mobile%20.jumpstart-recs-container%20.jumpstart-recs-list%20%7B%20%20position%3A%20relative%3B%20%20top%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20overflow-y%3A%20hidden%3B%20%20overflow-x%3A%20scroll%3B%20%20white-space%3A%20nowrap%3B%20%20padding%3A%200%2020px%200%200%3B%20%20margin-top%3A%202px%3B%7D.jumpstart-player-mobile%20.jumpstart-recs-flyout%20%7B%20%20white-space%3A%20normal%3B%20%20display%3A%20inline-block%3B%20%20vertical-align%3A%20top%3B%20%20width%3A%2040%25%3B%20%20margin%3A%200px%205px%200px%205px%3B%7D.jumpstart-player-mobile%20.jumpstart-recs-flyout%5Bdata-index%3D%220%22%5D%20%7B%20%20display%3A%20none%3B%7D.jumpstart-player-mobile%20.jumpstart-recs-container%3Aafter%20%7B%20%20left%3A%20auto%3B%20%20bottom%3A%200%3B%20%20right%3A%200%3B%20%20width%3A%2025%25%3B%20%20height%3A%20calc%28100%25%20-%2025px%29%3B%20%20background%3A%20-moz-linear-gradient%28left%2C%20rgba%280%2C0%2C0%2C0%29%200%25%2C%20rgba%280%2C0%2C0%2C0.65%29%20100%25%29%3B%20%20background%3A%20-webkit-linear-gradient%28left%2C%20rgba%280%2C0%2C0%2C0%29%200%25%2C%20rgba%280%2C0%2C0%2C0.65%29%20100%25%29%3B%20%20background%3A%20linear-gradient%28to%20right%2C%20rgba%280%2C0%2C0%2C0%29%200%25%2C%20rgba%280%2C0%2C0%2C0.65%29%20100%25%29%3B%20%20pointer-events%3A%20none%3B%7D.jumpstart-player-mobile.jumpstart-recs-loaded.jumpstart-video-started%20.jumpstart-control-big-play%20%7B%20%20display%3A%20none%3B%7D.jumpstart-player-mobile%20.jumpstart-recs-list%3A%3A-webkit-scrollbar%20%7B%20%20height%3A%202px%3B%7D.jumpstart-js%5Bdata-hide-recs%3D%22true%22%5D%20.jumpstart-recs-container%20%7B%20%20display%3A%20none%3B%7D/*%20if%20the%20screen%20is%20especially%20small%20we%20shrink%20the%20control%20bar%20*/@media%20only%20screen%20and%20%28max-width%3A%20430px%29%20%7B%20%20.jumpstart-controls-active%20.jumpstart-recs-container%20%7B%20%20%20%20height%3A%20calc%28100%25%20-%202em%29%3B%20%20%7D%7D.jumpstart-social-share-container%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20left%3A%200%3B%20%20width%3A%20100%25%3B%20%20height%3A%20100%25%3B%20%20z-index%3A%2011%3B%20%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20%20display%3A%20none%3B%7D.jumpstart-sharing-overlay-active%20.jumpstart-social-share-container%20%7B%20%20display%3A%20block%3B%7D.jumpstart-social-share-title%20%7B%20%20font-size%3A%201.1em%3B%20%20letter-spacing%3A%200.3px%3B%20%20color%3A%20%23fff%3B%20%20padding%3A%2010px%2040px%2010px%2010px%3B%20%20display%3A%20block%3B%7D.jumpstart-social-share-close%20%7B%20%20position%3A%20absolute%3B%20%20top%3A%200%3B%20%20right%3A%200%3B%20%20background%3A%20%23fff%3B%20%20width%3A%2020px%3B%20%20height%3A%2020px%3B%20%20text-align%3A%20center%3B%20%20margin%3A%2010px%3B%20%20transition%3A%20all%200.3s%3B%20%20font-size%3A%2018px%3B%20%20line-height%3A%2018px%3B%7D.jumpstart-social-share-close%3Ahover%20%7B%20%20transform%3A%20scale%281.1%29%3B%7D.jumpstart-social-share-link%20%7B%20%20width%3A%2040px%3B%20%20height%3A%2030px%3B%20%20background-size%3A%2020px%3B%20%20background-position%3A%20center%20center%3B%20%20background-repeat%3A%20no-repeat%3B%20%20display%3A%20inline-block%3B%20%20margin%3A%2010px%3B%20%20background-color%3A%20%23fff%3B%7D.jumpstart-share-link--facebook%20%7B%20%20background-image%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/assets/facebook.svg%22%29%3B%7D.jumpstart-share-link--twitter%20%7B%20%20background-image%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/assets/twitter.svg%22%29%3B%7D.jumpstart-share-link--pinterest%20%7B%20%20background-image%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/assets/pintrest.svg%22%29%3B%7D.jumpstart-share-link--linkedin%20%7B%20%20background-image%3A%20url%28%22https%3A//cdn.video.timeinc.com/jumpstart/v4/assets/linkedin.svg%22%29%3B%7D.jumpstart-social-share-direct-link%2C.jumpstart-social-share-embed-code%20%7B%20%20display%3A%20block%3B%20%20margin%3A%2010px%3B%20%20border%3A%20none%3B%20%20padding%3A%205px%3B%20%20width%3A%20calc%28100%25%20-%2020px%29%3B%20%20box-sizing%3A%20border-box%3B%7D.jumpstart-player-small%20.jumpstart-social-share-title%20%7B%20%20padding%3A%2010px%2040px%200%2010px%3B%20%20white-space%3A%20nowrap%3B%20%20overflow%3A%20hidden%3B%20%20text-overflow%3A%20ellipsis%3B%7D/*%20support%20for%20disabled%20sharing%20*/.jumpstart-player-no-share%20.jumpstart-control.jumpstart-control-share%20%7B%20%20display%3A%20none%3B%7D"),document.head.appendChild(t)}(),function(){var b,c;if(b=this,c=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t){return null!=t?t.constructor:null}function n(t,e){return!!(t&&e&&t instanceof e)}function r(t){return null==t}function a(t){return e(t)===Object}function i(t){return e(t)===String}function s(t){return Array.isArray(t)}function o(t){return n(t,NodeList)}var u,l,c={addCSS:!0,thumbWidth:15,watch:!0},d=i,p=s,f=o,h=function(t){return n(t,Element)},m=function(t){return n(t,Event)},g=function(t){return r(t)||(i(t)||s(t)||o(t))&&!t.length||a(t)&&!Object.keys(t).length};return l=[{key:"setup",value:function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=null;if(g(n)||d(n)?t=Array.from(document.querySelectorAll(d(n)?n:'input[type="range"]')):h(n)?t=[n]:f(n)?t=Array.from(n):p(n)&&(t=n.filter(h)),g(t))return null;var r=Object.assign({},c,e);return d(n)&&r.watch&&new MutationObserver(function(t){Array.from(t).forEach(function(t){Array.from(t.addedNodes).forEach(function(t){var e;h(t)&&function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e=n)&&new v(t,r)})})}).observe(document.body,{childList:!0,subtree:!0}),t.map(function(t){return new v(t,e)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],t((u=v).prototype,[{key:"init",value:function(){v.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){v.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var e=this,n=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(t){e.element[n](t,function(t){return e.set(t)},!1)})}},{key:"get",value:function(t){if(!v.enabled||!m(t))return null;var e,n=t.target,r=t.changedTouches[0],a=parseFloat(n.getAttribute("min"))||0,i=parseFloat(n.getAttribute("max"))||100,s=parseFloat(n.getAttribute("step"))||1,o=n.getBoundingClientRect(),u=100/o.width*(this.config.thumbWidth/2)/100;return(e=100/o.width*(r.clientX-o.left))<0?e=0:100<e&&(e=100),e<50?e-=(100-2*e)*u:50<e&&(e+=2*(e-50)*u),a+function(t,e){if(e<1){var n=(r="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0;return parseFloat(t.toFixed(n))}var r;return Math.round(t/e)*e}(e/100*(i-a),s)}},{key:"set",value:function(t){v.enabled&&m(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(t,e){if(t&&e){var n=new Event(e);t.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}]),t(u,l),v;function v(t,e){(function(t){if(!(t instanceof v))throw new TypeError("Cannot call a class as a function")})(this),h(t)?this.element=t:d(t)&&(this.element=document.querySelector(t)),h(this.element)&&g(this.element.rangeTouch)&&(this.config=Object.assign({},c,e),this.init())}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define("RangeTouch",c):b.RangeTouch=c(),window.jumpstart){console.warn("The Jumpstart library has already been loaded. Killing new instance.");for(var i=0;i<window.jumpstart.players.length;i++)window.jumpstart.initializePlayer(window.jumpstart.players[i])}else if(window.bcJumpstart){console.warn("A Previous Version Of The Jumpstart library has already been loaded. Killing new instance.");for(var i=0;i<window.bcJumpstart.players.length;i++)window.bcJumpstart.players[i].classList.remove("jumpstart-js"),window.bcJumpstart.start(window.bcJumpstart.players[i])}else{var C1,D1;if(!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ns_=t()}(function(){return function i(s,o,u){function l(e,t){if(!o[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=o[e]={exports:{}};s[e][0].call(a.exports,function(t){return l(s[e][1][t]||t)},a,a.exports,i,s,o,u)}return o[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){var u=t(24),l=t(26),c=t(36);e.exports=function(e){var t=this,n=!1,r=-1,a=null;function i(t){r=t,e.t().set("plannedFlushTime",t+"")}function s(){e.flush(),i(-1),t.i()}function o(){a&&(c.clearTimeout(a),a=null)}u.extend(t,{start:function(){n=!0,!a&&0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()&&(e.t().has("plannedFlushTime")&&(r=l.o(e.t().get("plannedFlushTime"),-1)),t.i())},stop:function(){n=!1,o()},update:function(){0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()?!a&&n?(i(-1),t.start()):null!=a&&(i(0<e.getCacheFlushingInterval()?+new Date+1e3*e.getCacheFlushingInterval():-1),a&&(c.clearTimeout(a),t.i())):(i(-1),o())},i:function(){r<0&&i(+new Date+1e3*e.getCacheFlushingInterval()),a=c.setTimeout(s,r-new Date)}})}},{24:24,26:26,36:36}],2:[function(t,e,n){var r=t(5),a=t(8).TransmissionMode,i=t(8).u,s=new r,o={TransmissionMode:a,getCore:function(){return s},setAppContext:function(t){s.setAppContext(t)},setEnabled:function(t){s.setEnabled(t)},getEnabled:function(){return s.getEnabled()},onUxActive:function(){s.onUxActive()},onUxInactive:function(){s.onUxInactive()},onEnterForeground:function(){s.onEnterForeground()},onExitForeground:function(){s.onExitForeground()},onUserInteraction:function(){s.onUserInteraction()},update:function(){s.update()},enableAutoUpdate:function(t,e){s.enableAutoUpdate(t,void 0===e||e)},disableAutoUpdate:function(){s.disableAutoUpdate()},isAutoUpdateEnabled:function(){return s.isAutoUpdateEnabled()},start:function(t){s.s(i.l,t||{})},view:function(t){s.s(i.v,t||{})},hidden:function(t){s.s(i.HIDDEN,t||{})},close:function(t){s.s(i.h,t)},aggregate:function(t){s.s(i._,t)},getPixelURL:function(){return s.getPixelURL()},setPixelURL:function(t){s.setPixelURL(t)},getCustomerC2:function(){return s.getCustomerC2()},setCustomerC2:function(t){s.setCustomerC2(t)},getAppName:function(){return s.getAppName()},setAppName:function(t){s.setAppName(t)},getAppVersion:function(){return s.getAppVersion()},setAppVersion:function(t){s.setAppVersion(t)},getGenesis:function(){return s.getGenesis()},getVisitorID:function(){return s.getVisitorId()},setVisitorId:function(t,e){s.setVisitorId(t,e)},getCrossPublisherId:function(){return s.getCrossPublisherId()},getOfflineTransmissionMode:function(){return s.getOfflineTransmissionMode()},allowOfflineTransmission:function(t){s.allowOfflineTransmission(t)},getLiveTransmissionMode:function(){return s.getLiveTransmissionMode()},allowLiveTransmission:function(t){s.allowLiveTransmission(t)},getPublisherSecret:function(){return s.g()},setPublisherSecret:function(t){s.m(t)},flushCache:function(){s.flush()},clearOfflineCache:function(){s.I().clear()},setLabel:function(t,e){s.setLabel(t,e)},getLabel:function(t){return s.getLabel(t)},setLabels:function(t){s.setLabels(t)},getLabels:function(){return s.getLabels()},setAutoStartLabels:function(t){s.setAutoStartLabels(t)},getAutoStartLabel:function(t){return s.getAutoStartLabel(t)},getAutoStartLabels:function(){return s.getAutoStartLabels()},setAutoStartLabel:function(t,e){s.setAutoStartLabel(t,e)},isKeepAliveEnabled:function(){return s.S().isEnabled()},setKeepAliveEnabled:function(t){s.setKeepAliveEnabled(!!t)},setCacheMaxMeasurements:function(t){s.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return s.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(t){s.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return s.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(t){s.setCacheMaxFlushesInARow(t)},getCacheMaxFlushesInARow:function(){return s.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(t){s.setCacheMinutesToRetry(t)},getCacheMinutesToRetry:function(){return s.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(t){s.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return s.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return s.getCacheFlushingInterval()},setCacheFlushingInterval:function(t){s.setCacheFlushingInterval(t)},setSecure:function(t){s.setSecure(t)},isSecure:function(){return s.isSecure()},getMeasurementLabelOrder:function(){return s.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(t){s.setMeasurementLabelOrder(t)},setAutoStartEnabled:function(t){s.setAutoStartEnabled(t)},isAutoStartEnabled:function(){return s.isAutoStartEnabled()},getVersion:function(){return s.getVersion()},getPlatformAPI:function(){return s.getPlatformAPI()},setPlatformAPI:function(t){s.setPlatformAPI(t)},setOfflineURL:function(t){s.setOfflineURL(t)},clearInternalData:function(){s.clearInternalData()},cacheHttpRedirects:function(){s.cacheHttpRedirects()}};e.exports=o},{5:5,8:8}],3:[function(t,e,n){var p=t(24),f=t(36),h=t(8).TransmissionMode;e.exports=function(e){var n,r=1e3,a=!1,i=null,s=null,o=-1;function u(){e.flush(),o=-1,i=null}function l(){i&&(f.clearTimeout(i),i=null)}function c(t){var e=+new Date;a?(l(),(o<e||o<0||!t)&&(o=3e4+e),i=f.setTimeout(u,o-e)):o<0&&(o=3e4+e)}function d(){var t=f.isConnectionAvailable();t!=n&&((n=t)?e.getOfflineTransmissionMode()!=h.NEVER&&e.getOfflineTransmissionMode()!=h.DISABLED&&c(!1):(l(),o=-1)),a&&(s=f.setTimeout(d,r))}p.extend(this,{start:function(){a=!0,n&&0<o&&c(!0),s=f.setTimeout(d,r)},stop:function(){f.clearTimeout(s),s=null,a=!1,l()}})}},{24:24,36:36,8:8}],4:[function(t,e,n){e.exports={PAGE_NAME_LABEL:"name",P:2048,A:4096,C:"previousVersion",k:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(t,e,n){var _t=t(8).T,wt=t(8).N,Et=t(4),St=t(26),r=t(17),Tt=t(8).u,kt=t(36),Dt=t(21),Lt=t(24),xt=t(22),Ct=t(25),Rt=t(6),Bt=t(11),jt=t(7),It=t(9),Pt=t(12).L,Ot=t(1),Nt=t(3),Mt="undefined",Ft=r.D,Ut="http://b.scorecardresearch.com/p2?",Gt="https://sb.scorecardresearch.com/p2?",Vt="exitCode",Kt="lastApplicationAccumulationTimestamp",Ht="lastSessionAccumulationTimestamp",zt="lastApplicationSessionTimestamp",Wt="lastUserSessionTimestamp",Yt="lastActiveUserSessionTimestamp",qt="foregroundTransitionsCount",Xt="accumulatedForegroundTime",Jt="accumulatedBackgroundTime",Qt="accumulatedInactiveTime",Zt="totalForegroundTime",$t="totalBackgroundTime",te="totalInactiveTime",ee="accumulatedApplicationSessionTime",ne="accumulatedActiveUserSessionTime",re="accumulatedUserSessionTime",ae="activeUserSessionCount",ie="userSessionCount",se="lastUserInteractionTimestamp",oe="userInteractionCount",ue="applicationSessionCountKey",le="genesis",ce="previousGenesis",de="installId",pe="firstInstallId",fe="currentVersion",he="runs",me="coldStartCount",ge="crossPublisherIdHashed",ve="crossPublisherId";e.exports=function(){var e,a,i,s,o,u,n,r,l,c,d,t,p,f,h,m,g,v,y,b,A,_,w,E,S,T,k,D,L,x,C,R,B,j,I,P,O,N,M,F,U,G,V,K,H,z,W,Y,q,X,J,Q,Z,$,tt=this,et=!0,nt=!1,rt=!0,at=_t.R,it=wt.R,st=!1,ot=!1,ut=!1,lt=!0,ct=!1,dt=0;function pt(t){return a.has(t)?a.get(t)+"":null}function ft(){var t=+new Date,e=!1;return 18e5<t-O&&(L=D,D=t,j++,e=!0),O=t,e}function ht(t){if(Z){t=typeof t==Mt||t;var e=+new Date,n=e-x;switch(at){case _t.H:T+=n,_+=n;break;case _t.Y:S+=n,w+=n;break;case _t.R:k+=n,E+=n}x=e,t&&(a.set(Kt,x+""),a.set(qt,A+""),a.set(Xt,T+""),a.set(Jt,S+""),a.set(Qt,k+""),a.set(Zt,_+""),a.set($t,w+""),a.set(te,E+""))}}function mt(t){if(Z){t=typeof t==Mt||t;var e=+new Date,n=e-G;switch(it){case wt.F:B+=n,M=e;case wt.G:R+=n,N=e;case wt.K:C+=n,O=e;break;case wt.R:}G=e,t&&(a.set(Ht,G+""),a.set(zt,O+""),a.set(Wt,N+""),a.set(Yt,M+""),a.set(ee,C+""),a.set(ne,B+""),a.set(re,R+""),a.set(ae,P+""),a.set(ie,I+""),a.set(se,U+""),a.set(oe,F+""),a.set(ce,L+""),a.set(le,D+""),a.set(ue,j+""))}}function gt(){if(Z){var t,e,n=+new Date;t=0<y?_t.H:0<b?_t.Y:_t.R,e=n-U<3e5?wt.F:0<b?wt.G:0<y?wt.K:wt.R;var r=it;if(t!=at||e!=r){var a=!1;at!=t&&(function(){if(Z)switch(at){case _t.R:o.J(!1),i.X(),i.Z(),u.start(),s.start();break;case _t.Y:bt();break;case _t.H:tt.nn(null),bt()}}(),function(){if(Z)switch(t){case _t.R:u.stop(),i.pause(),s.stop(),bt(),o.J(!0);break;case _t.Y:et||yt();break;case _t.H:yt(),A++}}(),ht(),at=t,a=!0),r!=e&&(function(t){if(Z){var e=+new Date;switch(t){case wt.F:null!=V&&(kt.clearTimeout(V),V=null),M=e;case wt.G:N=e;case wt.K:O=e;break;case wt.R:ft()||(C+=e-G)}}}(it),function(t){if(Z)switch(t){case wt.F:3e5<=(n=+new Date)-M&&P++,M=n,tt.j();case wt.G:3e5<=(e=+new Date)-N&&I++,N=e;case wt.K:ft();break;case wt.R:}var e,n}(e),mt(),it=e),a&&(Z&&at!=_t.R&&tt.isAutoStartEnabled()&&!nt&&tt.s(Tt.l,Q))}}}function vt(t,e){Z&&(Dt.tn(t)?(e=Dt.tn(e)?"-cs"+e:"",H=t+e):null==H&&ct&&(H=xt(kt.getVisitorId()+tt.g()),"function"==typeof kt.getVisitorIdSuffix&&null!=kt.getVisitorIdSuffix()&&(H=H+"-cs"+kt.getVisitorIdSuffix())),a.set("vid",H+""))}function yt(){if(Z&&(bt(),!(c<6e4))){var t=function(){tt.update(),null!=r&&kt.setTimeout(t,c)};r=kt.setTimeout(t,c)}}function bt(){Z&&null!=r&&(kt.clearTimeout(c),r=null)}function At(){return!ct||null==Y||0===Y.length||null==K||0===K.length}Lt.extend(tt,{isProperlyInitialized:function(){return!At()},reset:function(){Z&&(n.reset(),at=_t.R,it=wt.R,nt=!1,g=m=null,X=F=L=R=B=C=k=T=S=E=w=_=b=y=p=d=0,ot=st=!(h=f=M=N=O=G=x=U=I=P=D=t=-1),tt.disableAutoUpdate(),null!=V&&(kt.clearTimeout(V),V=null),null!=i&&i.cancel(),null!=s&&s.stop(),null!=o&&(o.en(),o=new jt(tt)))},M:function(t){a=t||new kt.Storage},O:function(t){e=t||new Pt(tt)},W:function(t){s=t||new Ot(tt)},V:function(t){u=new Nt(tt)},in:function(){var t=pt("AppName");null!=t&&tt.setAppName(t);var e=pt("AppVersion");null!=e&&tt.setAppVersion(e)},rn:function(){Z&&a.has("vid")&&(H=a.get("vid"))},un:function(){Z&&(d++,a.set(he,d+""))},sn:function(){return!nt&&(nt=!0,p++,a.set(me,p+""),t=+new Date,!0)},j:function(){Z&&(null!=V&&(kt.clearTimeout(V),V=null),V=kt.setTimeout(function(){null!=V&&(kt.clearTimeout(V),V=null),gt()},3e5))},I:function(){return e},an:function(){return u},t:function(){return a},fn:function(){return o},S:function(){return i},cn:function(){return s},ln:function(){return n},onUxActive:function(){Z&&(At()||(I<0&&(I=0),b++,gt()))},onUxInactive:function(){Z&&(At()||0<b&&(b--,gt()))},onEnterForeground:function(){Z&&(At()||(y++,gt()))},onExitForeground:function(){Z&&(At()||0<y&&(y--,gt()))},onUserInteraction:function(){Z&&(At()||(I<0&&(I=0),P<0&&(P=0),U=+new Date,F++,it!=wt.F?gt():tt.j()))},pn:function(){return at},vn:function(){return it},dn:function(){return d},hn:function(){return f},_n:function(){return h},gn:function(){return t},mn:function(){return p},wn:function(){return g},yn:function(t){g=t},bn:function(t){var e=A;return(t=typeof t==Mt||t)&&(A=0,a.set(qt,A+"")),e},In:function(t){var e=_;return(t=typeof t==Mt||t)&&(_=0,a.set(Zt,_+"")),e},Sn:function(t){var e=T;return(t=typeof t==Mt||t)&&(T=0,a.set(Xt,T+"")),e},Pn:function(t){var e=w;return(t=typeof t==Mt||t)&&(w=0,a.set($t,w+"")),e},An:function(t){var e=S;return(t=typeof t==Mt||t)&&(S=0,a.set(Jt,S+"")),e},Cn:function(t){var e=E;return(t=typeof t==Mt||t)&&(E=0,a.set(te,E+"")),e},kn:function(t){var e=k;return(t=typeof t==Mt||t)&&(k=0,a.set(Qt,k+"")),e},En:function(t){var e=C;return(t=typeof t==Mt||t)&&(C=0,a.set(ee,C+"")),e},Tn:function(t){var e=B;return(t=typeof t==Mt||t)&&(B=0,a.set(ne,B+"")),e},Nn:function(t){var e=R;return(t=typeof t==Mt||t)&&(R=0,a.set(re,R+"")),e},Ln:function(){return c},Dn:function(t){var e=j;return(t=typeof t==Mt||t)&&(j=0,a.set(ue,j+"")),e},Rn:function(t){t=typeof t==Mt||t;var e=-1;return 0<=P&&(e=P,t&&(P=0,a.set(ae,P+""))),e},Mn:function(t){t=typeof t==Mt||t;var e=-1;return 0<=I&&(e=I,t&&(I=0,a.set(ie,I+""))),e},On:function(t){var e=F;return(t=typeof t==Mt||t)&&(F=0,a.set(oe,F+"")),e},setAppContext:function(){ct||(kt.autoDetect(),tt.M(),o=new jt(tt),i=new It(tt),tt.O(),tt.W(),tt.V(),l=new Bt(tt),n=new Rt,function(){x=St.o(a.get(Kt),-1),G=St.o(a.get(Ht),-1),O=St.o(a.get(zt),-1),N=St.o(a.get(Wt),-1),M=St.o(a.get(Yt),-1),A=St.U(a.get(qt)),T=St.o(a.get(Xt)),S=St.o(a.get(Jt)),k=St.o(a.get(Qt)),_=St.o(a.get(Zt)),w=St.o(a.get($t)),E=St.o(a.get(te)),C=St.o(a.get(ee)),B=St.o(a.get(ne)),R=St.o(a.get(re)),P=St.U(a.get(ae),-1),I=St.U(a.get(ie),-1),U=St.o(a.get(se),-1),F=St.U(a.get(oe),0),j=St.U(a.get(ue),0),X=a.get(Vt)?parseInt(a.get(Vt)):0,m=kt.getAppVersion(),L=St.o(a.get(ce),0),(D=St.o(a.get(le),-1))<0?(D=+new Date,L=0,O=D,j++):(ft()||(C+=new Date-G,a.set(ee,C+"")),O=D),(h=St.o(a.get(pe),-1))<0?(f=h=D,m&&m!=Ft&&a.set(fe,m+""),a.set(pe,h+""),a.set(de,f+"")):tt.setAppVersion(m),a.set(le,D+""),a.set(ce,L+""),tt.B(D);var t=+new Date;if(0<=x){var e=t-x;k+=e,a.set(Qt,k+""),E+=e,a.set(te,E+"")}G=x=t,a.set(Kt,x+""),a.set(Ht,G+""),a.set(zt,O+""),a.has(he)||a.set(he,"0"),d=St.U(a.get(he)),p=St.U(a.get(me))}(),tt.in(),tt.rn(),ct=!0)},setEnabled:function(t){Z&&null!=t&&!t&&(Z=!1,s.stop(),u.stop(),i.pause())},getEnabled:function(){return Z},Wn:function(){return{}},Vn:function(){return v},nn:function(t){v=t},setPixelURL:function(t){if(Z){if(null==t||0===t.length)return null;st=!0;var e=t.indexOf("?");if(0<=e){if(e<t.length-1){for(var n=t.substring(e+1).split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");2==i.length?tt.setLabel(i[0],i[1]):1==i.length&&tt.setLabel(Et.PAGE_NAME_LABEL,i[0])}t=t.substring(0,e+1)}}else t+="?";return K=t}},setKeepAliveEnabled:function(t){Z&&i.xn(t)},getPixelURL:function(){return K},getCrossPublisherId:function(){return z},isCrossPublisherIdChanged:function(){return kt.isCrossPublisherIdChanged()||ut},getVisitorId:function(){return null==H&&vt(),H},setVisitorId:vt,Un:function(){var t=(kt.getCrossPublisherId()||"null").split(" "),e=t[0]&&"null"!=t[0]?t[0]:null,n="true"==t[1];if(null!=e){z||(W=a.get(ge),z=a.get(ve));var r=null;z?"none"==e&&"none"==z||!lt&&"none"==z||"none"!=e&&(r=xt(e))==W||(z=n?"none"==e?(W=null,"none"):(W=r,Ct(e)):(ut=!0,lt&&"none"!=e?(W=xt(e),Ct(e)):(W=null,"none")),a.set(ve,z),null==W?a.remove(ge):a.set(ge,W)):(z="none"==e?(W=null,"none"):(W=xt(e),Ct(e)),a.set(ve,z),null==W?a.remove(ge):a.set(ge,W)),lt=!1}else z=W=null},m:function(t){return null==t||0===t.length||(Y=t),tt},g:function(){return null==Y&&(Y=""),Y},setAppName:function(t){Z&&(q=t)},getAppName:function(){return null!=q&&0!==q.length||tt.setAppName(kt.getAppName()),q},setAppVersion:function(t){var e;a&&(t&&t!=Ft?(a.has(Et.C)&&(g=a.get(Et.C)+""),a.has(fe)&&(e=a.get(fe)+""),e&&e!==t?(g=e,a.set(Et.C,g+""),f=D,a.set(de,f+"")):f=St.o(a.get(de),-1),a.set(fe,t+"")):f=St.o(a.get(de),-1)),m=t},getAppVersion:function(){return m},getVersion:function(){return"6.3.3.190211"},getGenesis:function(){return D},Bn:function(){return L},B:function(t){a.set(Vt,t.toString(10))},Fn:function(){return X},getLabels:function(){return J},setLabels:function(t){if(Z)for(var e in t)t.hasOwnProperty(e)&&tt.setLabel(e,t[e])},getLabel:function(t){return J[t]},setLabel:function(t,e){Z&&(!t||e?J[t]=e:delete J[t])},setAutoStartLabels:function(t){Z&&null!=t&&Lt.extend(Q,t)},getAutoStartLabel:function(t){return Q[t]},getAutoStartLabels:function(){return Q},setAutoStartLabel:function(t,e){Z&&(Q[t]=e)},getCustomerC2:function(){return J.c2},setCustomerC2:function(t){if(Z&&null!=t&&0!==t.length){var e=n.isSecure()?Gt:Ut;tt.setPixelURL(e),st=!1,tt.setLabel("c2",t)}},getLiveTransmissionMode:function(){return n.getLiveTransmissionMode()},allowLiveTransmission:function(t){Z&&n.getLiveTransmissionMode()!=t&&n.allowLiveTransmission(t)},getOfflineTransmissionMode:function(){return n.getOfflineTransmissionMode()},allowOfflineTransmission:function(t){Z&&n.getOfflineTransmissionMode()!=t&&n.allowOfflineTransmission(t)},setSecure:function(t){Z&&(this.getCustomerC2()||(ot=!0,n.isSecure()!=t&&n.setSecure(t)))},jn:function(t){if(!ot&&(n.setSecure(!!t),null!=o&&o.Gn(Rt.Kn,!!t),tt.getCustomerC2()&&!st)){var e=n.isSecure()?Gt:Ut;tt.setPixelURL(e),st=!1}},setAutoStartEnabled:function(t){Z&&(rt=t)},isAutoStartEnabled:function(){return rt},isSecure:function(){return n.isSecure()},setCacheMaxMeasurements:function(t){null!=e&&e.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return null!=e?e.getCacheMaxMeasurements():Pt.qn},setCacheMaxBatchFiles:function(t){null!=e&&e.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return null!=e?e.getCacheMaxBatchFiles():Pt.Hn},setCacheMaxFlushesInARow:function(t){null!=e&&e.Yn(t)},getCacheMaxFlushesInARow:function(){return null!=e?e.Jn():Pt.zn},setCacheMinutesToRetry:function(t){null!=e&&e.Qn(t)},getCacheMinutesToRetry:function(){return null!=e?e.Xn():Pt.Zn},setCacheMeasurementExpiry:function(t){null!=e&&e.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return null!=e?e.getCacheMeasurementExpiry():Pt.$n},getCacheFlushingInterval:function(){return dt},setCacheFlushingInterval:function(t){Z&&dt!=t&&(dt=t,null!=s&&s.update())},getMeasurementLabelOrder:function(){return n.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(t){Z&&t!=n.getMeasurementLabelOrder()&&n.setMeasurementLabelOrder(t)},flush:function(){e.flush(n,function(){})},update:function(t){Z&&(ht(t=typeof t==Mt||t),mt(t))},enableAutoUpdate:function(t,e){Z&&(t=t||60,bt(),t<60&&(t=60),et=e,c=1e3*t,at!=_t.H&&(at!=_t.Y||et)||yt())},disableAutoUpdate:function(){Z&&(bt(),et=!0,c=-1)},isAutoUpdateEnabled:function(){return 0<c},s:function(t,e){Z&&(At()||(nt||t==Tt.l||l.send(Tt.l,{},st?K:null),t==Tt.h?(tt.B(0),tt.update(!0)):l.send(t,e,st?K:null)))},nt:function(t,e){l.send(Tt.HIDDEN,t,e)},setOfflineURL:function(t){Z&&e.tt(t)},getPlatformAPI:function(){return kt},setPlatformAPI:function(t){kt.setPlatformAPI(t)},et:function(){return l},clearInternalData:function(){a&&a.clear()},cacheHttpRedirects:function(t){$=t},it:function(){return $}}),n=new Rt,J={},Q={},$=Z=!0,tt.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(t,e,n){var i=t(24),s=t(8).TransmissionMode,o=t(36),u=t(4);function r(){var e,n,r,a;i.extend(this,{reset:function(){e=s.DEFAULT,n=s.DEFAULT,r=o.isConnectionSecure(),a=u.k},rt:function(t){e=t.getLiveTransmissionMode(),n=t.getOfflineTransmissionMode(),a=t.getMeasurementLabelOrder(),r=t.isSecure()},ot:function(t,e){switch(t){case 0:this.allowLiveTransmission(e);break;case 1:this.allowOfflineTransmission(e);break;case 2:this.setSecure(e);break;case 3:this.setMeasurementLabelOrder(e)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return n},allowOfflineTransmission:function(t){null!=t&&(n=t)},isSecure:function(){return r},setSecure:function(t){r=t},getMeasurementLabelOrder:function(){return a},setMeasurementLabelOrder:function(t){null!=t&&0<t.length&&(a=t)}}),this.reset()}r.ut=0,r.st=1,r.Kn=2,r.at=3,e.exports=r},{24:24,36:36,4:4,8:8}],7:[function(t,e,n){var a=t(24),g=t(13),i="q_dcf",v="q_dcc";e.exports=function(s){var n,o,r,u,l,t,c=[],d=!1;function p(t){return t-o<1e3&&20<=n}function f(t){return t-u<864e5&&6e3<=r}function h(t){864e5<t-u&&(r=0,u=t),1e3<t-o&&(n=0,o=t),r++,n++;var e=s.t();e.set(v,r+""),e.set(i,u+"")}function m(){var t,e=+new Date;if(d)for(;c.length;){var n=c.shift();r=n,s.I().ft(r)}else{for(var r,a,i;c.length&&!p(i=e)&&!f(i);)h(e),a=n=c.shift(),new g(s,s.ln(),a).send();t=e,c.length&&(l||(p(t)?l=s.getPlatformAPI().setTimeout(function(){l=null,m()},o+1e3-t):f(t)&&(l=s.getPlatformAPI().setTimeout(function(){l=null,m()},u+864e5-t))))}}a.extend(this,{ct:function(t){s.getEnabled()&&(c.push(t),m())},en:function(){s.getPlatformAPI().clearTimeout(l),c.length=0},J:function(t){d=t,s.getPlatformAPI().clearTimeout(l),m()}}),t=s.t(),u=t.has(v)&&t.has(i)?(r=parseInt(t.get(v)),parseInt(t.get(i))):(r=0,+new Date),n=0,o=+new Date}},{13:13,24:24}],8:[function(t,e,n){var r={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(t){return null==t||"DEFAULT"==t?r.DEFAULT:"NEVER"==t?r.NEVER:"WIFIONLY"==t?r.WIFIONLY:"PIGGYBACK"==t?r.PIGGYBACK:"DISABLED"==t?r.DISABLED:void 0}};n.TransmissionMode=r,n.N={R:0,K:1,G:2,F:3},n.T={R:0,Y:1,H:2},n.u={l:"start",v:"view",h:"close",_:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(t,e,n){var u=t(36),l=t(8).u,c=t(24);e.exports=function(t){var e=this,n=null,r=NaN,a=!0,i=864e5;function s(){r=+new Date+i,o()}function o(){t.et().send(l.KEEPALIVE)}c.extend(e,{xn:function(t){(a=t)?(e.X(),e.Z()):e.cancel()},isEnabled:function(){return a},Z:function(){a&&(e.cancel(),r=+new Date+i,n=u.setInterval(s,i))},X:function(){if(a){var t=+new Date;r&&r<=t&&o()}},pause:function(){e.cancel()},cancel:function(){n&&(u.clearInterval(n),n=null)}})}},{24:24,36:36,8:8}],10:[function(t,e,n){var c=t(24),r=t(21),o=t(8).u,a=t(17),u=t(36),s=t(4),A="undefined",i=a.D,d=typeof encodeURIComponent!=A?encodeURIComponent:escape,l=function(t){return r.lt(t)?t:i},p=function(t){return t==o.l||t==o.h||t==o.v?o.v:o.HIDDEN};function f(t){var e,l={};c.extend(this,{pt:function(t){delete l[t]},vt:function(t){if(null!=t)for(var e in t)t.hasOwnProperty(e)&&this.setLabel(e,t[e])},setLabel:function(t,e){l[t]=e},getLabel:function(t){return l[t]},getLabels:function(){return l},dt:function(t){return l.hasOwnProperty(t)},ht:function(t){for(var e=[],n=c.extend({},l),r=0,a=t.length;r<a;r++){var i=t[r],s=n[i];null!=s&&""!==s&&(e.push("&",d(i),"=",d(s)),delete n[i])}for(var o in n)if(n.hasOwnProperty(o)){var u=n[o];null!=u&&""!==u&&e.push("&",d(o),"=",d(n[o]))}return 0<(e=e.join("")).length&&"&"==e.charAt(0)?e.substring(1):e},setPixelURL:function(t){e=t},getPixelURL:function(){return e}}),t&&this.setPixelURL(t.getPixelURL())}function h(t,e,n,r){if(f.call(this,t),t){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",l(t.getAppName())),this.setLabel("ns_ap_pn",l(u.getPlatformName())),this.setLabel("ns_ap_pv",l(u.getRuntimeVersion())),this.setLabel("c12",t.getVisitorId()),t.Un();var a=t.getCrossPublisherId();a&&(this.setLabel("ns_ak",a),t.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",l(u.getDeviceModel())),this.setLabel("ns_ap_ar",l(u.getDeviceArchitecture())),this.setLabel("ns_radio",l(u.getConnectionType())),this.setLabel("ns_type",p(e)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",l(u.getPlatformVersion())),this.setLabel("ns_ap_pfm",l(u.getRuntimeName())),this.setLabel("ns_ap_ev",e),this.setLabel("ns_ap_ver",l(t.getAppVersion())),this.setLabel("ns_ap_sd",u.getDisplayResolution()),this.setLabel("ns_ap_res",u.getApplicationResolution()),this.setLabel("ns_ap_lang",u.getLanguage()),this.setLabel("ns_ap_sv",t.getVersion()),e==o.KEEPALIVE&&this.setLabel("ns_ap_oc",t.I()._t()+"");var i=t.gn(),s=t.mn();this.setLabel("ns_ap_id",i+""),this.setLabel("ns_ap_cs",s+""),this.setLabel("ns_ap_bi",u.getPackageName()),this.setLabel("ns_ap_jb",l(u.getDeviceJailBrokenFlag()))}}function m(t,e,n,r){h.call(this,t,e,n,r),this.setLabel("ns_ap_gs",t._n()+""),this.setLabel("ns_ap_install",t.hn()+""),this.setLabel("ns_ap_runs",t.dn()+""),r&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",t.Bn()+"");var a=t.Fn();0<a&&this.setLabel("ns_ap_miss",a.toString());var i=t.wn();i&&(this.setLabel("ns_ap_updated",i+""),t.t().remove(s.C),t.yn(null)),this.setLabel("ns_ap_jb",l(u.getDeviceJailBrokenFlag()))}h.gt=function(t,e){var n=e.wt,r=e.yt,a=e.bt;if(r=typeof r==A||r,a=typeof a==A||a,t.update(a),a){var i=t.bn(),s=t.In(n),o=t.Sn(r),u=t.Pn(n),l=t.An(r),c=t.Cn(n),d=t.kn(r),p=t.En(r),f=t.Tn(r),h=t.Nn(r),m=t.Ln(),g=t.Dn(r),v=t.Rn(r),y=t.Mn(r),b=t.On(r);e.labels.ns_ap_fg=i+"",e.labels.ns_ap_ft=s+"",e.labels.ns_ap_dft=o+"",e.labels.ns_ap_bt=u+"",e.labels.ns_ap_dbt=l+"",e.labels.ns_ap_it=c+"",e.labels.ns_ap_dit=d+"",e.labels.ns_ap_ut=m+"",e.labels.ns_ap_as=g+"",e.labels.ns_ap_das=p+"",0<=v&&(e.labels.ns_ap_aus=v+"",e.labels.ns_ap_daus=f+"",e.labels.ns_ap_uc=b+""),0<=y&&(e.labels.ns_ap_us=y+"",e.labels.ns_ap_dus=h+""),e.labels.ns_ap_usage=e.It-t.getGenesis()+""}e.labels.ns_ts=e.It+""},h.prototype=new f,h.St=function(t,e,n,r){var a=t.et(),i=a.Pt(e,n,r);return a.At(i)},m.prototype=new h,e.exports.Ct=f,e.exports.kt=h,e.exports.Et=m},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(t,e,n){var l=t(10).kt,c=t(10).Et,d=t(36),p=t(8).u,f=t(8).T,h=t(4),m=t(14).Tt;e.exports=function(i){var a=this,r=0,s=[],e=!1,o=0,u={};a.Nt=function(){r++;var e=!1;return function(t){e||(e=!0,r--,t&&a.Lt())}},a.Dt=function(){if(!e){var t=a.Nt();e=!0,d.onDataFetch(function(){t(!(e=!1))},function(){t(e=!1)})}},a.Lt=function(){if(!(0<r)){for(var t=0;t<s.length;++t){var e=s[t],n=a.At(e);a.Rt(e,n)}s.length=0}},a.Mt=function(t){s.push(t),a.Dt()},a.Rt=function(t,e){i.fn().ct(e),i.S().Z()},a.send=function(t,e,n){if(t!=p._){var r=a.Pt(t,e,n);a.Mt(r)}else a.Ot(e)},a.Pt=function(t,e,n){var r={It:+new Date,Wt:t,Vt:n,wt:!1,yt:void 0,bt:void 0,labels:{}};return o++,r.labels.ns_ap_ec=o+"",t==p.l?(i.un(),r.wt=i.sn()):(r.yt=!(null!=e&&e.hasOwnProperty("ns_st_ev")&&"hb"==e.ns_st_ev),r.bt=!(null!=e&&e.hasOwnProperty("ns_st_ev"))),r.xt=i.getLabels(),r.Ut=e,null!=i.Vn()?r.Bt=i.Vn():t==p.l?r.Bt="start":i.pn()==f.H?r.Bt="foreground":r.Bt="background",l.gt(i,r),r},a.At=function(t){var e=null,n=t.Wt,r=t.Vt,a=t.wt;return(e=new(n===p.l?c:l)(i,n,r,a)).vt(t.labels),e.vt(t.xt),e.vt(t.Ut),e.dt(h.PAGE_NAME_LABEL)||e.setLabel(h.PAGE_NAME_LABEL,t.Bt),d.processMeasurementLabels(e),e.vt(u),u={},e},a.Ot=function(t){m(u,t)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(t,e,n){var T=t(36),k=t(24),D=t(21),L=t(19),x=t(22),C=t(8).TransmissionMode,R=t(15),B=t(14).Ft,j="CACHE_DROPPED_MEASUREMENTS";function r(s,i){var e,n,o,u,r,l,c,d,p,f,h=this,a=0;function m(){a=0,null!=c&&(c=null)}function g(){for(var t,e=y(),n=!1,r=e.length;0<r;r--){var a=(t=e[r-1],Number(t.substring(i.length)));n?A(e[r-1],!0):n=E(a)}}function v(t){if(s.getEnabled()){var e=s.t();e.has(j)&&(t+=Number(e.get(j))),e.set(j,t+"")}}function y(){return null==l&&(l=B.Gt()),l}function b(t){var e=i+R.Kt(t,"ns_ts");B.qt(s,e,t),null==l&&(l=[]),l.push(e),m()}function A(t,e){if(null!=t){e&&(r=t,(a=s.t()).has(r)&&v(Number(a.get(r)))),B.deleteFile(s,t);var n=L.indexOf(t,l);0<=n&&l.splice(n,1)}var r,a}function _(){return null!=l&&0<l.length?l[l.length-1]:null}function w(t){var e=s.t(),n=0;return null!=t&&(n=e.has(t)?Number(e.get(t)):B.Ht(s,t).length),n}function E(t){var e=+new Date;return 24*r*60*60*1e3-(e-t)<=0}function S(e,n){var r=s.t();if(function(){if(s.getEnabled()&&T.isConnectionAvailable()&&!h.jt()&&null!=s.getCustomerC2()){if(!(o<=d))return 1;if(1e3*u*60-(new Date-p)<=0)return p=d=0,1}}()){var t=null,a=null;if(null==c&&null!=(t=function(t){for(var e=0,n=B.Ht(s,t),r=!1;e<n.length&&!(r=!E(Number(R.Kt(n[e],"ns_ts"))));e++);return r?(v(e),n.slice(e,n.length)):(A(t,!0),null)}(a=_()))&&0<t.length){var i=r.has(j)?r.get(j):"0";c=R.Yt(t,i)}if(null!=c&&0<c.length)return void T.httpPost(function(t){var e,n=!0;-1==(e=D.tn(f)&&D.lt(f)?f:t.isSecure()?"https://udm.scorecardresearch.com/offline":"http://udm.scorecardresearch.com/offline").indexOf("?")&&(e+="?",n=!1);var r=s.getCustomerC2();D.lt(r)&&(n&&(e+="&"),e+="c2="+r,n=!0);var a="JetportGotAMaskOfThe"+s.g()+"S.D_K-";return a=x(a),D.lt(a)&&(n&&(e+="&"),e+="s="+a),e.toLowerCase()}(e),c,function(t){if(200==t)return d++,A(a,!1),m(),p=+new Date,r.remove(j),void T.setTimeout(function(){S(e,n)},0);n()})}n()}i=i||"cs_cache_",k.extend(this,{flush:function(t,e){s.getEnabled()&&(g(),1e3*u*60-(new Date-a)<=0?(a=0,S(t,e)):e())},setCacheMaxMeasurements:function(t){e=t},getCacheMaxMeasurements:function(){return e},setCacheMaxBatchFiles:function(t){t<=0||(n=t)},getCacheMaxBatchFiles:function(){return n},Yn:function(t){o=t},Jn:function(){return o},Qn:function(t){u=t},Xn:function(){return u},setCacheMeasurementExpiry:function(t){r=t},getCacheMeasurementExpiry:function(){return r},ft:function(t){if(s.getEnabled()){var e=s.ln();if("string"!=typeof t&&(t=t.ht(e.getMeasurementLabelOrder())),e.getOfflineTransmissionMode()!=C.DISABLED&&null!=s.getCustomerC2()&&D.lt(R.Kt(t,"ns_ts"))){var n=_();null!=n?w(n)<this.getCacheMaxBatchFiles()?(t="\n"+t,B.qt(s,n,t),m()):(y().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&A(null!=l&&0<l.length?l[0]:null,!0),b(t)):b(t)}}},_t:function(){var t=w(_());return 0<y().length&&(t+=(y().length-1)*this.getCacheMaxBatchFiles()),t},jt:function(){return 0==this._t()},clear:function(){for(var t=y(),e=t.length;0<e;e--)A(t[e-1],!0);s.t().remove(j)},tt:function(t){f=t}}),this.setCacheMaxMeasurements(2e3),this.setCacheMaxBatchFiles(100),this.Yn(10),this.Qn(30),this.setCacheMeasurementExpiry(31),g()}r.qn=2e3,r.Hn=100,r.zn=10,r.Zn=30,r.$n=31,n.L=r},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(t,e,n){var l=t(24),c=t(20),d=t(36),p=t(4),f=t(8).TransmissionMode;e.exports=function(e,t,n,r){var a=this,i=t,s=n;function o(t){200!=t&&(302!=t&&301!=t||e.it())&&e.I().ft(s.ht(i.getMeasurementLabelOrder()),i),r&&r()}function u(){var t=a.process(s.getPixelURL());d.httpGet(t,o)}l.extend(a,{process:function(t){t+=s.ht(i.getMeasurementLabelOrder());var e=c.Jt()?p.A:p.P;if(t.length>e&&0<t.indexOf("&")){var n=t.substring(0,e-8).lastIndexOf("&"),r=encodeURIComponent(t.substring(n+1));t=t.substring(0,n)+"&ns_cut="+r}return t.length>e&&(t=t.substring(0,e)),t},send:function(){var t=i.getLiveTransmissionMode();return t==f.NEVER||t==f.DISABLED?(e.I().ft(s.ht(i.getMeasurementLabelOrder()),i),r&&r()):i.getOfflineTransmissionMode()!=f.NEVER&&0<e.I()._t()?e.I().flush(i,u):u(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(t,e,n){var r=t(36),i="cache_dir",s=null;function o(){s||"function"==typeof r.IO&&(s=new r.IO)}var a={Gt:function(){return o(),s.dir(i)||[]},qt:function(t,e,n){o();var r=t.t(),a=Number(r.get(e))||0;s.append(i,e,n),a++,r.set(e,a+"")},deleteFile:function(t,e){o(),s.deleteFile(i,e),t.t().remove(e)},Ht:function(t,e){o();var n=s.read(i,e);return n?n.split("\n"):[]}};function u(t){return!((t+="").indexOf(",")<0)&&t.indexOf(" ")<0}function l(t){return!isNaN(parseInt(t))&&isFinite(t)}function c(t,e){for(var n=e,r=t.split(","),a=0,i=r.length;a<i;a++){var s=r[a];if(0<s.length)if(n.indexOf(s)<0)0==n.length?n+=s+":1":n+=";"+s+":1";else for(var o=n.split(";"),u=0,l=o.length;u<l;u++)if(0<=o[u].indexOf(s)){var c=o[u].split(":"),d=Number(c[1]);d++;var p=c[0]+":"+d,f=n.indexOf(o[u]);n=n.substring(0,f)+p+n.substring(f+o[u].length)}}return n}n.Tt=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=t[n],a=e[n];null==r?u(a)?t[n]=c(a,""):t[n]=a:l(r)&&l(a)?t[n]=parseInt(r)+parseInt(a)+"":u(a)?t[n]=c(a,r):0<=r.indexOf(a)||(t[n]=r+","+a)}},n.Ft=a},{36:36}],15:[function(t,e,n){var i=t(22),d=t(21),p=[],f=-1,h=-1,l=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],m=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],g=(1<<m.length)-1,c=-1;function v(t,e){f=h=-1;var n=0;do{if(0<=(n=t.indexOf(e,n))){var r=n+e.length;if((0==n||"&"==t.charAt(n-1))&&r<t.length&&"="==t.charAt(r))return f=r+1,void(-1==(h=t.indexOf("&",f))&&(h=t.length));n=r+1}}while(0<=n&&n<t.length)}function s(t,e){var n=0;if(v(t,"ns_ts"),-1!=f&&f<h){e.push('<event t="',t.substring(f,h),'">');for(var r,a,i=0,s=0;i<t.length;){if(-1==(r=t.indexOf("&",i))&&(r=t.length),i<r&&i<(a=t.indexOf("=",i))){var o=!0;if(n!=g)for(var u=0,l=m.length;u<l;u++){var c=1<<u;if(0==(n&c)&&m[u].length==a-i&&d.zt(m[u],0,t,i,m[u].length)){o=!1,n|=c;break}}o&&(0<s&&(p.push("&"),e.push("&")),p.push(t.substring(i,r)),e.push(t.substring(i,r)),s++)}i=r+1}e.push("</event>")}}var r={Yt:function(t,e){var n,r,a=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(t,e,n){var r,a,i,s=+new Date+"";t.push('<events t="',s,'" ');for(var o=0,u=l.length;o<u;o++)r=t,v(a=e,i=l[o]),-1!=f&&f<h&&r.push(i,'="',a.substring(f,h),'" ');t.push('dropped="',n,'" md5="','">'),c=t.length-1}(a,t[0],e),function(t,e){p=[];for(var n=0,r=t.length;n<r;n++)d.lt(t[n])&&s(t[n],e)}(t,a),n=a,r=i(p.join("")).toLowerCase(),n.splice(c,0,r),a.push("</events>"),a.join("")},Kt:function(t,e){return v(t,e),-1!=f&&f<h?t.substring(f,h):null}};e.exports=r},{21:21,22:22}],16:[function(e,a,t){(function(t){var n=e(24),r=a.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=r),r.comScore=e(2),r.loadModule=r.loadModule||function(t){for(var e in t)"ns_"!==e&&n.extend(r,t);return t.ns_=r},r.PlatformAPIs=e(32),e(39),r.StreamingAnalytics=e(67),r.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(t,e,n){e.exports={D:"unknown",Qt:"0x0",Xt:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(t,e,n){var o="undefined",u="function";e.exports=function(n,i){var t=this,r=[];function e(t){t=t||[];var e=["comScore",+new Date];return n&&e.push(n),t=Array.prototype.slice.call(t),e.concat(t)}function a(t){var e,n,r;if("boolean"==typeof i||!i)return i;if(r=t.join(" "),!(i instanceof Array&&0<i.length)){if("object"!=typeof i)return 1;var a=!1;if(i.hide instanceof Array)for(e=0;e<i.hide.length;++e)if((n=i.hide[e])instanceof RegExp&&n.test(r)){a=!0;break}if(i.show instanceof Array)for(e=0;e<i.show.length;++e)if((n=i.show[e])instanceof RegExp&&n.test(r))return 1;return!a&&!i.show}for(e=0;e<i.length;++e)if((n=i[e])instanceof RegExp&&n.test(r))return 1}function s(t){var e=r.length;if(1e4<e||"object"==typeof i&&i.max&&e>i.max){var n="object"==typeof i&&i.max||1e4;r.splice(0,r.length-n+1)}r.push(t)}t.log=function(){var t=e(arguments);s(t),typeof console!=o&&typeof console.log==u&&a(t)&&console.log.apply(console,t)},t.warn=function(){var t=e(arguments);s(t),typeof console!=o&&typeof console.warn==u&&a(t)&&console.warn.apply(console,t)},t.error=function(){var t=e(arguments);s(t),typeof console!=o&&typeof console.error==u&&a(t)&&console.error.apply(console,t)},t.Zt=function(t){for(var e=["API call to:",t],n=1;n<arguments.length;++n)e.push("arg"+n+":",arguments[n]);this.log.apply(this,e)},t.$t=function(){var t=["Trace log:"];t.push.apply(t,Array.prototype.slice.call(arguments)),this.log.apply(this,t)},t.ne=function(t,e){var n=["Deprecated API:",t,"is deprecated and will be eventually removed."];e&&n.push("Use",e,"instead."),this.warn.apply(this,n)},t.te=function(){return r}}},{}],19:[function(t,e,n){var a={},o="undefined";a.indexOf=function(n,t){var r=-1;return a.forEach(t,function(t,e){t==n&&(r=e)}),r},a.forEach=function(t,e,n){try{if("function"==typeof e)if(n=typeof n!=o?n:null,"number"!=typeof t.length||typeof t[0]==o){var r=typeof t.__proto__!=o;for(var a in t)t.hasOwnProperty(a)&&(!r||r&&typeof t.__proto__[a]==o)&&"function"!=typeof t[a]&&e.call(n,t[a],a)}else for(var i=0,s=t.length;i<s;i++)e.call(n,t[i],i)}catch(t){}},n.indexOf=a.indexOf,n.forEach=a.forEach},{}],20:[function(t,e,n){var r={},a="undefined",i=typeof document!=a&&document||void 0;r.ee=function(){if(!i)return!1;var t=!1;return typeof i.hidden==a&&typeof i.mozHidden==a&&typeof i.msHidden==a&&typeof i.webkitHidden==a||(t=!0),function(){return t}}(),r.ie=function(){if(!i)return null;var t,e,n;typeof i.hidden!=a?(t="hidden",e="visibilitychange",n="visibilityState"):typeof i.mozHidden!=a?(t="mozHidden",e="mozvisibilitychange",n="mozVisibilityState"):typeof i.msHidden!=a?(t="msHidden",e="msvisibilitychange",n="msVisibilityState"):typeof i.webkitHidden!=a&&(t="webkitHidden",e="webkitvisibilitychange",n="webkitVisibilityState");var r={hidden:t,re:e,state:n};return function(){return r}}(),r.oe=function(){if(!i)return null;var t=r.ie();return function(){return i[t.hidden]}}(),r.ue=function(){if(!navigator)return"";var t,e,n=navigator.userAgent||"",r=navigator.appName||"";return-1!=(e=n.indexOf("Opera"))||-1!=(e=n.indexOf("OPR/"))?r="Opera":-1!=(e=n.indexOf("Android"))?r="Android":-1!=(e=n.indexOf("Chrome"))?r="Chrome":-1!=(e=n.indexOf("Safari"))?r="Safari":-1!=(e=n.indexOf("Firefox"))?r="Firefox":-1!=(e=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(t=n.lastIndexOf(" ")+1)<(e=n.lastIndexOf("/"))?(r=n.substring(t,e)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName):r="unknown",r},r.se=function(){if(!navigator)return"";var t,e,n,r=navigator.userAgent||"",a=navigator.appName||"",i=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(e=r.indexOf("Opera"))?(i=r.substring(e+6),-1!=(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!=(e=r.indexOf("OPR/"))?i=r.substring(e+4):-1!=(e=r.indexOf("Android"))?i=r.substring(e+11):-1!=(e=r.indexOf("Chrome"))?i=r.substring(e+7):-1!=(e=r.indexOf("Safari"))?(i=r.substring(e+7),-1!=(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!=(e=r.indexOf("Firefox"))?i=r.substring(e+8):"Microsoft Internet Explorer"==a?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(r)&&(i=parseFloat(RegExp.$1)):"Netscape"==a?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(r)&&(i=parseFloat(RegExp.$1)):i=r.lastIndexOf(" ")+1<(e=r.lastIndexOf("/"))?r.substring(e+1):"unknown",-1!=(n=(i=i.toString()).indexOf(";"))&&(i=i.substring(0,n)),-1!=(n=i.indexOf(" "))&&(i=i.substring(0,n)),-1!=(n=i.indexOf(")"))&&(i=i.substring(0,n)),t=parseInt(""+i,10),isNaN(t)&&(i=""+parseFloat(navigator.appVersion)),i},r.Jt=function(){return typeof window!=a&&window.ae,!0},r.fe=function(){return typeof window!=a&&i},r.ce=function(){return!!i&&"s"===i.location.href.charAt(4)},e.exports.ee=r.ee,e.exports.ie=r.ie,e.exports.oe=r.oe,e.exports.ue=r.ue,e.exports.se=r.se,e.exports.Jt=r.Jt,e.exports.fe=r.fe,e.exports.ce=r.ce},{}],21:[function(t,e,n){var r,a=a||{},i="undefined";a.le=(r=1,function(){return+new Date+"_"+r++}),a.jt=function(t){return null==t||""===t||t instanceof Array&&0===t.length},a.lt=function(t){return!this.jt(t)},a.pe=function(t,e){return e=this.tn(e)?e:"",this.tn(t)?t:e},a.ve=function(t){return typeof t!=i&&("string"==typeof t?"true"===(t=t.toLowerCase())||"1"===t||"on"===t:!!t)},a.zt=function(t,e,n,r,a){if(e<0||r<0||e+a>t.length||r+a>n.length)return!1;for(;0<=--a;)if(t.charAt(e++)!=n.charAt(r++))return!1;return!0},a.tn=function(t){return typeof t!=i&&null!=t},e.exports.tn=a.tn,e.exports.zt=a.zt,e.exports.ve=a.ve,e.exports.pe=a.pe,e.exports.lt=a.lt,e.exports.jt=a.jt,e.exports.le=a.le},{}],22:[function(t,e,n){var r,a={};function i(t,e){var n=t[0],r=t[1],a=t[2],i=t[3];r=c(r=c(r=c(r=c(r=l(r=l(r=l(r=l(r=u(r=u(r=u(r=u(r=s(r=s(r=s(r=s(r,a=s(a,i=s(i,n=s(n,r,a,i,e[0],7,-680876936),r,a,e[1],12,-389564586),n,r,e[2],17,606105819),i,n,e[3],22,-1044525330),a=s(a,i=s(i,n=s(n,r,a,i,e[4],7,-176418897),r,a,e[5],12,1200080426),n,r,e[6],17,-1473231341),i,n,e[7],22,-45705983),a=s(a,i=s(i,n=s(n,r,a,i,e[8],7,1770035416),r,a,e[9],12,-1958414417),n,r,e[10],17,-42063),i,n,e[11],22,-1990404162),a=s(a,i=s(i,n=s(n,r,a,i,e[12],7,1804603682),r,a,e[13],12,-40341101),n,r,e[14],17,-1502002290),i,n,e[15],22,1236535329),a=u(a,i=u(i,n=u(n,r,a,i,e[1],5,-165796510),r,a,e[6],9,-1069501632),n,r,e[11],14,643717713),i,n,e[0],20,-373897302),a=u(a,i=u(i,n=u(n,r,a,i,e[5],5,-701558691),r,a,e[10],9,38016083),n,r,e[15],14,-660478335),i,n,e[4],20,-405537848),a=u(a,i=u(i,n=u(n,r,a,i,e[9],5,568446438),r,a,e[14],9,-1019803690),n,r,e[3],14,-187363961),i,n,e[8],20,1163531501),a=u(a,i=u(i,n=u(n,r,a,i,e[13],5,-1444681467),r,a,e[2],9,-51403784),n,r,e[7],14,1735328473),i,n,e[12],20,-1926607734),a=l(a,i=l(i,n=l(n,r,a,i,e[5],4,-378558),r,a,e[8],11,-2022574463),n,r,e[11],16,1839030562),i,n,e[14],23,-35309556),a=l(a,i=l(i,n=l(n,r,a,i,e[1],4,-1530992060),r,a,e[4],11,1272893353),n,r,e[7],16,-155497632),i,n,e[10],23,-1094730640),a=l(a,i=l(i,n=l(n,r,a,i,e[13],4,681279174),r,a,e[0],11,-358537222),n,r,e[3],16,-722521979),i,n,e[6],23,76029189),a=l(a,i=l(i,n=l(n,r,a,i,e[9],4,-640364487),r,a,e[12],11,-421815835),n,r,e[15],16,530742520),i,n,e[2],23,-995338651),a=c(a,i=c(i,n=c(n,r,a,i,e[0],6,-198630844),r,a,e[7],10,1126891415),n,r,e[14],15,-1416354905),i,n,e[5],21,-57434055),a=c(a,i=c(i,n=c(n,r,a,i,e[12],6,1700485571),r,a,e[3],10,-1894986606),n,r,e[10],15,-1051523),i,n,e[1],21,-2054922799),a=c(a,i=c(i,n=c(n,r,a,i,e[8],6,1873313359),r,a,e[15],10,-30611744),n,r,e[6],15,-1560198380),i,n,e[13],21,1309151649),a=c(a,i=c(i,n=c(n,r,a,i,e[4],6,-145523070),r,a,e[11],10,-1120210379),n,r,e[2],15,718787259),i,n,e[9],21,-343485551),t[0]=f(n,t[0]),t[1]=f(r,t[1]),t[2]=f(a,t[2]),t[3]=f(i,t[3])}function o(t,e,n,r,a,i){return f((e=f(f(e,t),f(r,i)))<<a|e>>>32-a,n)}function s(t,e,n,r,a,i,s){return o(e&n|~e&r,t,e,a,i,s)}function u(t,e,n,r,a,i,s){return o(e&r|n&~r,t,e,a,i,s)}function l(t,e,n,r,a,i,s){return o(e^n^r,t,e,a,i,s)}function c(t,e,n,r,a,i,s){return o(n^(e|~r),t,e,a,i,s)}function d(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function p(t){for(var e="",n=0;n<4;n++)e+=r[t>>8*n+4&15]+r[t>>8*n&15];return e}function f(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}a.de=(r="0123456789abcdef".split(""),function(t){return function(t){for(var e=0;e<t.length;e++)t[e]=p(t[e]);return t.join("")}(function(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)i(r,d(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),55<e)for(i(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*n,i(r,a),r}(t))}),e.exports=a.de},{}],23:[function(t,e,n){var i=function(t){if("object"!=typeof t)return t;var e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=i(t[n]);return e}for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e};e.exports=i},{}],24:[function(t,e,n){var r=r||{};r.filter=function(t,e){var n={};for(var r in e)e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r]);return n},r.extend=function(t){var e,n=arguments.length;t=t||{};for(var r=1;r<n;r++)if(e=arguments[r])for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},e.exports.filter=r.filter,e.exports.extend=r.extend},{}],25:[function(t,e,n){var U=t(17),r={};r.encrypt=function(){function s(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e));if(-1===n)throw new Error;return n}function b(t,e,n){null!=t&&("number"==typeof t?this.he(t,e,n):null==e&&"string"!=typeof t?this._e(t,256):this._e(t,e))}function A(){return new b(null)}b.prototype.ge=function(t,e,n,r,a,i){for(var s=16383&e,o=e>>14;0<=--i;){var u=16383&this[t],l=this[t++]>>14,c=o*u+l*s;a=((u=s*u+((16383&c)<<14)+n[r]+a)>>28)+(c>>14)+o*l,n[r++]=268435455&u}return a},b.prototype.me=28,b.prototype.we=268435455,b.prototype.ye=1<<28,b.prototype.be=Math.pow(2,52),b.prototype.Ie=24,b.prototype.Se=4;var t,e,n="0123456789abcdefghijklmnopqrstuvwxyz",r=[];for(t="0".charCodeAt(0),e=0;e<=9;++e)r[t++]=e;for(t="a".charCodeAt(0),e=10;e<36;++e)r[t++]=e;for(t="A".charCodeAt(0),e=10;e<36;++e)r[t++]=e;function u(t){return n.charAt(t)}function l(t,e){var n=r[t.charCodeAt(e)];return null==n?-1:n}function g(t){var e=A();return e.Pe(t),e}function _(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function v(t){this.Ae=t}function y(t){this.Ae=t,this.Ce=t.ke(),this.Ee=32767&this.Ce,this.Te=this.Ce>>15,this.Ne=(1<<t.me-15)-1,this.Le=2*t.De}function a(t,e){return t&e}function i(t,e){return t|e}function o(t,e){return t^e}function c(t,e){return t&~e}function d(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function p(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function f(){}function h(t){return t}function w(t){this.r2=A(),this.Re=A(),b.ONE.Me(2*t.De,this.r2),this.Oe=this.r2.We(t),this.Ae=t}v.prototype.Ve=function(t){return t.xe<0||0<=t.Ue(this.Ae)?t.Be(this.Ae):t},v.prototype.Fe=function(t){return t},v.prototype.reduce=function(t){t.je(this.Ae,null,t)},v.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},v.prototype.qe=function(t,e){t.He(e),this.reduce(e)},y.prototype.Ve=function(t){var e=A();return t.abs().Me(this.Ae.De,e),e.je(this.Ae,null,e),t.xe<0&&0<e.Ue(b.ZERO)&&this.Ae.Ye(e,e),e},y.prototype.Fe=function(t){var e=A();return t.Je(e),this.reduce(e),e},y.prototype.reduce=function(t){for(;t.De<=this.Le;)t[t.De++]=0;for(var e=0;e<this.Ae.De;++e){var n=32767&t[e],r=n*this.Ee+((n*this.Te+(t[e]>>15)*this.Ee&this.Ne)<<15)&t.we;for(t[n=e+this.Ae.De]+=this.Ae.ge(0,r,t,e,0,this.Ae.De);t[n]>=t.ye;)t[n]-=t.ye,t[++n]++}t.ze(),t.Qe(this.Ae.De,t),0<=t.Ue(this.Ae)&&t.Ye(this.Ae,t)},y.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},y.prototype.qe=function(t,e){t.He(e),this.reduce(e)},b.prototype.Je=function(t){for(var e=this.De-1;0<=e;--e)t[e]=this[e];t.De=this.De,t.xe=this.xe},b.prototype.Pe=function(t){this.De=1,this.xe=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+DV:this.De=0},b.prototype._e=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.Xe(t,e);n=2}this.De=0,this.xe=0;for(var r=t.length,a=!1,i=0;0<=--r;){var s=8==n?255&t[r]:l(t,r);s<0?"-"==t.charAt(r)&&(a=!0):(a=!1,0==i?this[this.De++]=s:i+n>this.me?(this[this.De-1]|=(s&(1<<this.me-i)-1)<<i,this[this.De++]=s>>this.me-i):this[this.De-1]|=s<<i,(i+=n)>=this.me&&(i-=this.me))}8==n&&0!=(128&t[0])&&(this.xe=-1,0<i&&(this[this.De-1]|=(1<<this.me-i)-1<<i)),this.ze(),a&&b.ZERO.Ye(this,this)},b.prototype.ze=function(){for(var t=this.xe&this.we;0<this.De&&this[this.De-1]==t;)--this.De},b.prototype.Me=function(t,e){var n;for(n=this.De-1;0<=n;--n)e[n+t]=this[n];for(n=t-1;0<=n;--n)e[n]=0;e.De=this.De+t,e.xe=this.xe},b.prototype.Qe=function(t,e){for(var n=t;n<this.De;++n)e[n-t]=this[n];e.De=Math.max(this.De-t,0),e.xe=this.xe},b.prototype.Ze=function(t,e){var n,r=t%this.me,a=this.me-r,i=(1<<a)-1,s=Math.floor(t/this.me),o=this.xe<<r&this.we;for(n=this.De-1;0<=n;--n)e[n+s+1]=this[n]>>a|o,o=(this[n]&i)<<r;for(n=s-1;0<=n;--n)e[n]=0;e[s]=o,e.De=this.De+s+1,e.xe=this.xe,e.ze()},b.prototype.$e=function(t,e){e.xe=this.xe;var n=Math.floor(t/this.me);if(n>=this.De)e.De=0;else{var r=t%this.me,a=this.me-r,i=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.De;++s)e[s-n-1]|=(this[s]&i)<<a,e[s-n]=this[s]>>r;0<r&&(e[this.De-n-1]|=(this.xe&i)<<a),e.De=this.De-n,e.ze()}},b.prototype.Ye=function(t,e){for(var n=0,r=0,a=Math.min(t.De,this.De);n<a;)r+=this[n]-t[n],e[n++]=r&this.we,r>>=this.me;if(t.De<this.De){for(r-=t.xe;n<this.De;)r+=this[n],e[n++]=r&this.we,r>>=this.me;r+=this.xe}else{for(r+=this.xe;n<t.De;)r-=t[n],e[n++]=r&this.we,r>>=this.me;r-=t.xe}e.xe=r<0?-1:0,r<-1?e[n++]=this.ye+r:0<r&&(e[n++]=r),e.De=n,e.ze()},b.prototype.Ke=function(t,e){var n=this.abs(),r=t.abs(),a=n.De;for(e.De=a+r.De;0<=--a;)e[a]=0;for(a=0;a<r.De;++a)e[a+n.De]=n.ge(0,r[a],e,a,0,n.De);e.xe=0,e.ze(),this.xe!=t.xe&&b.ZERO.Ye(e,e)},b.prototype.He=function(t){for(var e=this.abs(),n=t.De=2*e.De;0<=--n;)t[n]=0;for(n=0;n<e.De-1;++n){var r=e.ge(n,e[n],t,2*n,0,1);(t[n+e.De]+=e.ge(n+1,2*e[n],t,2*n+1,r,e.De-n-1))>=e.ye&&(t[n+e.De]-=e.ye,t[n+e.De+1]=1)}0<t.De&&(t[t.De-1]+=e.ge(n,e[n],t,2*n,0,1)),t.xe=0,t.ze()},b.prototype.je=function(t,e,n){var r=t.abs();if(!(r.De<=0)){var a=this.abs();if(a.De<r.De)return null!=e&&e.Pe(0),void(null!=n&&this.Je(n));null==n&&(n=A());var i=A(),s=this.xe,o=t.xe,u=this.me-_(r[r.De-1]);0<u?(r.Ze(u,i),a.Ze(u,n)):(r.Je(i),a.Je(n));var l=i.De,c=i[l-1];if(0!=c){var d=c*(1<<this.Ie)+(1<l?i[l-2]>>this.Se:0),p=this.be/d,f=(1<<this.Ie)/d,h=1<<this.Se,m=n.De,g=m-l,v=null==e?A():e;for(i.Me(g,v),0<=n.Ue(v)&&(n[n.De++]=1,n.Ye(v,n)),b.ONE.Me(l,v),v.Ye(i,i);i.De<l;)i[i.De++]=0;for(;0<=--g;){var y=n[--m]==c?this.we:Math.floor(n[m]*p+(n[m-1]+h)*f);if((n[m]+=i.ge(0,y,n,g,0,l))<y)for(i.Me(g,v),n.Ye(v,n);n[m]<--y;)n.Ye(v,n)}null!=e&&(n.Qe(l,e),s!=o&&b.ZERO.Ye(e,e)),n.De=l,n.ze(),0<u&&n.$e(u,n),s<0&&b.ZERO.Ye(n,n)}}},b.prototype.ke=function(){if(this.De<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.ye)%this.ye)?this.ye-e:-e},b.prototype.ni=function(){return 0==(0<this.De?1&this[0]:this.xe)},b.prototype.exp=function(t,e){if(4294967295<t||t<1)return b.ONE;var n=A(),r=A(),a=e.Ve(this),i=_(t)-1;for(a.Je(n);0<=--i;)if(e.qe(n,r),0<(t&1<<i))e.Ge(r,a,n);else{var s=n;n=r,r=s}return e.Fe(n)},b.prototype.toString=function(t){if(this.xe<0)return"-"+this.ti().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.ei(t);e=2}var n,r=(1<<e)-1,a=!1,i="",s=this.De,o=this.me-s*this.me%e;if(0<s--)for(o<this.me&&0<(n=this[s]>>o)&&(a=!0,i=u(n));0<=s;)o<e?(n=(this[s]&(1<<o)-1)<<e-o,n|=this[--s]>>(o+=this.me-e)):(n=this[s]>>(o-=e)&r,o<=0&&(o+=this.me,--s)),0<n&&(a=!0),a&&(i+=u(n));return a?i:"0"},b.prototype.ti=function(){var t=A();return b.ZERO.Ye(this,t),t},b.prototype.abs=function(){return this.xe<0?this.ti():this},b.prototype.Ue=function(t){var e=this.xe-t.xe;if(0!=e)return e;var n=this.De;if(0!=(e=n-t.De))return this.xe<0?-e:e;for(;0<=--n;)if(0!=(e=this[n]-t[n]))return e;return 0},b.prototype.ii=function(){return this.De<=0?0:this.me*(this.De-1)+_(this[this.De-1]^this.xe&this.we)},b.prototype.Be=function(t){var e=A();return this.abs().je(t,null,e),this.xe<0&&0<e.Ue(b.ZERO)&&t.Ye(e,e),e},b.prototype.ri=function(t,e){var n;return n=new(t<256||e.ni()?v:y)(e),this.exp(t,n)},b.ZERO=g(0),b.ONE=g(1),f.prototype.Ve=h,f.prototype.Fe=h,f.prototype.Ge=function(t,e,n){t.Ke(e,n)},f.prototype.qe=function(t,e){t.He(e)},w.prototype.Ve=function(t){if(t.xe<0||t.De>2*this.Ae.De)return t.Be(this.Ae);if(t.Ue(this.Ae)<0)return t;var e=A();return t.Je(e),this.reduce(e),e},w.prototype.Fe=function(t){return t},w.prototype.reduce=function(t){for(t.Qe(this.Ae.De-1,this.r2),t.De>this.Ae.De+1&&(t.De=this.Ae.De+1,t.ze()),this.Oe.oi(this.r2,this.Ae.De+1,this.Re),this.Ae.ui(this.Re,this.Ae.De+1,this.r2);t.Ue(this.r2)<0;)t.si(1,this.Ae.De+1);for(t.Ye(this.r2,t);0<=t.Ue(this.Ae);)t.Ye(this.Ae,t)},w.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},w.prototype.qe=function(t,e){t.He(e),this.reduce(e)};var m=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],E=(1<<26)/m[m.length-1];function S(){this.ai=0,this.fi=0,this.ci=[]}b.prototype.li=function(t){return Math.floor(Math.LN2*this.me/Math.log(t))},b.prototype.ei=function(t){if(null==t&&(t=10),0==this.pi()||t<2||36<t)return"0";var e=this.li(t),n=Math.pow(t,e),r=g(n),a=A(),i=A(),s="";for(this.je(r,a,i);0<a.pi();)s=(n+i.vi()).toString(t).substr(1)+s,a.je(r,a,i);return i.vi().toString(t)+s},b.prototype.Xe=function(t,e){this.Pe(0),null==e&&(e=10);for(var n=this.li(e),r=Math.pow(e,n),a=!1,i=0,s=0,o=0;o<t.length;++o){var u=l(t,o);u<0?"-"==t.charAt(o)&&0==this.pi()&&(a=!0):(s=e*s+u,++i>=n&&(this.di(r),this.si(s,0),s=i=0))}0<i&&(this.di(Math.pow(e,i)),this.si(s,0)),a&&b.ZERO.Ye(this,this)},b.prototype.he=function(t,e,n){if("number"==typeof e)if(t<2)this.Pe(1);else for(this.he(t,n),this.hi(t-1)||this._i(b.ONE.shiftLeft(t-1),i,this),this.ni()&&this.si(1,0);!this.gi(e);)this.si(2,0),this.ii()>t&&this.Ye(b.ONE.shiftLeft(t-1),this);else{var r=[],a=7&t;r.length=1+(t>>3),e.mi(r),0<a?r[0]&=(1<<a)-1:r[0]=0,this._e(r,256)}},b.prototype._i=function(t,e,n){var r,a,i=Math.min(t.De,this.De);for(r=0;r<i;++r)n[r]=e(this[r],t[r]);if(t.De<this.De){for(a=t.xe&this.we,r=i;r<this.De;++r)n[r]=e(this[r],a);n.De=this.De}else{for(a=this.xe&this.we,r=i;r<t.De;++r)n[r]=e(a,t[r]);n.De=t.De}n.xe=e(this.xe,t.xe),n.ze()},b.prototype.wi=function(t,e){var n=b.ONE.shiftLeft(t);return this._i(n,e,n),n},b.prototype.yi=function(t,e){for(var n=0,r=0,a=Math.min(t.De,this.De);n<a;)r+=this[n]+t[n],e[n++]=r&this.we,r>>=this.me;if(t.De<this.De){for(r+=t.xe;n<this.De;)r+=this[n],e[n++]=r&this.we,r>>=this.me;r+=this.xe}else{for(r+=this.xe;n<t.De;)r+=t[n],e[n++]=r&this.we,r>>=this.me;r+=t.xe}e.xe=r<0?-1:0,0<r?e[n++]=r:r<-1&&(e[n++]=this.ye+r),e.De=n,e.ze()},b.prototype.di=function(t){this[this.De]=this.ge(0,t-1,this,0,0,this.De),++this.De,this.ze()},b.prototype.si=function(t,e){if(0!=t){for(;this.De<=e;)this[this.De++]=0;for(this[e]+=t;this[e]>=this.ye;)this[e]-=this.ye,++e>=this.De&&(this[this.De++]=0),++this[e]}},b.prototype.ui=function(t,e,n){var r,a=Math.min(this.De+t.De,e);for(n.xe=0,n.De=a;0<a;)n[--a]=0;for(r=n.De-this.De;a<r;++a)n[a+this.De]=this.ge(0,t[a],n,a,0,this.De);for(r=Math.min(t.De,e);a<r;++a)this.ge(0,t[a],n,a,0,e-a);n.ze()},b.prototype.oi=function(t,e,n){--e;var r=n.De=this.De+t.De-e;for(n.xe=0;0<=--r;)n[r]=0;for(r=Math.max(e-this.De,0);r<t.De;++r)n[this.De+r-e]=this.ge(e-r,t[r],n,0,0,this.De+r-e);n.ze(),n.Qe(1,n)},b.prototype.bi=function(t){if(t<=0)return 0;var e=this.ye%t,n=this.xe<0?t-1:0;if(0<this.De)if(0==e)n=this[0]%t;else for(var r=this.De-1;0<=r;--r)n=(e*n+this[r])%t;return n},b.prototype.Ii=function(t){var e=this.Si(b.ONE),n=e.Pi();if(n<=0)return!1;var r=e.Ai(n);m.length<(t=t+1>>1)&&(t=m.length);for(var a=A(),i=0;i<t;++i){a.Pe(m[Math.floor(Math.random()*m.length)]);var s=a.Ci(r,this);if(0!=s.Ue(b.ONE)&&0!=s.Ue(e)){for(var o=1;o++<n&&0!=s.Ue(e);)if(0==(s=s.ri(2,this)).Ue(b.ONE))return!1;if(0!=s.Ue(e))return!1}}return!0},b.prototype.clone=function(){var t=A();return this.Je(t),t},b.prototype.vi=function(){if(this.xe<0){if(1==this.De)return this[0]-this.ye;if(0==this.De)return-1}else{if(1==this.De)return this[0];if(0==this.De)return 0}return(this[1]&(1<<32-this.me)-1)<<this.me|this[0]},b.prototype.ki=function(){return 0==this.De?this.xe:this[0]<<24>>24},b.prototype.Ei=function(){return 0==this.De?this.xe:this[0]<<16>>16},b.prototype.pi=function(){return this.xe<0?-1:this.De<=0||1==this.De&&this[0]<=0?0:1},b.prototype.Ti=function(){var t=this.De,e=[];e[0]=this.xe;var n,r=this.me-t*this.me%8,a=0;if(0<t--)for(r<this.me&&(n=this[t]>>r)!=(this.xe&this.we)>>r&&(e[a++]=n|this.xe<<this.me-r);0<=t;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.me-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.me,--t)),0!=(128&n)&&(n|=-256),0==a&&(128&this.xe)!=(128&n)&&++a,(0<a||n!=this.xe)&&(e[a++]=n);return e},b.prototype.Ni=function(t){return 0==this.Ue(t)},b.prototype.min=function(t){return this.Ue(t)<0?this:t},b.prototype.max=function(t){return 0<this.Ue(t)?this:t},b.prototype.Li=function(t){var e=A();return this._i(t,a,e),e},b.prototype.Di=function(t){var e=A();return this._i(t,i,e),e},b.prototype.Ri=function(t){var e=A();return this._i(t,o,e),e},b.prototype.Mi=function(t){var e=A();return this._i(t,c,e),e},b.prototype.Oi=function(){for(var t=A(),e=0;e<this.De;++e)t[e]=this.we&~this[e];return t.De=this.De,t.xe=~this.xe,t},b.prototype.shiftLeft=function(t){var e=A();return t<0?this.$e(-t,e):this.Ze(t,e),e},b.prototype.Ai=function(t){var e=A();return t<0?this.Ze(-t,e):this.$e(t,e),e},b.prototype.Pi=function(){for(var t=0;t<this.De;++t)if(0!=this[t])return t*this.me+d(this[t]);return this.xe<0?this.De*this.me:-1},b.prototype.Wi=function(){for(var t=0,e=this.xe&this.we,n=0;n<this.De;++n)t+=p(this[n]^e);return t},b.prototype.hi=function(t){var e=Math.floor(t/this.me);return e>=this.De?0!=this.xe:0!=(this[e]&1<<t%this.me)},b.prototype.Vi=function(t){return this.wi(t,i)},b.prototype.xi=function(t){return this.wi(t,c)},b.prototype.Ui=function(t){return this.wi(t,o)},b.prototype.add=function(t){var e=A();return this.yi(t,e),e},b.prototype.Si=function(t){var e=A();return this.Ye(t,e),e},b.prototype.multiply=function(t){var e=A();return this.Ke(t,e),e},b.prototype.We=function(t){var e=A();return this.je(t,e,null),e},b.prototype.Bi=function(t){var e=A();return this.je(t,null,e),e},b.prototype.Fi=function(t){var e=A(),n=A();return this.je(t,e,n),[e,n]},b.prototype.Ci=function(t,e){var n,r,a=t.ii(),i=g(1);if(a<=0)return i;n=a<18?1:a<48?3:a<144?4:a<768?5:6,r=new(a<8?v:e.ni()?w:y)(e);var s=[],o=3,u=n-1,l=(1<<n)-1;if(s[1]=r.Ve(this),1<n){var c=A();for(r.qe(s[1],c);o<=l;)s[o]=A(),r.Ge(c,s[o-2],s[o]),o+=2}var d,p,f=t.De-1,h=!0,m=A();for(a=_(t[f])-1;0<=f;){for(u<=a?d=t[f]>>a-u&l:(d=(t[f]&(1<<a+1)-1)<<u-a,0<f&&(d|=t[f-1]>>this.me+a-u)),o=n;0==(1&d);)d>>=1,--o;if((a-=o)<0&&(a+=this.me,--f),h)s[d].Je(i),h=!1;else{for(;1<o;)r.qe(i,m),r.qe(m,i),o-=2;0<o?r.qe(i,m):(p=i,i=m,m=p),r.Ge(m,s[d],i)}for(;0<=f&&0==(t[f]&1<<a);)r.qe(i,m),p=i,i=m,m=p,--a<0&&(a=this.me-1,--f)}return r.Fe(i)},b.prototype.ji=function(t){var e=t.ni();if(this.ni()&&e||0==t.pi())return b.ZERO;for(var n=t.clone(),r=this.clone(),a=g(1),i=g(0),s=g(0),o=g(1);0!=n.pi();){for(;n.ni();)n.$e(1,n),e?(a.ni()&&i.ni()||(a.yi(this,a),i.Ye(t,i)),a.$e(1,a)):i.ni()||i.Ye(t,i),i.$e(1,i);for(;r.ni();)r.$e(1,r),e?(s.ni()&&o.ni()||(s.yi(this,s),o.Ye(t,o)),s.$e(1,s)):o.ni()||o.Ye(t,o),o.$e(1,o);0<=n.Ue(r)?(n.Ye(r,n),e&&a.Ye(s,a),i.Ye(o,i)):(r.Ye(n,r),e&&s.Ye(a,s),o.Ye(i,o))}return 0!=r.Ue(b.ONE)?b.ZERO:0<=o.Ue(t)?o.Si(t):o.pi()<0?(o.yi(t,o),o.pi()<0?o.add(t):o):o},b.prototype.pow=function(t){return this.exp(t,new f)},b.prototype.Gi=function(t){var e=this.xe<0?this.ti():this.clone(),n=t.xe<0?t.ti():t.clone();if(e.Ue(n)<0){var r=e;e=n,n=r}var a=e.Pi(),i=n.Pi();if(i<0)return e;for(a<i&&(i=a),0<i&&(e.$e(i,e),n.$e(i,n));0<e.pi();)0<(a=e.Pi())&&e.$e(a,e),0<(a=n.Pi())&&n.$e(a,n),0<=e.Ue(n)?(e.Ye(n,e),e.$e(1,e)):(n.Ye(e,n),n.$e(1,n));return 0<i&&n.Ze(i,n),n},b.prototype.gi=function(t){var e,n=this.abs();if(1==n.De&&n[0]<=m[m.length-1]){for(e=0;e<m.length;++e)if(n[0]==m[e])return!0;return!1}if(n.ni())return!1;for(e=1;e<m.length;){for(var r=m[e],a=e+1;a<m.length&&r<E;)r*=m[a++];for(r=n.bi(r);e<a;)if(r%m[e++]==0)return!1}return n.Ii(t)},b.prototype.Ki=function(){var t=A();return this.He(t),t},S.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.ci[e]=e;for(e=n=0;e<256;++e)n=n+this.ci[e]+t[e%t.length]&255,r=this.ci[e],this.ci[e]=this.ci[n],this.ci[n]=r;this.ai=0,this.fi=0},S.prototype.next=function(){var t;return this.ai=this.ai+1&255,this.fi=this.fi+this.ci[this.ai]&255,t=this.ci[this.ai],this.ci[this.ai]=this.ci[this.fi],this.ci[this.fi]=t,this.ci[t+this.ci[this.ai]&255]};var T,k,D,L=256;function x(){var t;t=(new Date).getTime(),k[D++]^=255&t,k[D++]^=t>>8&255,k[D++]^=t>>16&255,k[D++]^=t>>24&255,L<=D&&(D-=L)}if(null==k){var C;for(k=[],D=0;D<L;)C=Math.floor(65536*Math.random()),k[D++]=C>>>8,k[D++]=255&C;D=0,x()}function R(){if(null==T){for(x(),(T=new S).init(k),D=0;D<k.length;++D)k[D]=0;D=0}return T.next()}function B(){}function j(t,e){return new b(t,e)}function I(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}B.prototype.mi=function(t){var e;for(e=0;e<t.length;++e)t[e]=R()},I.prototype.qi=function(t){return t.ri(this.e,this.n)},I.prototype.Hi=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=j(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},I.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=[],r=t.length-1;0<=r&&0<e;){var a=t.charCodeAt(r--);n[--e]=a<128?a:127<a&&a<2048?(n[--e]=63&a|128,a>>6|192):(n[--e]=63&a|128,n[--e]=a>>6&63|128,a>>12|224)}n[--e]=0;for(var i=new B,s=[];2<e;){for(s[0]=0;0==s[0];)i.mi(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new b(n)}(t,this.n.ii()+7>>3);if(null==e)return null;var n=this.qi(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},I.prototype.Yi=function(t){if(null==this.p||null==this.q)return t.Ci(this.d,this.n);for(var e=t.Be(this.p).Ci(this.dmp1,this.p),n=t.Be(this.q).Ci(this.dmq1,this.q);e.Ue(n)<0;)e=e.add(this.p);return e.Si(n).multiply(this.coeff).Be(this.p).multiply(this.q).add(n)},I.prototype.Ji=function(t,e,n){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=j(t,16),this.e=parseInt(e,16),this.d=j(n,16)):alert("Invalid RSA private key")},I.prototype.zi=function(t,e,n,r,a,i,s,o){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=j(t,16),this.e=parseInt(e,16),this.d=j(n,16),this.p=j(r,16),this.q=j(a,16),this.dmp1=j(i,16),this.dmq1=j(s,16),this.coeff=j(o,16)):alert("Invalid RSA private key")},I.prototype.Qi=function(t,e){var n=new B,r=t>>1;this.e=parseInt(e,16);for(var a=new b(e,16);;){for(;this.p=new b(t-r,1,n),0!=this.p.Si(b.ONE).Gi(a).Ue(b.ONE)||!this.p.gi(10););for(;this.q=new b(r,1,n),0!=this.q.Si(b.ONE).Gi(a).Ue(b.ONE)||!this.q.gi(10););if(this.p.Ue(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}var s=this.p.Si(b.ONE),o=this.q.Si(b.ONE),u=s.multiply(o);if(0==u.Gi(a).Ue(b.ONE)){this.n=this.p.multiply(this.q),this.d=a.ji(u),this.dmp1=this.d.Be(s),this.dmq1=this.d.Be(o),this.coeff=this.q.ji(this.p);break}}},I.prototype.decrypt=function(t){var e=j(t,16),n=this.Yi(e);return null==n?null:function(t,e){for(var n=t.Ti(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var a="";++r<n.length;){var i=255&n[r];i<128?a+=String.fromCharCode(i):191<i&&i<224?(a+=String.fromCharCode((31&i)<<6|63&n[r+1]),++r):(a+=String.fromCharCode((15&i)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return a}(n,this.n.ii()+7>>3)};var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function O(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=P.charAt(n>>6)+P.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=P.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=P.charAt(n>>2)+P.charAt((3&n)<<4));0<(3&r.length);)r+="=";return r}I.prototype.Xi=function(t){t=this.Zi(t);var e=this.$i(),n=0,r=null,a=null,i=0;for(var s in e)e.hasOwnProperty(s)&&((r=e[s]).hasOwnProperty("offset")&&(n+=2*r.offset),i="string"==typeof r.length?this[r.length]:r.length,i*=2,a=t.substr(n,i),r.hasOwnProperty("type")&&("int"==r.type?a=parseInt(a,16):"bigint"==r.type&&(a=j(a,16))),n+=i,this[s]=a)},I.prototype.nr=function(t){var e="";t=function(t){var e,n,r,a=(t=""+t).length;if(0===a)return t;if(a%4!=0)throw new Error;e=0,"="===t.charAt(a-1)&&(e=1,"="===t.charAt(a-2)&&(e=2),a-=4);var i=[];for(n=0;n<a;n+=4)r=s(t,n)<<18|s(t,n+1)<<12|s(t,n+2)<<6|s(t,n+3),i.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(e){case 1:r=s(t,n)<<18|s(t,n+1)<<12|s(t,n+2)<<6,i.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=s(t,n)<<18|s(t,n+1)<<12,i.push(String.fromCharCode(r>>16))}return i.join("")}(t);for(var n=0;n<t.length;++n){var r=t.charCodeAt(n).toString(16);1===r.length&&(r="0"+r),e+=r}return e},I.prototype.Zi=function(t){var e=(t=t.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==e[0].substring(0,10)&&(e=e.slice(1,e.length-1)),t=e.join(""),this.nr(t)},I.prototype.tr=function(){var t="",e=this.$i(),n=null,r=null,a=0;for(var i in e)e.hasOwnProperty(i)&&(n=e[i]).er&&((r=this[i].toString(16)).length%2&&(r="0"+r),n.hasOwnProperty("padded")&&n.ir&&(r="00"+r),(a=(a=r.length/2).toString(16)).length%2&&(a="0"+a),n.hasOwnProperty("extraspace")&&(t+=a),t+=a,t+=r,t+="02");return t.slice(0,-2)},I.prototype.rr=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(new RegExp(n,"g")).join("\n")},I.prototype.or=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n",e="3082025e02010002";return e+=this.tr(),(t+=this.rr(O(e))+"\n")+"-----END RSA PRIVATE KEY-----"},I.prototype.ur=function(){var t="-----BEGIN PUBLIC KEY-----\n",e="30819f300d06092a864886f70d010101050003818d0030818902";return e+=this.tr(),(t+=this.rr(O(e))+"\n")+"-----END PUBLIC KEY-----"};function N(t){I.call(this),t&&this.Xi(t)}((N.prototype=new I).constructor=N).prototype.$i=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",er:!0,ir:!0,sr:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",er:!0,ir:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",er:!0,ir:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",er:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",er:!0,ir:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",er:!0,ir:!0}}};function M(t){I.call(this),t&&("string"==typeof t?this.Xi(t):t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&(this.n=t.n,this.e=t.e))}((M.prototype=new I).constructor=M).prototype.$i=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0}}};function F(){this.ar=null,this.cr=null}return F.prototype.lr=function(t){this.ar=new N(t),this.cr=new M(this.ar)},F.prototype.pr=function(t){this.cr=new M(t)},F.prototype.decrypt=function(t){return!!this.ar&&this.ar.decrypt(function(t){var e,n,r="",a=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var i=P.indexOf(t.charAt(e));i<0||(a=0==a?(r+=u(i>>2),n=3&i,1):1==a?(r+=u(n<<2|i>>4),n=15&i,2):2==a?(r+=u(n),r+=u(i>>2),n=3&i,3):(r+=u(n<<2|i>>4),r+=u(15&i),0))}return 1==a&&(r+=u(n<<2)),r}(t))},F.prototype.encrypt=function(t){var e=this.cr||this.ar;return!!e&&O(e.encrypt(t))},F.prototype.or=function(){return this.ar||(this.ar=new N,this.ar.Qi(1024,"010001"),this.cr=new M(this.ar)),this.ar.or()},F.prototype.ur=function(){return this.cr||(this.cr=new M,this.cr.Qi(1024,"010001")),this.cr.ur()},function(t){var e=new F;return e.pr(U.Xt),e.encrypt(t)}}(),e.exports=r.encrypt},{17:17}],26:[function(t,e,n){var r=r||{},a="undefined";r.vr=function(t,e){return e=e||!1,t?"0"!=t:e},r.U=function(t,e){return null==t||isNaN(t)?e||0:parseInt(t)},r.o=function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},r.toString=function(t){if(typeof t==a)return a;if("string"==typeof t)return t;if(t instanceof Array)return t.join(",");var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e||t.toString()},e.exports.vr=r.vr,e.exports.U=r.U,e.exports.o=r.o,e.exports.toString=r.toString},{}],27:[function(t,e,n){var f=t(19),r="undefined",a=t(24);e.exports=function(){var i=this,o=typeof encodeURIComponent!=r?encodeURIComponent:escape,s=typeof decodeURIComponent!=r?decodeURIComponent:unescape,u="cs_dir_",l="cs_file_",c=typeof localStorage!=r?localStorage:null,d={},p=c&&o&&s;a.extend(i,{dir:function(t){if(!p)return null;var e=u+t,n=d[e];if(n)return n.slice();var r=c.getItem(e);if(r){n=[];for(var a=0,i=(r=r.split("|")).length;a<i;a++)0<r[a].length&&n.push(s(r[a]));return(d[e]=n).slice()}return null},append:function(t,e,n){if(p){var r=i.read(t,e);r?r+=n:r=n,i.write(t,e,r)}},write:function(n,t,e){if(p){var r,a=i.dir(n);a||(r=u+n,"function"==typeof c.setItem?c.setItem(r,""):c[r]="",d[r]=[],a=[]),-1==f.indexOf(t,a)&&function(t){var e=u+n;try{"function"==typeof c.setItem?c.setItem(e,c.getItem(e)+"|"+o(t)):c[e]=c.getItem(e)+"|"+o(t)}catch(t){}d[e].push(t)}(t),function(t,e,n){try{"function"==typeof c.setItem?c.setItem(l+t+e,n):c[l+t+e]=n}catch(t){}}(n,t,e)}},deleteFile:function(t,e){if(!p)return!1;var n=i.dir(t);return!!n&&-1!=f.indexOf(e,n)&&(function(t,e){var n=u+t,r=d[n];r.splice(f.indexOf(e,r),1);for(var a=[],i=0,s=r.length;i<s;i++)a.push(o(r[i]));try{"function"==typeof c.setItem?c.setItem(n,a.join("|")):c[n]=a.join("|"),"function"==typeof c.removeItem?c.removeItem(l+t+e):delete c[l+t+e]}catch(t){}}(t,e),!0)},read:function(t,e){if(!p)return null;var n=i.dir(t);return!n||-1==f.indexOf(e,n)?null:function(t,e){try{return"function"==typeof c.getItem?c.getItem(l+t+e):c[l+t+e]}catch(t){}}(t,e)}})}},{19:19,24:24}],28:[function(t,e,n){var s,a,i=t(19),r="undefined",o=t(24),u=null,l=null,c="cs_dir_",d="|",p={},f=!1;function h(){u=typeof FileSystem!=r?new FileSystem:null,l=typeof curWidget!=r?curWidget.id:null,typeof sf!=r&&(a=s=function(t,e){sf.core.localData(t,e)}),null==u||typeof u.isValidCommonPath==r||u.isValidCommonPath(l)||u.createCommonDir(l),f=!0}function m(t){return t.replace(/^\s+|\s+$/g,"")}function g(t,e){var n=p[t];n?n.push(e):n=p[t]=[e],a(c+t,n.join(d))}function v(t,e){var n=p[t],r=i.indexOf(e,n);0<=r&&(n.splice(r,1),a(c+t,0===n.length?null:n.join(d)))}e.exports=function(){o.extend(this,{dir:function(t){if(f||h(),u.isValidCommonPath(l+"/"+t)){var e=p[t];if(!e){if(!(e=s(c+t)))return null;e=p[t]=e.split(d)}for(var n=e.slice(),r=0,a=n.length;r<a;r++){var i=e[r];u.isValidCommonPath(l+"/"+t+"/"+i)||v(t,i)}return n}return null},append:function(t,e,n){f||h();var r=l+"/"+t;u.isValidCommonPath(r)||u.createCommonDir(r),u.isValidCommonPath(r+"/"+e)||g(t,e);var a=u.openCommonFile(r+"/"+e,"a");a.writeLine(m(n)),u.closeCommonFile(a)},write:function(t,e,n){f||h();var r=l+"/"+t;u.isValidCommonPath(r)||u.createCommonDir(r),u.isValidCommonPath(r+"/"+e)||g(t,e);var a=u.openCommonFile(r+"/"+e,"w");a.writeLine(m(n)),u.closeCommonFile(a)},deleteFile:function(t,e){f||h();var n=l+"/"+t;return!!u.isValidCommonPath(n)&&(v(t,e),u.deleteCommonFile(n+"/"+e))},read:function(t,e){f||h();var n=l+"/"+t;if(!u.isValidCommonPath(n))return null;var r=u.openCommonFile(n+"/"+e,"r");if(r){for(var a,i=[];a=r.readLine();)i.push(a);return u.closeCommonFile(r),i.join("\n")}return v(t,e),""}})}},{19:19,24:24}],29:[function(t,e,n){var r=t(24);e.exports=function(){r.extend(this,{dir:function(){return null},append:function(t,e,n){},write:function(t,e,n){},deleteFile:function(){return!1},read:function(){return null}})}},{24:24}],30:[function(t,e,n){var r=t(21),a=t(17),i=t(49).dr,s=t(49).hr,o=t(45),u=t(29),l="undefined",c=a.D,d=a.Qt,p=null,f=null,h=null;function m(){null==p&&(f=typeof atv!=l&&typeof atv.device!=l&&atv.device.idForVendor?(p=r.pe(atv.device.idForVendor,""),"62"):(p=+new Date+~~(1e3*Math.random()),"72"),h=null)}var g={PLATFORM:"atv",httpGet:i,httpPost:s,Storage:o,IO:u,getCrossPublisherId:function(){return m(),h},getAppName:function(){return c},getAppVersion:function(){return c},getVisitorId:function(){return m(),p},getVisitorIdSuffix:function(){return f},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=l&&typeof atv.device!=l&&r.pe(atv.device.softwareVersion,c)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=l&&typeof atv.device!=l&&r.pe(atv.device.softwareVersion,c)},getDisplayResolution:function(){return typeof atv.device!=l&&typeof atv.device.screenFrame!=l&&typeof atv.device.screenFrame.height!=l&&typeof atv.device.screenFrame.width!=l?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:d},getLanguage:function(){return typeof atv!=l&&typeof atv.device!=l&&r.pe(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(t,e){return typeof atv!=l&&typeof atv.setTimeout!=l&&atv.setTimeout(t,e)},setInterval:function(t,e){return typeof atv!=l&&typeof atv.setInterval!=l&&atv.setInterval(t,e)},clearTimeout:function(t){return typeof atv!=l&&typeof atv.clearTimeout!=l&&atv.clearTimeout(t)},clearInterval:function(t){return typeof atv!=l&&typeof atv.clearInterval!=l&&atv.clearInterval(t)},isCompatible:function(){return typeof window==l&&typeof atv!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,29:29,45:45,49:49}],31:[function(t,e,n){var r=t(21),a=t(20),i=t(17),s=t(50),o=t(48)._r,u=t(46),l=t(27),c="undefined",d=i.D,p=i.Qt,f={PLATFORM:"chromecast",httpGet:s,httpPost:o,Storage:u,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm==c?d:ns_.crm.getApplicationData().name},getAppVersion:function(){return d},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+r.pe(a.ue()+" "+a.se(),d)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var t=typeof window!=c&&r.tn(window.screen)&&r.tn(window.screen.availWidth)?window.screen.availWidth:0,e=typeof window!=c&&r.tn(window.screen)&&r.tn(window.screen.availHeight)?window.screen.availHeight:0;return 0<t&&0<e?t+"x"+e:p},getLanguage:function(){return typeof window!=c&&r.tn(window.navigator)&&r.pe(window.navigator.language,"")||d},getPackageName:function(){return d},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=c&&!r.jt(window.cast)&&!r.jt(cast.receiver)},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=f},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(t,e,n){e.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(t,e,n){var r=t(21),a=t(17),i=t(50),s=t(48).gr,o=t(48)._r,u=t(46),l=t(27),c="undefined",d=a.D,p=a.Qt,f=null,h=null,m=null;function g(){return typeof device!=c&&typeof device.available!=c&&device.available&&typeof window!=c&&typeof window.navigator!=c}function v(){if(null==f){var t=g()&&typeof device!=c&&r.tn(device.uuid)&&0<device.uuid.length?device.uuid:null;m=null!=t?(h="31",f=t):(f=+new Date+~~(1e3*Math.random()),h="72",null)}}var y={PLATFORM:"cordova",httpGet:function(){return typeof Image!=c?i.apply(this,arguments):s.apply(this,arguments)},httpPost:o,Storage:u,IO:l,getCrossPublisherId:function(){return v(),m},getAppName:function(){return d},getAppVersion:function(){return d},getVisitorId:function(){return v(),f},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return typeof device!=c&&r.tn(device.model)||d},getPlatformVersion:function(){return typeof device!=c&&r.tn(device.cordova)&&device.cordova||d},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=c&&r.tn(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=c&&r.tn(device.version)||d},getDisplayResolution:function(){var t=typeof window!=c&&r.tn(window.screen)&&r.tn(window.screen.availWidth)&&window.screen.availWidth||0,e=typeof window!=c&&r.tn(window.screen)&&r.tn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<t&&0<e?t+"x"+e:p},getLanguage:function(){return typeof window!=c&&r.tn(window.navigator)&&r.tn(window.navigator.language)&&window.navigator.language||d},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==c||!r.tn(window.navigator)||!r.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:g,isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=y},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(t,e,n){var r=t(21),a=t(20),i=t(17),s=t(50),o=t(48).gr,u=t(48)._r,l=t(46),c=t(27),d="undefined",p=typeof document!=d&&document||void 0,f=i.D,h=i.Qt,m={PLATFORM:"html5",httpGet:function(){return typeof Image!=d?s.apply(this,arguments):o.apply(this,arguments)},httpPost:u,Storage:l,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return p&&r.tn(p.title)&&p.title||f},getAppVersion:function(){return f},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=d&&r.tn(window.navigator)&&r.pe(window.navigator.platform,"")||""},getPlatformVersion:function(){return r.pe(a.ue()+" "+a.se(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var t,e;typeof window!=d&&window.screen&&window.screen.width&&(t=window.screen.width),typeof window!=d&&window.screen&&window.screen.width&&(e=window.screen.height);var n=1;return typeof window!=d&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<t&&0<e?(t*=n)+"x"+(e*=n):h},getApplicationResolution:function(){var t,e;typeof window!=d&&window.innerWidth&&(t=window.innerWidth),typeof window!=d&&window.innerHeight&&(e=window.innerHeight);var n=1;return typeof window!=d&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<t&&0<e?(t*=n)+"x"+(e*=n):h},getLanguage:function(){return typeof window!=d&&r.tn(window.navigator)&&r.pe(window.navigator.language,"")||f},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==d||!r.tn(window.navigator)||!r.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){try{return typeof window!=d&&r.tn(window.navigator)&&r.tn(window.localStorage)&&r.tn(p)&&!!p.createElement("canvas").getContext}catch(t){return!1}},isConnectionSecure:function(){return!!p&&"s"===p.location.href.charAt(4)}};e.exports=m},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(t,e,n){var r=t(21),a=t(17),i=t(48).gr,s=t(48)._r,o=t(46),u=t(27),l="undefined",c=a.D,d=a.Qt,p=null,f=null,h=null;function m(){if(null==p)if(typeof jsmaf!=l&&r.tn(jsmaf.hardwareId)){var t=jsmaf.hardwareId;f="31",h=p=t}else p=+new Date+~~(1e3*Math.random()),f="72",h=null}function g(){return typeof jsmaf==l||!r.tn(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var v={PLATFORM:"jsmaf",httpGet:i,httpPost:s,Storage:o,IO:u,getCrossPublisherId:function(){return m(),h},getAppName:function(){return c},getAppVersion:function(){return c},getVisitorId:function(){return m(),p},getVisitorIdSuffix:function(){return m(),f},getDeviceModel:function(){return typeof jsmaf!=l&&r.tn(jsmaf.platform)?jsmaf.platform:c},getPlatformName:function(){return"js"},getPlatformVersion:function(){return c},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=l&&r.tn(jsmaf.version)?jsmaf.version:c},getDisplayResolution:function(){return typeof jsmaf!=l&&r.tn(jsmaf.screenWidth)&&r.tn(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:d},getLanguage:function(){return typeof jsmaf!=l&&r.tn(jsmaf.locale)?jsmaf.locale:c},getPackageName:function(){return null},isConnectionAvailable:g,isCompatible:function(){return typeof jsmaf!=l},setTimeout:function(t,e){return jsmaf.setTimeout(t,e)},setInterval:function(t,e){return jsmaf.setInterval(t,e)},clearTimeout:function(t){return jsmaf.clearTimeout(t)},clearInterval:function(t){return jsmaf.clearInterval(t)},getDeviceArchitecture:function(){if(typeof jsmaf==l||!r.tn(jsmaf.platform))var t=c;return"ps3"==jsmaf.platform?t="cell":"ps4"==jsmaf.platform?t="ps4":"vita"==jsmaf.platform&&(t="vita"),t},getConnectionType:function(){return g()&&typeof jsmaf!=l&&r.tn(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":c:c},getDeviceJailBrokenFlag:function(){return c},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=v},{17:17,21:21,27:27,46:46,48:48}],36:[function(t,e,n){var r=t(50),a=t(52).mr,i=t(46),s=t(29),o=t(17),u=o.D,l=o.Qt,c={PLATFORM:"generic",httpGet:r,httpPost:a,Storage:i,IO:s,onDataFetch:function(t){t()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return l},getApplicationResolution:function(){return l},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearTimeout:function(t){return clearTimeout(t)},clearInterval:function(t){return clearInterval(t)},getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};e.exports=c},{17:17,29:29,46:46,50:50,52:52}],37:[function(t,e,n){var r=t(21),a=t(17),i=t(50),s=t(48).gr,o=t(52).mr,u=t(46),l=t(29),c="undefined",d=a.D,p=a.Qt,f=null,h=null,m=null;function g(){if(null==f){var t=function(){if(typeof ns_!=c&&r.tn(ns_.netcastDevice)){if(r.tn(ns_.netcastDevice.net_macAddress)&&r.lt(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(r.tn(ns_.netcastDevice.serialNumber)&&r.lt(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();m=null!=t?(h="31",f=t):(f=+new Date+~~(1e3*Math.random()),h="72",null)}}var v={PLATFORM:"netcast",httpGet:function(){return typeof Image!=c?i.apply(this,arguments):s.apply(this,arguments)},httpPost:o,Storage:u,IO:l,getCrossPublisherId:function(){return g(),m},getAppName:function(){return d},getAppVersion:function(){return d},getVisitorId:function(){return g(),f},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return typeof ns_!=c&&r.tn(ns_.netcastDevice)&&r.tn(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||d},getPlatformVersion:function(){return typeof ns_!=c&&r.tn(ns_.netcastDevice)&&r.pe(ns_.netcastDevice.version,d)||d},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=c&&r.tn(ns_.netcastDevice)?"lg-ott"+r.pe(ns_.netcastDevice.platform,d):d},getRuntimeVersion:function(){if(typeof ns_!=c&&r.tn(ns_.netcastDevice)){if(r.tn(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(r.tn(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(r.tn(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return d},getDisplayResolution:function(){if(typeof ns_!=c&&r.tn(ns_.netcastDevice)&&r.tn(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return p},getLanguage:function(){return typeof ns_!=c&&r.tn(ns_.netcastDevice)&&r.pe(ns_.netcastDevice.tvLanguage2,r.pe(window.navigator.language))||d},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice==c||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!=c){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return d},isCompatible:function(){return typeof ns_!=c&&typeof ns_.netcastDevice!=c&&typeof ns_.netcastDevice.version!=c&&typeof window!=c&&typeof window.navigator!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=v},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(m,g,v){(function(t){var e=m(21),n=m(17),r=m(52).mr,a=m(46),i=m(29),s="undefined",o=n.D,u=n.Qt,l=null,c=null,d=null;function p(){null==l&&(l=+new Date+~~(1e3*Math.random()),c="72",d=null)}function f(n){var r=this,a=0;r.send=function(t){m("http").get(t,function(t){var e=t.statusCode;if((302==e||301==e)&&a<20&&t.headers&&t.headers.location)return a++,void r.send(t.headers.location);n(e)}).on("error",function(){n()})}}var h={PLATFORM:"nodejs",httpGet:function(t,e){new f(e).send(t)},httpPost:r,Storage:a,IO:i,getCrossPublisherId:function(){return p(),d},getVisitorId:function(){return p(),l},getVisitorIdSuffix:function(){return c},getPlatformVersion:function(){var t=m("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof process==s||e.jt(process.version)?o:process.version},getDisplayResolution:function(){return u},isCompatible:function(){return typeof window==s&&typeof g!=s&&typeof v!=s&&typeof t!=s&&typeof process!=s&&e.tn(process.version)},isConnectionSecure:function(){return!1}};g.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(t,e,n){var r=t(24),a=t(32),i=t(36),s=t(40),o=t(37),u=t(43),l=t(33),c=t(41),d=t(30),p=t(44),f=t(31),h=t(42),m=t(35),g=t(38),v=t(34),y=!1;i.autoDetect=function(){y||(y=!0,s.isCompatible()?r.extend(i,s):o.isCompatible()?r.extend(i,o):u.isCompatible()?r.extend(i,u):l.isCompatible()?r.extend(i,l):c.isCompatible()?r.extend(i,c):d.isCompatible()?r.extend(i,d):p.isCompatible()?r.extend(i,p):f.isCompatible()?r.extend(i,f):h.isCompatible()?r.extend(i,h):m.isCompatible()?r.extend(i,m):g.isCompatible()?r.extend(i,g):v.isCompatible()&&r.extend(i,v))},i.autoSelect=i.autoDetect,i.setPlatformAPI=function(t){switch(y=!0,t){case a.SmartTV:r.extend(i,s);break;case a.Netcast:r.extend(i,o);break;case a.Cordova:r.extend(i,l);break;case a.Trilithium:r.extend(i,c);break;case a.AppleTV:r.extend(i,d);break;case a.Chromecast:r.extend(i,f);break;case a.Xbox:r.extend(i,p);break;case a.webOS:r.extend(i,u);break;case a.tvOS:r.extend(i,h);break;case a.JSMAF:r.extend(i,m);break;case a.nodejs:r.extend(i,g);break;case a.html5:r.extend(i,v);break;case a.Skeleton:break;default:y=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(t,e,n){var r=t(21),a=t(17),i=t(48).gr,s=t(52).mr,o=t(47),u=t(28),l="undefined",c=a.D,d=a.Qt,p=null,f=null,h=null;function m(){if(null==p){var t=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var t=sf.core.sefplugin("NNAVI");if("function"!=typeof t.Open||"function"!=typeof t.Execute)return null;t.Open("Network","1.001","Network");var e=t.Execute("GetMAC","0");if(!r.jt(e))return e;if(e=t.Execute("GetMAC","1"),!r.jt(e))return e;var n=t.Execute("GetDeviceID");return r.jt(n)?null:n}();h=null!=t?(f="31",p=t):(p=+new Date+~~(1e3*Math.random()),f="72",null)}}var g={PLATFORM:"smarttv",httpGet:i,httpPost:s,Storage:o,IO:u,getCrossPublisherId:function(){return m(),h},getAppName:function(){return c},getAppVersion:function(){return typeof sf!=l&&r.tn(sf.env)&&r.tn(sf.env.getAppVersion)&&sf.env.getAppVersion()||c},getVisitorId:function(){return m(),p},getVisitorIdSuffix:function(){return f},getDeviceModel:function(){return typeof sf!=l&&r.tn(sf.core)&&r.tn(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||c},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!=l&&r.tn(sf.env)&&r.tn(sf.env.getProductType)&&r.tn(sf.env.PRODUCTTYPE_TV)&&r.tn(sf.env.PRODUCTTYPE_MONITOR)&&r.tn(sf.env.PRODUCTTYPE_BD)){var t=[];return t[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",t[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",t[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",t[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=l&&r.tn(sf.env)&&r.tn(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf==l||!r.tn(sf.env)||!r.tn(sf.env.getScreenSize))return d;var t=sf.env.getScreenSize();return t.width+"x"+t.height},getLanguage:function(){if(typeof sf!=l&&r.tn(sf.env)&&r.tn(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=l&&typeof window.navigator!=l&&typeof sf!=l&&typeof sf.env!=l},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return c;var t=sf.core.sefplugin("NETWORK");if("function"!=typeof t.Open||"function"!=typeof t.Execute)return c;t.Open("Network","1.001","Network");var e=t.Execute("GetActiveType");return 0===e?"wired":1===e?"wireless":c},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(t,e,n){var r=t(21),a=t(17),i=t(51),s=t(52),o=t(46),u=t(29),l="undefined",c=a.D,d=a.Qt,p=null,f=null,h=null;function m(){if(null==p){var t=r.lt(engine.stats.device.id)?engine.stats.device.id:r.lt(engine.stats.network.mac)?engine.stats.network.mac:null;h=null!=t?(f="31",p=t):(p=+new Date+~~(1e3*Math.random()),f="72",null)}}var g={PLATFORM:"trilithium",httpGet:i,httpPost:s,Storage:o,IO:u,getCrossPublisherId:function(){return m(),h},getAppName:function(){return r.lt(engine.stats.application.name)?engine.stats.application.name:c},getAppVersion:function(){return r.lt(engine.stats.application.version)?engine.stats.application.version:c},getVisitorId:function(){return m(),p},getVisitorIdSuffix:function(){return f},getDeviceModel:function(){return r.pe(engine.stats.device.platform,c)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return r.pe(engine.stats.device.version,c)},getDisplayResolution:function(){return typeof screen!=l&&typeof screen.height!=l&&typeof screen.width!=l?screen.height+"x"+screen.width:d},getLanguage:function(){return c},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=l&&typeof engine.stats!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(t,e,n){var r=t(21),a=t(17),i=t(48).gr,s=t(48)._r,o=t(46),u=t(27),l="undefined",c=a.Qt,d=null,p=null,f=null;function h(){null==d&&(p=r.jt(Device.vendorIdentifier)?(d=+new Date+~~(1e3*Math.random()),"72"):(d=Device.vendorIdentifier,"62"),f=d)}var m={PLATFORM:"tvos",httpGet:i,httpPost:s,Storage:o,IO:u,getCrossPublisherId:function(){return h(),f},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return h(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return c},getLanguage:function(){return Settings.language},getPackageName:function(){return Device.appIdentifier},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window==l&&typeof Device!=l&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};e.exports=m},{17:17,21:21,27:27,46:46,48:48}],43:[function(t,e,n){var o,u,l,r=t(21),a=t(17),i=t(50),s=t(48)._r,c=t(46),d=t(27),p="undefined",f=a.D,h=a.Qt,m={PLATFORM:"webos",httpGet:i,httpPost:s,Storage:c,IO:d,onDataFetch:function(t,e){function n(){0==--s&&t()}var r,a,i,s=3;r=n,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(t){t.returnValue&&(o=t),r()},onFailure:function(){r()}}),a=n,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(t){t.returnValue&&(u=t),a()},onFailure:function(){a()}}),i=n,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(t){t.returnValue&&(l=t),i()},onFailure:function(){i()}})},getCrossPublisherId:function(){return typeof webOS!=p&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return o&&o.modelName?o.modelName:f},getPlatformVersion:function(){return o&&o.sdkVersion?o.sdkVersion:f},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!=p&&webOS.device?webOS.device.platformVersion:f},getDisplayResolution:function(){var t=0;typeof webOS!=p&&webOS.device?t=webOS.device.screenWidth:typeof window!=p&&window.screen&&(t=window.screen.availWidth);var e=0;return typeof webOS!=p&&typeof webOS.device!=p?e=webOS.device.screenHeight:typeof window!=p&&window.screen&&(e=window.screen.availHeight),0<t&&0<e?t+"x"+e:h},getLanguage:function(){return u&&u.locales&&(u.locales.UI||u.locales.TV)||f},getPackageName:function(){return f},isConnectionAvailable:function(){return!l||!l.isInternetConnectionAvailable||l.isInternetConnectionAvailable},isCompatible:function(){return typeof window!=p&&!r.jt(window.webOS)&&!r.jt(webOS.service)&&!r.jt(webOS.service.request)},getConnectionType:function(){if(l&&(l.wired||l.wifi)){if("connected"===l.wired.state&&"yes"===l.wired.onInternet)return"eth";if("connected"===l.wifi.state&&"yes"===l.wifi.onInternet)return"wifi"}return f},isConnectionSecure:function(){return typeof document!=p&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=m},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(t,e,n){var r=t(17),a=t(53).wr,i=t(53).yr,s=t(46),o=t(27),u="undefined",l=r.D,c=r.Qt,d=null,p=null,f=null,h=!1,m=!1,g=!1;function v(){typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){m=!0}),y(),g=!0}function y(){var t=null;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=e&&!e.br&&e.Ir&&(t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}f=t}var b={PLATFORM:"xbox",httpGet:a,httpPost:i,Storage:s,IO:o,getCrossPublisherId:function(){return g||v(),m&&y(),f},getAppName:function(){var t=l;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(t=Windows.ApplicationModel.Package.current.id.name),t},getAppVersion:function(){var t=l;if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var e=Windows.ApplicationModel.Package.current.id.version;t=e.major+"."+e.minor+"."+e.build+"."+e.revision}return t},getVisitorId:function(){return h||function(){d=typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),p="72",h=!0}(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=l;return typeof navigator!=u&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(t){return-1!=t.indexOf("Windows NT")}).forEach(function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=l;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(t){return t&&t.id&&t.id.name&&-1!=t.id.name.indexOf("WinJS")&&t.id.version}).forEach(function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),e},getDisplayResolution:function(){var t=c;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var e=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;t=e.rawWidth+"x"+e.rawHeight}return t},getApplicationResolution:function(){var t=c;return typeof window!=u&&window.innerWidth&&window.innerHeight&&(t=window.innerWidth+"x"+window.innerHeight),t},getLanguage:function(){var t=l;return typeof Windows!=u&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(t=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),t},getPackageName:function(){var t=l;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(t=Windows.ApplicationModel.Package.current.id.name),t},isConnectionAvailable:function(){return!(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=u&&WinJS&&typeof Windows!=u&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return g||v(),m},getDeviceArchitecture:function(){var t="unknown";if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:t="arm";break;case 11:t="neutral";break;case 9:t="x64";break;case 0:t="x86"}return t},getConnectionType:function(){var t=l;if(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:t="eth";break;case 71:t="wifi"}return t},getDeviceJailBrokenFlag:function(){return l},isConnectionSecure:function(){return typeof document!=u&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=b},{17:17,27:27,46:46,53:53}],45:[function(t,e,n){var r=t(24),a="undefined",i="cs_";e.exports=function(){var n=typeof atv!=a&&typeof atv.localStorage!=a&&atv.localStorage||null;r.extend(this,{get:function(t){return n&&t&&n.getItem(i+t)||null},set:function(t,e){n&&t&&(n[i+t]=e)},has:function(t){return n&&t&&null!=n.getItem(i+t)||!1},remove:function(t){n&&t&&n.removeItem(i+t)},clear:function(){}})}},{24:24}],46:[function(t,e,n){var r=t(24),a="cs_";e.exports=function(){var n;!function(){try{n="undefined"!=typeof localStorage?localStorage:null}catch(t){n=null}}(),r.extend(this,{get:function(t){try{return n&&"function"==typeof n.getItem?n.getItem(a+t):n?n[a+t]:n}catch(t){}},set:function(t,e){try{n&&"function"==typeof n.setItem?n.setItem(a+t,e):n&&(n[a+t]=e)}catch(t){}},has:function(t){try{return n&&"function"==typeof n.getItem?n.getItem(a+t):n?n[a+t]:n}catch(t){}},remove:function(t){try{n&&"function"==typeof n.removeItem?n.removeItem(a+t):n&&delete n[a+t]}catch(t){}},clear:function(){try{for(var t=0;n&&t<n.length;++t){var e=n.key(t);e.substr(0,a.length)===a&&("function"==typeof n.removeItem?n.removeItem(e):delete n[e])}}catch(t){}}})}},{24:24}],47:[function(t,e,n){var r,a,i=t(24),s="cs_";"undefined"!=typeof sf?a=r=function(t,e){sf.core.localData(t,e)}:(a=function(t,e){$.sf.setData(t,void 0===e?null:e)},r=function(t){return $.sf.getData(t)}),e.exports=function(){i.extend(this,{get:function(t){return r(s+t)},set:function(t,e){a(s+t,e)},has:function(t){return void 0!==r(s+t)},remove:function(t){a(s+t,null)}})}},{24:24}],48:[function(t,e,n){var a="undefined";n.gr=function(t,e){if(typeof XMLHttpRequest!=a){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&(e&&e(n.status),n=null)},n.send()}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()},n._r=function(t,e,n){if(typeof XMLHttpRequest!=a){var r=new XMLHttpRequest;r.open("POST",t,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(e)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],49:[function(t,e,n){var a="undefined";n.dr=function(t,e){if(typeof atv!=a&&typeof XMLHttpRequest!=a){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&(e&&e(n.status),n=null)},n.send()}else typeof atv!=a&&"function"==typeof atv.setTimeout?e&&atv.setTimeout(e,0):e&&e()},n.hr=function(t,e,n){if(typeof atv!=a&&typeof XMLHttpRequest!=a){var r=new XMLHttpRequest;r.open("POST",t,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(e)}else typeof atv!=a&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},{}],50:[function(t,e,n){e.exports=function(t,e){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){e&&e(200),n=null},n.onerror=function(){e&&e(),n=null},n.src=t}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],51:[function(t,e,n){e.exports=function(t,e){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",t,null).start(),e&&setTimeout(e,0)):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],52:[function(t,e,n){e.exports.Sr=function(t,e){"function"==typeof setTimeout?e&&setTimeout(function(){e(200)},0):e&&e(200)},e.exports.mr=function(t,e,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)}},{}],53:[function(t,e,n){var r="undefined";n.wr=function(t,e){typeof WinJS!=r&&typeof WinJS.xhr!=r?WinJS.xhr({url:t}).then(function(t){e&&e(t.status)},function(){e&&e()}):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()},n.yr=function(t,e,n){typeof WinJS!=r&&typeof WinJS.xhr!=r?WinJS.xhr({type:"post",url:t,data:e,headers:{"Content-type":"application/xml"}}).then(function(t){n&&n(t.status)},function(){n&&n()}):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],54:[function(t,e,n){var at=t(24),it=t(17),st=t(21),ot=t(68),ut=t(23);function r(){var e,n,w,E,r,a,i,s,S,T,k,D,o,u,L,x,l,C,R,c,B,j,I,P,O,N,M,F,U,G,V,d,K,H,t,z,p,f,h,W,m,g,v,Y,y,b,q,A,X,J,Q,Z,$,tt,_,et,nt=this,rt=500;at.extend(nt,{Pr:function(){return e},Ar:function(t){e=t},setPlaybackIntervalMergeTolerance:function(t){rt=t},getPlaybackIntervalMergeTolerance:function(){return rt},Cr:function(t,e){E[t]=e},kr:function(t){return E[t]},Er:function(t){return null!=E[t]},setLabels:function(t){t&&at.extend(r,t)},getLabels:function(){return r},setLabel:function(t,e){r[t]=e},getLabel:function(t){return r[t]},dt:function(t){return t in r},Tr:function(){return parseInt(nt.kr("ns_st_cn"))},Nr:function(t){nt.Cr("ns_st_cn",t+"")},Lr:function(){return nt.dt("ns_st_pn")?parseInt(nt.getLabel("ns_st_pn")):parseInt(nt.kr("ns_st_pn"))},Dr:function(t,e,n){var r=t,a=parseInt(r.ns_st_po),i=st.jt(r.ns_st_ap)?B:parseInt(r.ns_st_ap);r.ns_st_dap=n&&et<0&&0<D-a?(r.ns_st_ap=i+D-a,i+D-a-j):n&&0<et&&0<a-D?(r.ns_st_ap=i+a-D,i+a-D-j):(r.ns_st_ap=i)-j;var s=st.jt(r.ns_st_pt)?nt.Rr():parseInt(r.ns_st_pt);r.ns_st_pt=s+(isNaN(S)?0:e-S)+"",r.ns_st_dpt=s+(isNaN(S)?0:e-S)-T+"",r.ns_st_ipt=s+(isNaN(S)?0:e-S)-k+"";var o=st.jt(r.ns_st_et)?nt.Mr():parseInt(r.ns_st_et);r.ns_st_et=o+(isNaN(L)?0:e-L)+"",r.ns_st_det=o+(isNaN(L)?0:e-L)-x+"";var u=st.jt(r.ns_st_bt)?nt.Or():parseInt(r.ns_st_bt);r.ns_st_bt=u+"",r.ns_st_dbt=u+(isNaN(K)?0:e-K)-H+"";var l=I,c=P;n&&(l=ot.Wr(ut(I),et<0?a:O,et<0?O:a,rt),c=ot.Wr(ut(P),et<0?a:O,et<0?O:a,rt));for(var d,p=0,f=0,h=0;h<l.length;h++)p+=d=Math.abs(l[h].end-l[h].start),f<d&&(f=d);var m=0,g=0;for(h=0;h<c.length;h++)m+=d=Math.abs(c[h].end-c[h].start),g<d&&(g=d);r.ns_st_upc=p+"",r.ns_st_dupc=p-N+"",r.ns_st_iupc=p-M+"",r.ns_st_iupc=M<p?p-M+"":"0",r.ns_st_lpc=f+"",r.ns_st_dlpc=f-F+"",r.ns_st_upa=m+"",r.ns_st_dupa=m-U+"",r.ns_st_iupa=G<m?m-G+"":"0",r.ns_st_lpa=g+"",r.ns_st_dlpa=g-V+"";var v=st.jt(r.ns_st_pc)?nt.Vr():parseInt(r.ns_st_pc);r.ns_st_pc=v+"",r.ns_st_dpc=v-q+"";var y=st.jt(r.ns_st_skc)?nt.xr():parseInt(r.ns_st_skc);r.ns_st_skc=y+"",r.ns_st_dskc=y-X+"";var b=st.jt(r.ns_st_bc)?nt.Ur():parseInt(r.ns_st_bc);r.ns_st_bc=b+"",r.ns_st_dbc=b-z+"";var A=st.jt(r.ns_st_skt)?nt.Br():parseInt(r.ns_st_skt);r.ns_st_skt=A+"",r.ns_st_dskt=A-W+"";var _=st.jt(r.ns_st_ska)?nt.Fr():parseInt(r.ns_st_ska);r.ns_st_ska=_+"",r.ns_st_dska=_-Y+"",w&&(r.ns_st_spc=J+"",r.ns_st_apc=Q+"",r.ns_st_sq=Z+"",r.ns_st_asq=$+""),r.ns_st_sc=w||0!=tt?tt+"":"1",r.ns_st_rt=et+"",r.ns_st_ldw=C,r.ns_st_ldo=R,at.extend(r,E)},jr:function(t){T=parseInt(t.ns_st_pt),j=parseInt(t.ns_st_ap),x=parseInt(t.ns_st_et),H=parseInt(t.ns_st_bt),N=parseInt(t.ns_st_upc),F=parseInt(t.ns_st_lpc),U=parseInt(t.ns_st_upa),V=parseInt(t.ns_st_lpa),q=parseInt(t.ns_st_pc),X=parseInt(t.ns_st_skc),z=parseInt(t.ns_st_bc),W=parseInt(t.ns_st_skt),Y=parseInt(t.ns_st_ska),nt.Gr(0)},Kr:function(t){k=parseInt(t.ns_st_pt),M=parseInt(t.ns_st_upc),G=parseInt(t.ns_st_upa)},qr:function(){return nt.kr("ns_st_vt")},Hr:function(t){nt.Cr("ns_st_vt",t+"")},Yr:function(){return nt.kr("ns_st_at")},Jr:function(t){nt.Cr("ns_st_at",t+"")},zr:function(){return nt.kr("ns_st_tt")},Qr:function(t){nt.Cr("ns_st_tt",t+"")},Xr:function(){return nt.kr("ns_st_cdn")},Zr:function(t){nt.Cr("ns_st_cdn",t+"")},$r:function(){return I},no:function(t){I=t},to:function(){return P},eo:function(){b++},io:function(){A++},ro:function(){Z++},oo:function(){return Z},Or:function(){return d},uo:function(t){d=t},so:function(t){if(!isNaN(K)){var e=nt.Or();e+=t-K,nt.uo(e),K=NaN}},ao:function(t){O=parseInt(t)},fo:function(){return O},co:function(t){isNaN(O)||isNaN(t)||(I=ot.Wr(I,et<0?t:O,et<0?O:t,rt),P=ot.Wr(P,et<0?t:O,et<0?O:t,rt),O=NaN)},Mr:function(){return u},lo:function(t){u=t},po:function(t){if(!isNaN(L)){var e=nt.Mr();e+=t-L,nt.lo(e),L=NaN}},vo:function(){return L},do:function(t){L=t},ho:function(t){isNaN(S)||(s+=t-S,S=NaN)},Rr:function(){return s},_o:function(t){var e=D+c-R;return!i&&isNaN(S)||(e+=Math.floor((t-o)*et/100)),e},mo:function(t,e){return i?D-t+Math.floor((e-o)*et/100)+c:0},wo:function(t,e){D=t,o=e},yo:function(){return S},bo:function(t){S=t},Io:function(t){T=t},So:function(){return K},Po:function(t){K=t},Vr:function(){return b},Ao:function(t){b=t},xr:function(){return A},Co:function(t){A=t},ko:function(t){p=t},Eo:function(){return p},To:function(t){g=t},No:function(){return g},Lo:function(t){n=t},Do:function(){return n},Ro:function(t){w=t},Mo:function(){return w},Oo:function(t){f=t},Wo:function(){return f},Vo:function(t){if(!isNaN(f)){var e=nt.Br();e+=t-f,nt.xo(e),f=NaN}},Br:function(){return h},xo:function(t){h=t},Uo:function(t){y=t},Bo:function(){return y},Fo:function(t){m=t},jo:function(){return m},Go:function(t){v=t},Fr:function(){return v},Ko:function(t){var e,n=nt.Fr();n+=Math.abs(t-m),nt.Go(n),m==t?e=0:t<m?e=-1:m<t&&(e=1),nt.Gr(e),m=0},qo:function(){return parseInt(nt.kr("ns_st_skd"))},Gr:function(t){nt.Cr("ns_st_skd",t+"")},Ho:function(){P=[],X=A=Y=v=W=h=x=u=V=G=U=Z=q=b=z=t=H=d=k=T=s=j=B=0},Yo:function(){J++},Jo:function(){tt++},zo:function(){Q++},Qo:function(){return N},Xo:function(t){N=t},Zo:function(){return M},$o:function(t){M=t},nu:function(t){F=t},tu:function(){return F},eu:function(){P=[],V=G=U=0},iu:function(t){J=t},ru:function(t){tt=t},ou:function(t){Q=t},uu:function(t){l=t},su:function(){return J},au:function(){return tt},fu:function(){return Q},cu:function(){return l},Ur:function(){return t},lu:function(){t++},pu:function(){return H},vu:function(t){$=t},du:function(){$++},hu:function(){return $},_u:function(){return _},gu:function(t){_=t},mu:function(t){a=!!t},wu:function(){return a},yu:function(){return et},bu:function(t){et=t},Iu:function(t){et<0&&0<D-t?B+=D-t:0<et&&0<t-D&&(B+=t-D)},Su:function(t){C=t},Pu:function(){return C},Au:function(t){R=t},Cu:function(){return R},ku:function(t){c=t},Eu:function(t){i=t}}),E={ns_st_cl:"0",ns_st_pn:"1",ns_st_tp:"0",ns_st_cn:"1",ns_st_skd:"0",ns_st_ci:"0",c3:"*null",c4:"*null",c6:"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ct:"*null"},n=w=!(r={}),e=it.D,i=!(a=!0),I=[],f=K=O=L=S=NaN,tt=$=Z=Q=J=X=A=q=b=Y=v=W=h=y=m=z=t=H=d=V=G=U=F=M=N=j=B=c=R=C=k=x=l=u=T=D=s=0,_=g=p=!(P=[]),et=100}r.Tu=function(t,e,n){for(var r=t.getLabels(),a={},i=0;n&&i<n.length;++i)r.hasOwnProperty(n[i])&&(a[n[i]]=r[n[i]]);e.setLabels(a),e.setPlaybackIntervalMergeTolerance(t.getPlaybackIntervalMergeTolerance())},e.exports=r},{17:17,21:21,23:23,24:24,68:68}],55:[function(t,e,n){e.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(t,e,n){var l=t(73),p=t(74),f=t(76),h=t(77),m=t(69),v=t(71),y=t(72),b=t(70),A=t(75),J=t(78),Q=t(79),Z=t(80),$=t(81),tt=t(55),et=t(68),nt=t(65),rt=t(20),at=t(24),it=t(19),st=t(82),ot=t(62),ut=t(63),lt=t(58).Nu,ct=t(58).Lu,dt=t(58).Du,pt=t(61),ft=t(60),ht=t(59),mt=t(18),gt=t(66),vt=t(17),yt=t(2),bt="undefined",At="6.3.3.190211";e.exports=function(_){var w,E,S,T,k,D,L,x,C,R,B,j,I,P,e,n,O,N,r,a,i,M,F,o,c,U,G,V=this,t={},s=500,u=500,g={},d=!1,K=!0,H=!1,z=!1;function W(t){var e=w.Mu().Ru();if(e==lt.IDLE||e==lt.PLAYBACK_NOT_STARTED||e==lt.BUFFERING_BEFORE_PLAYBACK||e==lt.SEEKING_BEFORE_PLAYBACK){if(t==ct.PLAY)return 1}else if(e==lt.PLAYING){if(t==ct.END||t==ct.AD_SKIP||t==ct.SEEK_START||t==ct.PAUSE)return 1}else if(e==lt.PAUSED||e==lt.BUFFERING_DURING_PAUSE||e==lt.SEEKING_DURING_PLAYBACK||e==lt.SEEKING_DURING_BUFFERING||e==lt.SEEKING_DURING_PAUSE){if(t==ct.END||t==ct.AD_SKIP||t==ct.PLAY)return 1}else if(e==lt.BUFFERING_DURING_PLAYBACK){if(t==ct.PAUSE_ON_BUFFERING||t==ct.END||t==ct.AD_SKIP||t==ct.SEEK_START||t==ct.PAUSE||t==ct.PLAY)return 1}else if(e==lt.BUFFERING_DURING_SEEKING){if(t==ct.END||t==ct.AD_SKIP||t==ct.PAUSE||t==ct.PLAY)return 1}else if(e==lt.PAUSED_DURING_BUFFERING&&(t==ct.END||t==ct.AD_SKIP||t==ct.BUFFER_STOP||t==ct.PLAY))return 1}function Y(){H||(H=!0,st.Ou(q))}function q(t){G=t,z=!0}function X(){var t={},e=et.Wu(t);V.Vu(ct.END,e,t)}at.extend(V,{getConfiguration:function(){return _||{}},Dr:function(t,e,n){var r=w.getPlaybackSession(),a=r.getAsset(),i=!1;if(t==ct.HEARTBEAT){var s=isNaN(N)?O:N;((N=n)<s||z)&&(z=!(i=!0),n<s?(r.xu("1"),w.Uu().$t("System clock jump detected","to the far past")):G?(r.xu("3"),w.Uu().$t("System clock jump detected","to the future")):(r.xu("2"),w.Uu().$t("System clock jump detected","to the near past")),n=s)}var o={};if(d&&(o.c2=c),typeof document!=bt){var u=document;o.c7=u.URL,o.c8=u.title,o.c9=u.referrer}o.ns_ts=+new Date+"",o.ns_st_ev=ct.toString(t),o.ns_st_mp="js_api",o.ns_st_mv=At,o.ns_st_ub="0",o.ns_st_br="0",o.ns_st_pn="1",o.ns_st_tp="0",o.ns_st_it=dt.toString(dt.Bu),o.ns_st_sv=At,o.ns_st_smv="5.10",o.ns_type="hidden",o.ns_st_ec=w.ju().Fu()+"",o.ns_st_ki=w.S().Gu()+"",e.ns_st_po?o.ns_st_po=e.ns_st_po+"":a.wu()?o.ns_st_po=a._o(n)+"":o.ns_st_po=U+"",U=parseInt(o.ns_st_po),r.Dr(o,n),r.getAsset().Dr(o,n,t==ct.HEARTBEAT);var l={};return at.extend(l,g),at.extend(l,r.getLabels()),at.extend(l,r.getAsset().getLabels()),at.extend(l,e),i&&(a.wo(U,N),r.bo(N-parseInt(o.ns_st_dpt)),a.bo(N-parseInt(o.ns_st_dpt)),a.do(N-parseInt(o.ns_st_det))),{Wt:t,Ut:o,Ku:l}},Vu:function(t,e,n,r){V.qu();var a=w.Mu().Ru(),i=w.Mu().Hu(t);if(null!=i&&i!=a)if(!V.isThrottlingEnabled()||a!=lt.PLAYING&&a!=lt.PAUSED||i!=lt.PLAYING&&i!=lt.PAUSED||r){var s,o;_.systemClockJumpDetection&&(i==lt.IDLE?(st.Yu(q),H=!1):a==lt.IDLE&&Y()),K&&et.Ju(a)&&!et.Ju(i)?ot.zu(X):K&&!et.Ju(a)&&et.Ju(i)&&ot.Qu(X);var u=w.getPlaybackSession(),l=u.getAsset(),c=isNaN(N)?O:N,d=!1;((N=e)<c||z)&&(z=!(d=!0),e<c?(u.xu("1"),w.Uu().$t("System clock jump detected","to the far past")):G?(u.xu("3"),w.Uu().$t("System clock jump detected","to the future")):(u.xu("2"),w.Uu().$t("System clock jump detected","to the near past")),e=c),n.ns_st_po?w.Mu().Ru()==lt.IDLE?l.Au(l.Pu()-parseInt(n.ns_st_po)):l.Au(l.mo(parseInt(n.ns_st_po),e)):l.wu()?w.Mu().Ru()==lt.IDLE?n.ns_st_po=l.Pu()-l.Cu()+"":n.ns_st_po=l._o(e)+"":n.ns_st_po=U+"";var p,f,h,m,g=parseInt(n.ns_st_po);U=g,p=t,f=e,h=n,m=w.Mu().Ru(),p==ct.AD_SKIP&&!h.hasOwnProperty("ns_st_ui")&&W(p)?h.ns_st_ui="skip":p==ct.SEEK_START&&!h.hasOwnProperty("ns_st_ui")&&W(p)&&(h.ns_st_ui="seek"),m==lt.IDLE?p==ct.BUFFER?E.Xu(f,h):p==ct.SEEK_START?E.Zu(f,h):p==ct.PLAY&&E.$u(f,h):m==lt.PLAYBACK_NOT_STARTED?p==ct.END||p==ct.AD_SKIP?T.ns(f,h):p==ct.SEEK_START?T.Zu(f,h):p==ct.PLAY?T.$u(f,h):p==ct.BUFFER&&T.Xu(f,h):m==lt.PLAYING?p==ct.END||p==ct.AD_SKIP?k.ns(f,h):p==ct.BUFFER?k.Xu(f,h):p==ct.SEEK_START?k.Zu(f,h):p==ct.PAUSE&&k.ts(f,h):m==lt.PAUSED?p==ct.END||p==ct.AD_SKIP?S.ns(f,h):p==ct.PLAY?S.$u(f,h):p==ct.BUFFER?P.es(f,h):p==ct.SEEK_START&&P.rs(f,h):m==lt.BUFFERING_BEFORE_PLAYBACK?p==ct.END||p==ct.AD_SKIP?D.ns(f,h):p==ct.BUFFER_STOP?D.os(f,h):p==ct.SEEK_START?D.Zu(f,h):p==ct.PAUSE?D.ts(f,h):p==ct.PLAY&&D.$u(f,h):m==lt.BUFFERING_DURING_PLAYBACK?p==ct.PAUSE_ON_BUFFERING?L.us(f,h):p==ct.BUFFER_STOP?P.ss(f,h):p==ct.END||p==ct.AD_SKIP?L.ns(f,h):p==ct.SEEK_START?L.Zu(f,h):p==ct.PAUSE?L.ts(f,h):p==ct.PLAY&&P.ss(f,h):m==lt.BUFFERING_DURING_SEEKING?p==ct.END||p==ct.AD_SKIP?x.ns(f,h):p==ct.PAUSE?x.ts(f,h):p==ct.PLAY?x.$u(f,h):p==ct.BUFFER_STOP&&P.as(f,h):m==lt.BUFFERING_DURING_PAUSE?p==ct.END||p==ct.AD_SKIP?C.fs(f,h):p==ct.PAUSE?C.ts(f,h):p==ct.PLAY?C.$u(f,h):p==ct.SEEK_START?P.rs(f,h):p==ct.BUFFER_STOP&&P.as(f,h):m==lt.SEEKING_BEFORE_PLAYBACK?p==ct.END||p==ct.AD_SKIP?B.ns(f,h):p==ct.PAUSE?B.ts(f,h):p==ct.PLAY?B.$u(f,h):p==ct.BUFFER&&P.es(f,h):m==lt.SEEKING_DURING_PLAYBACK?p==ct.END||p==ct.AD_SKIP?I.ns(f,h):p==ct.PLAY?I.$u(f,h):p==ct.BUFFER?P.es(f,h):p==ct.PAUSE&&P.cs(f,h):m==lt.SEEKING_DURING_BUFFERING?p==ct.PAUSE?j.ts(f,h):p==ct.BUFFER?P.es(f,h):p==ct.PLAY?P.ls(f,h):p==ct.END||p==ct.AD_SKIP?P.ps(f,h):p==ct.BUFFER_STOP&&P.vs(f,h):m==lt.PAUSED_DURING_BUFFERING?p==ct.END||p==ct.AD_SKIP?R.ns(f,h):p==ct.BUFFER_STOP?R.ds(f,h):p==ct.SEEK_START?R.Zu(f,h):p==ct.PAUSE?R.ts(f,h):p==ct.PLAY&&R.ds(f,h):m==lt.SEEKING_DURING_PAUSE&&(p==ct.BUFFER?P.es(f,h):p==ct.PLAY?P.ls(f,h):p==ct.PAUSE?P.cs(f,h):p==ct.END||p==ct.AD_SKIP?P.ps(f,h):p==ct.BUFFER_STOP&&P.vs(f,h)),W(p)&&w.getPlaybackSession().hs(!0),l.wo(g,e),l.ku(l.Cu());var v=0;isNaN(w.Mu()._s())||(v=e-w.Mu()._s()),w.Mu().Vu(t,e),d&&(l.wo(g,N),i!=lt.IDLE&&i!=lt.PLAYBACK_NOT_STARTED&&i!=lt.SEEKING_BEFORE_PLAYBACK&&i!=lt.BUFFERING_BEFORE_PLAYBACK&&l.do(N),i!=lt.BUFFERING_BEFORE_PLAYBACK&&i!=lt.BUFFERING_DURING_PAUSE&&i!=lt.BUFFERING_DURING_PLAYBACK&&i!=lt.BUFFERING_DURING_SEEKING&&i!=lt.PAUSED_DURING_BUFFERING||(u.Po(N),l.Po(N)),i==lt.PLAYING&&(u.bo(N),l.bo(N)),i!=lt.SEEKING_BEFORE_PLAYBACK&&i!=lt.SEEKING_DURING_BUFFERING&&i!=lt.SEEKING_DURING_PAUSE&&i!=lt.SEEKING_DURING_PLAYBACK&&i!=lt.BUFFERING_DURING_SEEKING||l.Oo(N)),w.Uu().log("Transition from",et.gs(a),"to",et.gs(i),"due to event:",ct.toString(t));for(var y=0,b=F.length;y<b;y++)F[y](a,i,n,v)}else{w.Uu().$t("Throttled event:",ct.toString(t),"during state",et.gs(a),n,V.getThrottlingDelay(),"ms");var A=(s=t,o=n,function(){V.Vu(s,e,o,!0)});M=V.getPlatformAPI().setTimeout(A,V.getThrottlingDelay())}else w.Uu().$t("Ignored event:",ct.toString(t),"during state",et.gs(a),n)},ms:function(t,e,n){var r=w.Mu().Ru();if(t!=ct.LOAD&&t!=ct.ENGAGE||r==lt.IDLE){t==ct.ERROR&&null==n.ns_st_er&&(n.ns_st_er=vt.D),t==ct.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=vt.D);var a,i,s,o,u=!0,l=!1;switch(t){case ct.BIT_RATE:a="ns_st_br",i="ns_st_pbr";break;case ct.PLAYBACK_RATE:a="ns_st_rt",i="ns_st_prt";break;case ct.VOLUME:a="ns_st_vo",i="ns_st_pvo";break;case ct.WINDOW_STATE:a="ns_st_ws",i="ns_st_pws";break;case ct.AUDIO:a="ns_st_at",i="ns_st_pat";break;case ct.VIDEO:a="ns_st_vt",i="ns_st_pvt";break;case ct.SUBS:a="ns_st_tt",i="ns_st_ptt";break;case ct.CDN:a="ns_st_cdn",i="ns_st_pcdn";break;default:u=!1}var c=w.getPlaybackSession(),d=c.getAsset();if(u&&a in n)switch(o=n[a],t){case ct.BIT_RATE:case ct.VOLUME:case ct.WINDOW_STATE:a in g&&(s=g[a],l=o==(n[i]=s)+""),g[a]=n[a];break;case ct.AUDIO:case ct.VIDEO:case ct.SUBS:case ct.CDN:d.Er(a)&&(s=d.kr(a),l=o==(n[i]=s)+""),d.Cr(a,n[a]);break;case ct.PLAYBACK_RATE:s=d.yu(),n[i]=s+""}if(u&&r!=lt.PLAYING&&r!=lt.BUFFERING_DURING_PLAYBACK||u&&l)return t==ct.PLAYBACK_RATE&&d.bu(parseInt(n.ns_st_rt)),void w.Uu().$t("No measurement send for the pseudo-event:",ct.toString(t),"during state",et.gs(r),n);var p=isNaN(N)?O:N,f=!1;((N=e)<p||z)&&(z=!(f=!0),e<p?(c.xu("1"),w.Uu().$t("System clock jump detected","to the far past")):G?(c.xu("3"),w.Uu().$t("System clock jump detected","to the future")):(c.xu("2"),w.Uu().$t("System clock jump detected","to the near past")),e=p),n.ns_st_po?d.Au(d.mo(parseInt(n.ns_st_po),e)):d.wu()?n.ns_st_po=d._o(e)+"":n.ns_st_po=U+"";var h=parseInt(n.ns_st_po);U=h,w.getPlaybackSession().getAsset().wo(h,e),d.ku(d.Cu()),r!=lt.IDLE&&r!=lt.PLAYBACK_NOT_STARTED&&r!=lt.SEEKING_BEFORE_PLAYBACK&&r!=lt.BUFFERING_BEFORE_PLAYBACK&&(d.po(e),d.do(e)),r==lt.PLAYING&&(c.ho(e),c.bo(e),d.ho(e),d.bo(e),d.Iu(h),d.co(parseInt(n.ns_st_po)),d.ao(parseInt(n.ns_st_po))),r!=lt.BUFFERING_BEFORE_PLAYBACK&&r!=lt.BUFFERING_DURING_PAUSE&&r!=lt.BUFFERING_DURING_PLAYBACK&&r!=lt.BUFFERING_DURING_SEEKING||(c.so(e),c.Po(e),d.so(e),d.Po(e));var m=V.Dr(t,n,e);d.jr(m.Ut),d.Kr(m.Ut),w.ju().Vu(m),t==ct.PLAYBACK_RATE&&d.bu(parseInt(n.ns_st_rt)),f&&(d.wo(h,N),r==lt.PLAYING&&(c.bo(N),d.bo(N)),r!=lt.IDLE&&r!=lt.PLAYBACK_NOT_STARTED&&r!=lt.SEEKING_BEFORE_PLAYBACK&&r!=lt.BUFFERING_BEFORE_PLAYBACK&&d.do(N),r!=lt.BUFFERING_BEFORE_PLAYBACK&&r!=lt.BUFFERING_DURING_PAUSE&&r!=lt.BUFFERING_DURING_PLAYBACK&&r!=lt.BUFFERING_DURING_SEEKING&&r!=lt.PAUSED_DURING_BUFFERING||(c.Po(N),d.Po(N)),r!=lt.SEEKING_BEFORE_PLAYBACK&&r!=lt.SEEKING_DURING_BUFFERING&&r!=lt.SEEKING_DURING_PAUSE&&r!=lt.SEEKING_DURING_PLAYBACK&&r!=lt.BUFFERING_DURING_SEEKING||d.Oo(N))}else w.Uu().$t("Ignored pseudo-event:",ct.toString(t),"during state",et.gs(r),n)},getState:function(){return w.Mu().Ru()},addListener:function(t){F.push(t)},removeListener:function(t){F.splice(it.indexOf(t,F),1)},getLabel:function(t){return g[t]},getLabels:function(){return g},setLabel:function(t,e){null==e?delete g[t]:g[t]=e},setLabels:function(t){for(var e in t)t.hasOwnProperty(e)&&V.setLabel(e,t[e])},getPlatformAPI:function(){return w.ws().getPlatformAPI()},ys:function(){return t},isProperlyInitialized:function(){var t=w.ws().Wn(),e=w.ws().g(),n=w.ws().getPixelURL();return t&&n&&e},setThrottlingDelay:function(t){u=t},getThrottlingDelay:function(){return u},isThrottlingEnabled:function(){return i},setThrottlingEnabled:function(t){i=t},bs:function(){return e},Is:function(t){e=t},getLoadTimeOffset:function(){return n},setLoadTimeOffset:function(t){n=t},Ss:function(){return O},setPauseOnBufferingInterval:function(t){s=t},getPauseOnBufferingInterval:function(){return s},isPauseOnBufferingEnabled:function(){return r},setPauseOnBufferingEnabled:function(t){r=t},setExitEndEventEnabled:function(t){if(K!=t){var e=w.Mu().Ru();t||et.Ju(e)?t&&!et.Ju(e)&&ot.zu(X):ot.Qu(X)}K=t},isExitEndEventEnabled:function(){return K},Ps:function(t,r){V.As(),a=V.getPlatformAPI().setTimeout(function(){var t={},e=et.Wu(t),n=parseInt(r.ns_st_po);t.ns_st_po=n+"",V.Vu(ct.PAUSE_ON_BUFFERING,e,t)},s)},As:function(){null!=a&&(V.getPlatformAPI().clearTimeout(a),a=null)},qu:function(){M&&(V.getPlatformAPI().clearTimeout(M),M=null)},setLiveEndpointURL:function(t){if(null==t||0==t.length)return null;var e=decodeURIComponent||unescape,n=t.indexOf("?");if(0<=n){if(n<t.length-1){for(var r=t.substring(n+1).split("&"),a=0,i=r.length;a<i;a++){var s=r[a].split("=");2==s.length?V.setLabel(s[0],e(s[1])):1==s.length&&V.setLabel(tt.PAGE_NAME_LABEL,e(s[0]))}t=t.substring(0,n+1)}}else t+="?";return o=t},getLiveEndpointURL:function(){return o||(typeof ns_p!=bt&&"string"==typeof ns_p.src?o=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?o=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},Cs:function(){return w},ks:function(t){var e=w.getPlaybackSession();w.Es(new ut(w)),ut.ks(w,e,t)},Ts:function(){w.Ns().pause();var t=w.Ns().Ls();w.Ds(new ft(w)),w.Ns().Rs(t)},getVersion:function(){return At}}),function(){if((w=new nt(V)).Ms(yt.getCore()),w.Os(new pt(w)),w.Ds(new ft(w)),w.Ws(new ht(w)),w.Vs(new gt),w.xs(new mt("STA",_.debug)),w.Es(new ut(w)),E=new l(w),S=new p(w),T=new f(w),k=new h(w),D=new m(w),L=new v(w),x=new y(w),C=new b(w),R=new A(w),B=new J(w),j=new Q(w),I=new Z(w),P=new $(w),e=!1,n=0,O=+new Date,i=!(r=!0),F=[],_.publisherId){d=!0,c=_.publisherId+"";var t=(("secure"in _?_.secure:w.ws()&&w.ws().isProperlyInitialized()?w.ws().isSecure():et.fe()&&rt.ce())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";V.setLiveEndpointURL(t)}_.liveEndpointURL&&V.setLiveEndpointURL(_.liveEndpointURL),_.systemClockJumpDetection&&(st.setPlatformAPI(V.getPlatformAPI()),_.systemClockJumpDetectionInterval?st.Us(parseInt(_.systemClockJumpDetectionInterval),!0):st.Us(),_.systemClockJumpDetectionPrecision?st.Bs(parseInt(_.systemClockJumpDetectionPrecision),!0):st.Bs(),Y())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(t,e,n){var E,S,T=t(20),k=t(4),D="undefined";S=T.fe()?(E=window,document):(E={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),e.exports=function(t,e){for(var n,r=E.encodeURIComponent||escape,a=[],i=k.k,s=t.split("?"),o=s[0],u=s[1].split("&"),l=0,c=u.length;l<c;l++){var d=u[l].split("="),p=unescape(d[0]),f=unescape(d[1]);p&&(e[p]=f)}for(var h={},m=0,g=i.length;m<g;m++){var v=i[m];if(e.hasOwnProperty(v)){var y=e[v];typeof y!=D&&null!=y&&(h[v]=!0,a.push(r(v)+"="+r(e[v])))}}for(var b in e)if(e.hasOwnProperty(b)){if(h[b])continue;var A=e[b];typeof A!=D&&null!=A&&a.push(r(b)+"="+r(e[b]))}n=(n=o+"?"+a.join("&"))+(n.indexOf("&c8=")<0?"&c8="+r(S.title):"")+(n.indexOf("&c7=")<0?"&c7="+r(S.URL):"")+(n.indexOf("&c9=")<0?"&c9="+r(S.referrer):"");var _=T.Jt()?k.A:k.P;if(n.length>_&&0<n.indexOf("&")){var w=n.substr(0,_-8).lastIndexOf("&");n=(n.substring(0,w)+"&ns_cut="+r(n.substring(w+1))).substr(0,_)}return n}},{20:20,4:4}],58:[function(t,e,n){var r,a,i=(r=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return r[t]}}),s=(a=["c","s","r"],{Bu:0,Fs:1,js:2,toString:function(t){return a[t]}});e.exports.Lu=i,e.exports.Nu={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},e.exports.Du=s},{}],59:[function(t,e,n){var o=t(24),u=t(57),l=t(58).Lu;e.exports=function(r){var e,a,i=this,s=[];o.extend(this,{Vu:function(t){for(var e=o.extend({},t.Ut,t.Ku),n=0;n<s.length;++n)s[n](e);!function(t){a=o.extend({},t);var e=r.Gs().getLiveEndpointURL();r.Gs().isProperlyInitialized()?r.ws().nt(t,e):e&&r.Gs().getPlatformAPI().httpGet(u(e,t))}(e),t.Wt!=l.HEARTBEAT&&i.Ks()},addMeasurementListener:function(t){"function"==typeof t&&s.push(t)},removeMeasurementListener:function(t){for(var e=NaN,n=0;n<s.length;++n)if(s[n]==t){e=n;break}isNaN(e)||s.splice(e,1)},Fu:function(){return e},Ks:function(){e++},qs:function(t){e=t},Hs:function(){return a}}),e=1}},{24:24,57:57,58:58}],60:[function(t,e,n){var c=t(58).Lu,d=t(68),p=t(24),f=[{Ys:6e4,interval:1e4},{Ys:null,interval:6e4}];e.exports=function(r){var n,a,i,s=this,o=f;function u(){i++;var t={},e=d.Wu(t);t.ns_st_hc=r.Ns().Js()+"";var n=r.Gs().Dr(c.HEARTBEAT,t,e);r.getPlaybackSession().getAsset().Kr(n.Ut),r.ju().Vu(n),a=0,s.resume()}function l(){null!=n&&(r.Gs().getPlatformAPI().clearTimeout(n),n=null)}p.extend(this,{Js:function(){return i},Rs:function(t){o=t},Gu:function(t){var e=0;if(null!=o)for(var n=0;n<o.length;n++){var r=o[n],a=r.Ys;if(!a||t<a){e=r.interval;break}}return e},Ls:function(){return o},resume:function(){l();var t=s.Gu(r.getPlaybackSession().getAsset().Rr()+(new Date-r.getPlaybackSession().getAsset().yo()));if(0<t){var e=0<a?a:t;n=r.Gs().getPlatformAPI().setTimeout(u,e)}a=0},pause:function(){l();var t=s.Gu(r.getPlaybackSession().getAsset().Rr()+(new Date-r.getPlaybackSession().getAsset().yo()));a=t-(r.getPlaybackSession().getAsset().Rr()+(new Date-r.getPlaybackSession().getAsset().yo()))%t}}),i=a=0}},{24:24,58:58,68:68}],61:[function(t,e,n){var s=t(58).Lu,o=t(24),u=t(68);e.exports=function(n){var t,r=this,e=12e5;function a(){var t={},e=u.Wu(t);n.Gs().ms(s.KEEPALIVE,e,t),r.start()}function i(){null!=t&&(n.Gs().getPlatformAPI().clearTimeout(t),t=null)}o.extend(r,{start:function(){i(),t=n.Gs().getPlatformAPI().setTimeout(a,e)},stop:i,setInterval:function(t){e=t},Gu:function(){return e}})}},{24:24,58:58,68:68}],62:[function(t,e,n){var r=t(20),a=[],i=!1;function s(){for(var t=0;t<a.length;++t)a[t]()}e.exports={zu:function(t){a.push(t),i||r.fe()&&(window.addEventListener?(window.addEventListener("unload",s,!1),i=!0):window.attachEvent&&(window.attachEvent("onunload",s),i=!0))},Qu:function(t){for(var e=0;e<a.length;++e)if(a[e]==t){a.splice(e,1);break}0==a.length&&r.fe()&&(window.removeEventListener?(window.removeEventListener("unload",s,!1),i=!1):window.detachEvent&&(window.detachEvent("onunload",s),i=!1))}}},{20:20}],63:[function(t,e,n){var b=t(24),A=t(54),_=t(68),w=t(21),E=t(55).HASH_LABELS,S=t(58).Nu,T=t(58).Lu;function r(c){var a,n,e,i,s,r,o,u,l,d,p,f,h,m,g,v,y=this;b.extend(this,{Tu:function(){var t=a;a=new A,A.Tu(t,a)},zs:function(t){return null!=u[t]},Qs:function(t){u[t]={}},Xs:function(t){delete u[t]},Zs:function(){for(var t in u)if(u.hasOwnProperty(t)&&u[t].$s===a.Tr()){b.extend(u[t],{na:a.su(),ta:a.au(),ea:a.fu(),ia:a.cu(),seeking:a.Eo(),ra:a.Bo(),oa:a.jo(),ua:a.$r(),sa:a.qr(),aa:a.Yr(),fa:a.zr(),ca:a.Xr(),la:a.hu(),pa:a.Qo(),va:a.Zo(),da:a.tu()});break}},ha:function(t){return u[t]},Tr:function(t){return u[t].$s},_a:function(){return l},ga:function(t,e){u[t].$s=e,l<e&&(l=e)},setLabels:function(t){null!=t&&b.extend(r,t)},getLabels:function(){return r},setLabel:function(t,e){var n={};n[t]=e,y.setLabels(n)},getLabel:function(t){return r[t]},getAsset:function(){return a},xu:function(t){for(var e=0;e<v.length;++e)if(v[e]==t)return;v.push(t)},Dr:function(t,e){var n=t,r=w.jt(n.ns_st_pa)?y.Rr():parseInt(n.ns_st_pa);n.ns_st_pa=r+(isNaN(i)?0:e-i)+"",n.ns_st_pp=h+"",n.ns_st_sp=m+"",n.ns_st_bp=g+"",d||(n.ns_st_pb=null!=n.ns_st_pb?n.ns_st_pb:"1"),a.Mo()&&(n.ns_st_ppc=p+"",n.ns_st_psq=f+""),0<v.length&&(n.ns_st_ie=(n.ns_st_ie?n.ns_st_ie+";":"")+v.join(";")),b.extend(n,s)},ro:function(){m++},eo:function(){h++},ho:function(t){if(!isNaN(i)){var e=y.Rr();e+=t-i,y.ma(e),i=NaN}},so:function(t){if(!isNaN(n)){var e=y.Or();e+=t-n,y.uo(e),n=NaN}},Or:function(){return g},uo:function(t){g=t},Rr:function(){return e},Po:function(t){n=t},So:function(){return n},ma:function(t){e=t},bo:function(t){i=t},yo:function(){return i},Vr:function(){return h},Ao:function(t){h=t},wa:function(){return o},ya:function(t){o=t},ba:function(){return p},Ia:function(){p++},hs:function(t){d=t},vu:function(t){f=t},du:function(){f++},Sa:function(){return s.ns_st_id},setAsset:function(t,e){c.Uu().Zt("setAsset",t,e),t=_.Pa(t);var n=c.Mu().Ru();if(n!=S.IDLE){c.Uu().$t("Ending the current Clip. It was in state:",_.gs(n));var r={};c.Gs().Vu(T.END,_.Wu(r),r)}var a,i="";if(null!=t.ns_st_cn)i=t.ns_st_cn;else for(var s=0;s<E.length;s++)t[E[s]]&&(i+=E[s]+":"+t[E[s]]+";");var o=y,u=o.getAsset();a=u.Do()?(o.zs(u.Pr())||(o.Qs(u.Pr()),o.ga(u.Pr(),u.Tr())),o.Zs(),o.zs(i)?o.Tr(i):w.tn(t.ns_st_cn)?parseInt(t.ns_st_cn):o._a()+1):o.zs(i)?o.Tr(i):u.Tr(),o.Tu(),(u=o.getAsset()).Ar(i),u.Nr(a),u.setLabels(t);var l=o.ha(i);l&&(u.Lo(!0),u.iu(l.na),u.ru(l.ta),u.ou(l.ea),u.uu(l.ia),u.ko(l.seeking),u.Uo(l.ra),u.Fo(l.oa),u.no(l.ua),l.sa&&u.Hr(l.sa),l.aa&&u.Jr(l.aa),l.fa&&u.Qr(l.fa),l.ca&&u.Zr(l.ca),u.vu(l.la),u.Xo(l.pa),u.$o(l.va),u.nu(l.da)),u.Jo(),u.Do()&&e&&o.ro(),e&&(o.vu(0),u.gu(!0)),!w.tn(t.ns_st_tp)&&w.tn(t.ns_st_ad)&&w.lt(t.ns_st_ad)&&"0"!==t.ns_st_ad&&u.Cr("ns_st_tp","1")}}),a=new A,(s={}).ns_st_id=+new Date+"",r={},i=n=NaN,d=o=!(u={}),m=1,g=f=h=p=l=e=0,v=[]}r.ks=function(t,e,n){for(var r=e.getAsset(),a=e.getLabels(),i={},s=0;n&&s<n.length;s++)a.hasOwnProperty(n[s])&&(i[n[s]]=a[n[s]]);t.getPlaybackSession().setLabels(i),A.Tu(r,t.getPlaybackSession().getAsset(),n)},e.exports=r},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(t,e,n){function r(t){var i=null,n=0,r=!1,a=null,s={Aa:0,Ca:1,ka:2},o=s.Aa,u=new b("TTSTA",(t||{}).debug);function l(t){var e=t||{};e.ns_st_ad="1",e.ns_st_an=++n+"",a.getPlaybackSession().setAsset(e),a.notifyPlay(),r=!1}function c(t,e){var n;o==s.Aa&&(o=e),r&&o==e&&function(t){for(var e in g)if(g.hasOwnProperty(e)&&(n=g[e],r=i,a=t,!(v.tn(n)&&v.tn(r)&&v.tn(a)&&(r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&r[n]===a[n]||!r.hasOwnProperty(n)&&!a.hasOwnProperty(n)))))return;var n,r,a;return 1}(t)?(a.getPlaybackSession().getAsset().setLabels(t),a.getState()!=h.PLAYING&&a.notifyPlay()):(n=t,a.getPlaybackSession().setAsset(n),i=n,a.notifyPlay()),r=!0,o=e}y.extend(this,{playVideoAdvertisement:function(t,e){u.Zt("playVideoAdvertisement",t,e);var n={ns_st_ct:"va"};e?n.ns_st_ct="va"+e:u.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e!=p.LinearLive&&e!=p.BrandedOnDemandLive||(n.ns_st_li="1"),t&&y.extend(n,t),l(n)},playAudioAdvertisement:function(t,e){u.Zt("playAudioAdvertisement",t,e);var n={ns_st_ct:"aa"};e?n.ns_st_ct="aa"+e:u.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e!=p.LinearLive&&e!=p.BrandedOnDemandLive||(n.ns_st_li="1"),t&&y.extend(n,t),l(n)},playVideoContentPart:function(t,e){u.Zt("playVideoContentPart",t,e);var n={ns_st_ct:"vc"};e?n.ns_st_ct="vc"+e:u.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e!=d.Live&&e!=d.UserGeneratedLive||(n.ns_st_li="1"),t&&y.extend(n,t),c(n,s.ka)},playAudioContentPart:function(t,e){u.Zt("playAudioContentPart",t,e);var n={ns_st_ct:"ac"};e?n.ns_st_ct="ac"+e:u.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e!=d.Live&&e!=d.UserGeneratedLive||(n.ns_st_li="1"),t&&y.extend(n,t),c(n,s.Ca)},stop:function(){u.Zt("stop"),a.notifyPause()}}),(a=new f(t)).setLabel("ns_st_it",m.toString(m.js))}var d={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},p={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},f=t(67),h=t(58).Nu,m=t(58).Du,g=t(55).HASH_LABELS,v=t(21),y=t(24),b=t(18);r.ContentType=d,r.AdType=p,e.exports=r},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(t,e,n){var u=t(24);e.exports=function(t){var e,n,r,a,i,s,o;u.extend(this,{ws:function(){return e},Gs:function(){return t},ju:function(){return n},Mu:function(){return r},Ns:function(){return a},S:function(){return i},getPlaybackSession:function(){return s},Uu:function(){return o},Ms:function(t){e=t},Os:function(t){i=t},Ds:function(t){a=t},Ws:function(t){n=t},Vs:function(t){r=t},Es:function(t){s=t},xs:function(t){o=t}})}},{24:24}],66:[function(t,e,n){var o=t(58).Nu,u=t(24),l=t(58).Lu;e.exports=function(t){var r,a,i,s=this;u.extend(s,{Hu:function(t){if(i==o.IDLE){if(t==l.PLAY)return o.PLAYING;if(t==l.SEEK_START)return o.SEEKING_BEFORE_PLAYBACK;if(t==l.BUFFER)return o.BUFFERING_BEFORE_PLAYBACK}else if(i==o.PLAYBACK_NOT_STARTED){if(t==l.PLAY)return o.PLAYING;if(t==l.SEEK_START)return o.SEEKING_BEFORE_PLAYBACK;if(t==l.BUFFER)return o.BUFFERING_BEFORE_PLAYBACK;if(t==l.END||t==l.AD_SKIP)return o.IDLE}else if(i==o.PLAYING){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.BUFFER)return o.BUFFERING_DURING_PLAYBACK;if(t==l.PAUSE)return o.PAUSED;if(t==l.SEEK_START)return o.SEEKING_DURING_PLAYBACK}else if(i==o.PAUSED){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.BUFFER)return o.BUFFERING_DURING_PAUSE;if(t==l.PLAY)return o.PLAYING;if(t==l.SEEK_START)return o.SEEKING_DURING_PAUSE}else if(i==o.BUFFERING_BEFORE_PLAYBACK){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PAUSE||t==l.BUFFER_STOP)return o.PLAYBACK_NOT_STARTED;if(t==l.PLAY)return o.PLAYING;if(t==l.SEEK_START)return o.SEEKING_BEFORE_PLAYBACK}else if(i==o.BUFFERING_DURING_PLAYBACK){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PLAY||t==l.BUFFER_STOP)return o.PLAYING;if(t==l.PAUSE_ON_BUFFERING)return o.PAUSED_DURING_BUFFERING;if(t==l.SEEK_START)return o.SEEKING_DURING_BUFFERING;if(t==l.PAUSE)return o.PAUSED}else if(i==o.BUFFERING_DURING_SEEKING){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PLAY)return o.PLAYING;if(t==l.BUFFER_STOP)return o.SEEKING_DURING_PLAYBACK;if(t==l.PAUSE)return o.PAUSED}else if(i==o.BUFFERING_DURING_PAUSE){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PLAY)return o.PLAYING;if(t==l.SEEK_START)return o.SEEKING_DURING_PAUSE;if(t==l.BUFFER_STOP||t==l.PAUSE)return o.PAUSED}else if(i==o.SEEKING_BEFORE_PLAYBACK){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PAUSE)return o.PLAYBACK_NOT_STARTED;if(t==l.PLAY)return o.PLAYING;if(t==l.BUFFER)return o.BUFFERING_BEFORE_PLAYBACK}else if(i==o.SEEKING_DURING_PLAYBACK){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PLAY)return o.PLAYING;if(t==l.PAUSE)return o.PAUSED;if(t==l.BUFFER)return o.BUFFERING_DURING_SEEKING}else if(i==o.SEEKING_DURING_BUFFERING){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PLAY)return o.PLAYING;if(t==l.PAUSE||t==l.BUFFER_STOP)return o.PAUSED;if(t==l.BUFFER)return o.BUFFERING_DURING_SEEKING}else if(i==o.SEEKING_DURING_PAUSE){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.PLAY)return o.PLAYING;if(t==l.PAUSE||t==l.BUFFER_STOP)return o.PAUSED;if(t==l.BUFFER)return o.BUFFERING_DURING_PAUSE}else if(i==o.PAUSED_DURING_BUFFERING){if(t==l.END||t==l.AD_SKIP)return o.IDLE;if(t==l.SEEK_START)return o.SEEKING_DURING_BUFFERING;if(t==l.PAUSE)return o.PAUSED;if(t==l.PLAY||t==l.BUFFER_STOP)return o.PLAYING}return null},Ru:function(){return i},Vu:function(t,e){var n=s.Hu(t);i!=n&&(a=i,i=n,r=e)},Ea:function(){return a},_s:function(){return r}}),i=o.IDLE,a=null,r=NaN}},{24:24,58:58}],67:[function(t,e,n){var a=t(24),i=t(68),s=t(56),o=t(58).Lu,c=t(58).Nu,d=t(63),r=t(55),p={notifyPlay:o.PLAY,notifyPause:o.PAUSE,notifyEnd:o.END,notifyBufferStart:o.BUFFER,notifyBufferStop:o.BUFFER_STOP,notifyLoad:o.LOAD,notifyEngage:o.ENGAGE,notifySeekStart:o.SEEK_START,notifySkipAd:o.AD_SKIP,notifyCallToAction:o.CTA,notifyError:o.ERROR,notifyTransferPlayback:o.TRANSFER,notifyDrmFail:o.DRM_FAILED,notifyDrmApprove:o.DRM_APPROVED,notifyDrmDeny:o.DRM_DENIED,notifyCustomEvent:o.CUSTOM},f={notifyChangeBitrate:[o.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[o.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[o.VOLUME,"ns_st_vo"],notifyChangeWindowState:[o.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[o.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[o.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[o.SUBS,"ns_st_tt"],notifyChangeCdn:[o.CDN,"ns_st_cdn"]};function u(t){var u,n=this;function l(t,e,n){if(o.toString(t)){n=i.Pa(n);var r=i.Wu(n);n.ns_st_po||isNaN(e)||(n.ns_st_po=parseInt(e)+""),t==o.PLAY||t==o.PAUSE||t==o.BUFFER||t==o.END||t==o.SEEK_START||t==o.AD_SKIP||t==o.BUFFER_STOP?u.Vu(t,r,n):u.ms(t,r,n)}}for(var e in a.extend(n,{isProperlyInitialized:function(){return u.isProperlyInitialized()},reset:function(t){l(o.END);var e=u;e.Cs().S().stop(),e.Cs().Ns().pause(),u=new s(e.getConfiguration()),d.ks(u.Cs(),e.Cs().getPlaybackSession(),t)},setPauseOnBufferingInterval:function(t){u.setPauseOnBufferingInterval(t)},getPauseOnBufferingInterval:function(){return u.getPauseOnBufferingInterval()},setKeepAliveInterval:function(t){u.Cs().S().setInterval(t)},getKeepAliveInterval:function(){return u.Cs().S().Gu()},setHeartbeatIntervals:function(t){u.Cs().Ns().Rs(t)},getLabels:function(){return u.getLabels()},getState:function(){return u.Cs().Mu().Ru()},setLabels:function(t){u.setLabels(t)},getLabel:function(t){return u.getLabel(t)},setLabel:function(t,e){u.setLabel(t,e)},getLoadTimeOffset:function(){return u.getLoadTimeOffset()},setLoadTimeOffset:function(t){u.setLoadTimeOffset(t)},setLiveEndpointURL:function(t){return u.setLiveEndpointURL(t)},getLiveEndpointURL:function(){return u.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return u.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(t){u.setPauseOnBufferingEnabled(t)},isThrottlingEnabled:function(){return u.isThrottlingEnabled()},setThrottlingEnabled:function(t){u.setThrottlingEnabled(t)},setThrottlingDelay:function(t){u.setThrottlingDelay(t)},getThrottlingDelay:function(){return u.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(t){u.Cs().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(t)},getPlaybackIntervalMergeTolerance:function(){return u.Cs().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(t){u.Cs().Uu().Zt("createPlaybackSession",t),t=i.Pa(t);var e=u.Cs().Mu().Ru();e!=c.IDLE&&(u.Cs().Uu().$t("Ending the current Clip. It was in state:",i.gs(e)),n.notifyEnd()),u.Cs().getPlaybackSession().wa()&&u.ks(),u.Cs().getPlaybackSession().setLabels(t)},getVersion:function(){return u.getVersion()},addListener:function(t){u.addListener(t)},removeListener:function(t){u.removeListener(t)},addMeasurementListener:function(t){u.Cs().ju().addMeasurementListener(t)},removeMeasurementListener:function(t){u.Cs().ju().removeMeasurementListener(t)},getPlaybackSession:function(){return u.Cs().getPlaybackSession()},setExitEndEventEnabled:function(t){u.setExitEndEventEnabled(!!t)},isExitEndEventEnabled:function(){return u.isExitEndEventEnabled()},setDvrWindowLength:function(t){u.Cs().getPlaybackSession().getAsset().Su(t),u.Cs().getPlaybackSession().getAsset().Eu(!0)},setDvrWindowOffset:function(t){u.Cs().getPlaybackSession().getAsset().Au(t),u.Cs().getPlaybackSession().getAsset().Eu(!0)},getPlatformAPI:function(){return u.getPlatformAPI()},_getLogHistory:function(){return u.Cs().Uu().te()}}),p)!function(a,i){n[a]=function(t,e){u.Cs().Uu().Zt(a,t,e);var n={},r=NaN;"object"==typeof t?n=t:"object"==typeof e&&(n=e),"number"==typeof t?r=t:"number"==typeof e&&(r=e),l(i,r,n)}}(e,p[e]);for(var r in f)!function(i,s,o){n[i]=function(t,e,n){if(u.Cs().Uu().Zt(i,t,e,n),null!=t){var r={},a=NaN;"object"==typeof e?r=e:"object"==typeof n&&(r=n),"number"==typeof e?a=e:"number"==typeof n&&(a=n),r[o]=t+"",l(s,a,r)}}}(r,f[r][0],f[r][1]);t=a.extend({},t),(u=new s(t)).Cs().Uu().log("New StreamingAnalytics instance with configuration",t)}u.PlayerEvents=o,u.InternalStates=c,u.Constants=r,e.exports=u},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(t,e,n){var l=t(23),r=t(58).Nu,a="undefined";n.Pa=function(t){var e={};for(var n in t){var r=t[n];e[n]=null==r?r:t[n]+""}return e},n.Ta=function(t,e){var n,r=[];for(n in t)e&&!e.test(n)||!t.hasOwnProperty(n)||(r[r.length]=n);return r},n.Wu=function(t){if(t.ns_ts)return parseInt(t.ns_ts);var e=+new Date;return t.ns_ts=e+"",e},n.fe=function(){return typeof window!=a&&typeof document!=a},n.Wr=function(t,e,n,r){var a,i,s={};if(!(e<=n))return l(t);if(s.start=e,s.end=n,0==t.length)return t.push(s),l(t);for(a=0;a<t.length;a++)if(s.start>=t[a].start&&s.end<=t[a].end)return l(t);var o=!1;for(i=0;i<t.length;i++)if(i+1===t.length&&s.start>=t[i].start||s.start>=t[i].start&&s.start<t[i+1].start){t.splice(i+1,0,s),o=!0;break}o||t.splice(0,0,s);var u=[t[0]];for(a=1;a<t.length;a++)u[u.length-1].end+r<t[a].start?u.push(t[a]):u[u.length-1].end<t[a].end&&(u[u.length-1].end=t[a].end);return l(u)},n.gs=function(t){for(var e in r)if(r.hasOwnProperty(e)&&r[e]==t)return e},n.Ju=function(t){return t==r.IDLE||t==r.BUFFERING_BEFORE_PLAYBACK||t==r.SEEKING_BEFORE_PLAYBACK||t==r.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(t,e,n){var r=t(24),a=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),r.Eo()&&r.No()&&r.Uo(t-r.Wo()),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&a.vr(e.ns_st_pe,!1)&&s.Gs().ks()},os:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1))},Zu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.so(t),r.so(t),r.Eo()?r.No()||(r.Oo(t),r.To(!0)):r.io(),r.Eo()||(r.ko(!0),r.To(!0),r.Fo(a),r.Oo(t))},ts:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1))},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.so(t),r.so(t),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),r.Ro(!0),!r._u()&&0!=n.ba()||(n.Ia(),r.gu(!1)),n.du(),r.Ro(!0),r.Yo(),r.ro(),n.bo(t),r.bo(t),r.do(t),r.ao(a),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),r.du(),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],70:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{fs:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().Ts(),s.S().stop(),n.so(t),r.so(t),r.po(t);var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),r.po(t),r.do(t)},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.du(),r.du(),r.ro(),n.so(t),r.so(t),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),r.po(t),r.do(t),n.bo(t),r.bo(t),r.ao(a),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],71:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{us:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().As(),r.po(t),r.do(t),n.so(t),r.so(t),n.eo(),r.eo();var a=s.Gs().Dr(o.PAUSE,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),n.Po(t),r.Po(t)},ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().As(),s.Gs().Ts(),s.S().stop(),n.so(t),r.so(t),r.po(t);var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);s.Gs().As(),s.Ns().pause(),s.S().stop(),r.po(t),r.do(t),n.so(t),r.so(t),r.io(),r.ko(!0),r.To(!0),r.Fo(a),r.Oo(t),n.eo(),r.eo();var i=s.Gs().Dr(o.PAUSE,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)},ts:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().As(),r.po(t),r.do(t),n.so(t),r.so(t),n.eo(),r.eo();var a=s.Gs().Dr(o.PAUSE,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a)}})}},{24:24,26:26,58:58}],72:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().Ts(),s.S().stop(),s.Gs().As(),n.so(t),r.so(t),r.po(t);var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),n.eo(),r.eo(),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1)),r.po(t),r.do(t)},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.du(),r.du(),r.ro(),n.so(t),r.so(t),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),r.po(t),r.do(t),n.bo(t),r.bo(t),r.ao(a),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],73:[function(t,e,n){var r=t(24),o=t(58).Lu;e.exports=function(s){r.extend(this,{Xu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.ya(!0),r.Lo(!0),r.Eo()&&r.xo(r.Bo()),n.Po(t),r.Po(t)},Zu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.ya(!0),r.Lo(!0),r.Eo()&&r.xo(r.Bo()),r.io(),r.ko(!0),r.To(!0),r.Fo(a),r.Oo(t)},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.ya(!0),r.Lo(!0),!r._u()&&0!=n.ba()||(n.Ia(),r.gu(!1)),r.Eo()&&(r.xo(r.Bo()),r.Ko(a),r.ko(!1)),n.du(),r.Ro(!0),r.Yo(),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),r.du(),r.ro(),n.bo(t),r.bo(t),r.do(t),r.ao(a),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,58:58}],74:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().Ts(),s.S().stop(),r.po(t);var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.ko(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.du(),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),r.ro(),r.du(),n.bo(t),r.bo(t),r.po(t),r.do(t),r.ao(a),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],75:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().Ts(),s.S().stop(),n.so(t),r.so(t),r.po(t),r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1));var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.so(t),r.so(t),r.Eo()?r.No()||(r.Oo(t),r.To(!0)):r.io(),r.Eo()||(r.ko(!0),r.To(!0),r.Fo(a),r.Oo(t)),r.po(t),r.do(t)},ts:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),r.po(t),r.do(t)},ds:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.du(),r.du(),n.so(t),r.so(t),r.ro(),n.bo(t),r.bo(t),r.po(t),r.do(t),r.ao(a),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],76:[function(t,e,n){var r=t(24),a=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&a.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession().getAsset(),r=parseInt(e.ns_st_po);n.Eo()?n.Oo(t):n.io(),n.Eo()||(n.ko(!0),n.To(!0),n.Fo(r),n.Oo(t))},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);r.Eo()&&(r.Ko(a),r.ko(!1)),n.ya(!0),!r._u()&&0!=n.ba()||(n.Ia(),r.gu(!1)),n.du(),r.Ro(!0),r.Yo(),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),r.du(),r.ro(),n.bo(t),r.bo(t),r.do(t),r.ao(a),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)},Xu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.Po(t),r.Po(t)}})}},{24:24,26:26,58:58}],77:[function(t,e,n){var r=t(24),o=t(26),u=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);s.Gs().Ts(),s.S().stop(),n.ho(t),r.ho(t),r.Iu(a),r.po(t),r.co(a);var i=s.Gs().Dr(u.END,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Xu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),r.ho(t),r.Iu(a),r.co(a),s.Gs().isPauseOnBufferingEnabled()&&s.Gs().Ps(t,e),r.lu(),n.Po(t),r.Po(t),r.po(t),r.do(t)},Zu:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),r.ho(t),r.Iu(a),r.co(a),r.io(),r.ko(!0),r.To(!0),r.Fo(a),r.Oo(t),r.po(t),r.do(t),n.eo(),r.eo();var i=s.Gs().Dr(u.PAUSE,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)},ts:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),r.ho(t),r.Iu(a),r.co(a),r.po(t),r.do(t),n.eo(),r.eo();var i=s.Gs().Dr(u.PAUSE,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],78:[function(t,e,n){var r=t(24),a=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&a.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1))},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),!r._u()&&0!=n.ba()||(n.Ia(),r.gu(!1)),n.du(),r.du(),r.ro(),r.Ro(!0),r.Yo(),(0==r.cu()||r.Lr()<=r.cu())&&(r.uu(r.Lr()),r.zo(),r.vu(0),r.eu()),n.bo(t),r.bo(t),r.do(t),r.ao(a),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],79:[function(t,e,n){var r=t(24);e.exports=function(a){r.extend(this,{ts:function(t,e){var n=a.getPlaybackSession(),r=n.getAsset();n.eo(),r.eo(),r.Eo()&&r.No()&&(r.Vo(t),r.To(!1)),r.po(t),r.do(t)}})}},{24:24}],80:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().Ts(),s.S().stop(),r.po(t);var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},$u:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.du(),r.du(),r.ro(),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),r.po(t),r.do(t),n.bo(t),r.bo(t),r.ao(a),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)}})}},{24:24,26:26,58:58}],81:[function(t,e,n){var r=t(24),i=t(26),o=t(58).Lu;e.exports=function(s){r.extend(this,{rs:function(t,e){var n=s.getPlaybackSession().getAsset(),r=parseInt(e.ns_st_po);n.Eo()?n.No()||(n.Oo(t),n.To(!0)):n.io(),n.Eo()||(n.ko(!0),n.To(!0),n.Fo(r),n.Oo(t)),n.po(t),n.do(t)},es:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.Po(t),r.Po(t),r.po(t),r.do(t)},ls:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);n.du(),r.du(),r.Eo()&&(r.No()&&(r.Vo(t),r.To(!1)),r.Ko(a),r.ko(!1)),r.ro(),n.bo(t),r.bo(t),r.po(t),r.do(t),r.ao(a),s.Ns().resume(),s.S().start();var i=s.Gs().Dr(o.PLAY,e,t);r.jr(i.Ut),r.Kr(i.Ut),s.ju().Vu(i)},as:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();n.so(t),r.so(t),r.po(t),r.do(t)},cs:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1)),n.po(t),n.do(t)},ps:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset();s.Gs().Ts(),s.S().stop(),r.po(t);var a=s.Gs().Dr(o.END,e,t);r.jr(a.Ut),r.Kr(a.Ut),s.ju().Vu(a),r.Eo()&&r.No()&&(r.Uo(t-r.Wo()),r.To(!1)),n.Zs(),r.Ho(),r.Ro(!1),e.hasOwnProperty("ns_st_pe")&&i.vr(e.ns_st_pe,!1)&&s.Gs().ks()},vs:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1)),n.po(t),n.do(t)},ss:function(t,e){var n=s.getPlaybackSession(),r=n.getAsset(),a=parseInt(e.ns_st_po);s.Gs().As(),n.so(t),r.so(t),n.bo(t),r.bo(t),r.ao(a),r.po(t),r.do(t),s.Ns().resume(),s.S().start()}})}},{24:24,26:26,58:58}],82:[function(t,e,n){var s,o,r,a=null,u=[];function i(){var i=+new Date;a=r.setInterval(function(){var t=i+s,e=+new Date,n=e-t;if(i=e,Math.abs(n)>o)for(var r=0<n,a=0;a<u.length;++a)u[a](r)},s)}function l(){clearInterval(a),a=null}e.exports={Ou:function(t){u.push(t),a||i()},Yu:function(t){for(var e=0;e<u.length;++e)if(u[e]==t){u.splice(e,1);break}u.length||l()},setPlatformAPI:function(t){r=t},Us:function(t,e){!e&&s||(s=t||1e3),(a&&e||!a)&&(l(),i())},Bs:function(t,e){o=t||1e3}}},{}]},{},[16])(16)}),"undefined"!=typeof window&&(C1=this,D1=function(){return r={},a.m=n=[function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c});var r=n(5);function a(){}var i={trace:a,debug:a,log:a,warn:a,info:a,error:a},s=i;var o=Object(r.a)();function u(i){var s=o.console[i];return s?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,a;e[0]&&(e[0]=(r=i,a=e[0],"["+r+"] > "+a)),s.apply(o.console,e)}:a}var l=function(t){if(o.console&&!0===t||"object"==typeof t){!function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){s[t]=e[t]?e[t].bind(e):u(t)})}(t,"debug","log","info","warn","error");try{s.log()}catch(t){s=i}}else s=i},c=s},function(t,e,n){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},function(t,e,n){"use strict";var r,a,i,s;n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a}),(s=r=r||{}).NETWORK_ERROR="networkError",s.MEDIA_ERROR="mediaError",s.KEY_SYSTEM_ERROR="keySystemError",s.MUX_ERROR="muxError",s.OTHER_ERROR="otherError",(i=a=a||{}).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",i.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",i.KEY_SYSTEM_NO_SESSION="keySystemNoSession",i.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",i.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",i.MANIFEST_LOAD_ERROR="manifestLoadError",i.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",i.MANIFEST_PARSING_ERROR="manifestParsingError",i.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",i.LEVEL_EMPTY_ERROR="levelEmptyError",i.LEVEL_LOAD_ERROR="levelLoadError",i.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",i.LEVEL_SWITCH_ERROR="levelSwitchError",i.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",i.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",i.FRAG_LOAD_ERROR="fragLoadError",i.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",i.FRAG_DECRYPT_ERROR="fragDecryptError",i.FRAG_PARSING_ERROR="fragParsingError",i.REMUX_ALLOC_ERROR="remuxAllocError",i.KEY_LOAD_ERROR="keyLoadError",i.KEY_LOAD_TIMEOUT="keyLoadTimeOut",i.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",i.BUFFER_APPEND_ERROR="bufferAppendError",i.BUFFER_APPENDING_ERROR="bufferAppendingError",i.BUFFER_STALLED_ERROR="bufferStalledError",i.BUFFER_FULL_ERROR="bufferFullError",i.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",i.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",i.INTERNAL_EXCEPTION="internalException"},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};Number.MAX_SAFE_INTEGER},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var p,f=n(5),r=(o.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},o.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},o.getID3Data=function(t,e){for(var n=e,r=0;o.isHeader(t,e);)r+=10,r+=o._readSize(t,e+6),o.isFooter(t,e+10)&&(r+=10),e+=r;if(0<r)return t.subarray(n,n+r)},o._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},o.getTimeStamp=function(t){for(var e=o.getID3Frames(t),n=0;n<e.length;n++){var r=e[n];if(o.isTimeStampFrame(r))return o._readTimeStamp(r)}},o.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},o._getFrameData=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=o._readSize(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},o.getID3Frames=function(t){for(var e=0,n=[];o.isHeader(t,e);){for(var r=o._readSize(t,e+6),a=(e+=10)+r;e+8<a;){var i=o._getFrameData(t.subarray(e)),s=o._decodeFrame(i);s&&n.push(s),e+=i.size+10}o.isFooter(t,e)&&(e+=10)}return n},o._decodeFrame=function(t){return"PRIV"===t.type?o._decodePrivFrame(t):"W"===t.type[0]?o._decodeURLFrame(t):o._decodeTextFrame(t)},o._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},o._decodePrivFrame=function(t){if(!(t.size<2)){var e=o._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},o._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=o._utf8ArrayToStr(t.data.subarray(e),!0);e+=n.length+1;var r=o._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:r}}var a=o._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},o._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=o._utf8ArrayToStr(t.data.subarray(e),!0);e+=n.length+1;var r=o._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:r}}var a=o._utf8ArrayToStr(t.data);return{key:t.type,data:a}},o._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var n,r=(n=Object(f.a)(),p||void 0===n.TextDecoder||(p=new n.TextDecoder("utf-8")),p);if(r){var a=r.decode(t);if(e){var i=a.indexOf("\0");return-1!==i?a.substring(0,i):a}return a.replace(/\0/g,"")}for(var s,o,u,l=t.length,c="",d=0;d<l;){if(0===(s=t[d++])&&e)return c;if(0!==s&&3!==s)switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(s);break;case 12:case 13:o=t[d++],c+=String.fromCharCode((31&s)<<6|63&o);break;case 14:o=t[d++],u=t[d++],c+=String.fromCharCode((15&s)<<12|(63&o)<<6|(63&u)<<0)}}return c},o);function o(){}var a=r._utf8ArrayToStr;e.a=r},function(t,e,n){"use strict";function r(){return"undefined"==typeof window?self:window}n.d(e,"a",function(){return r})},function(t,e,n){var r,c,a,i,d;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,c=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,d={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=d.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=d.normalizePath(r.path),d.buildURLFromParts(r)}var a=d.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=d.normalizePath(a.path),d.buildURLFromParts(a)):e;var i=d.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");if(!i.netLoc&&i.path&&"/"!==i.path[0]){var s=c.exec(i.path);i.netLoc=s[1],i.path=s[2]}i.netLoc&&!i.path&&(i.path="/");var o={scheme:i.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(o.netLoc=i.netLoc,"/"!==a.path[0]))if(a.path){var u=i.path,l=u.substring(0,u.lastIndexOf("/")+1)+a.path;o.path=d.normalizePath(l)}else o.path=i.path,a.params||(o.params=i.params,a.query||(o.query=i.query));return null===o.path&&(o.path=n.alwaysNormalize?d.normalizePath(a.path):a.path),d.buildURLFromParts(o)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=d},function(t,e,n){"use strict";var o=(a.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},a),u=(r.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},r);function r(t,e){this.subtle=t,this.key=e}function a(t,e){this.subtle=t,this.aesIV=e}var i,s,l=((s=v.prototype).uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},s.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],a=n[1],i=n[2],s=n[3],o=this.invSubMix,u=o[0],l=o[1],c=o[2],d=o[3],p=new Uint32Array(256),f=0,h=0,m=0;for(m=0;m<256;m++)p[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=h^h<<1^h<<2^h<<3^h<<4;g=g>>>8^255&g^99;var v=p[e[t[f]=g]=f],y=p[v],b=p[y],A=257*p[g]^16843008*g;r[f]=A<<24|A>>>8,a[f]=A<<16|A>>>16,i[f]=A<<8|A>>>24,s[f]=A,A=16843009*b^65537*y^257*v^16843008*f,u[g]=A<<24|A>>>8,l[g]=A<<16|A>>>16,c[g]=A<<8|A>>>24,d[g]=A,f?(f=v^p[p[p[b^v]]],h^=p[p[h]]):f=h=1}},s.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var a=this.keySize=e.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var i,s,o,u,l=this.ksRows=4*(a+6+1),c=this.keySchedule=new Uint32Array(l),d=this.invKeySchedule=new Uint32Array(l),p=this.sBox,f=this.rcon,h=this.invSubMix,m=h[0],g=h[1],v=h[2],y=h[3];for(i=0;i<l;i++)i<a?o=c[i]=e[i]:(u=o,i%a==0?(u=p[(u=u<<8|u>>>24)>>>24]<<24|p[u>>>16&255]<<16|p[u>>>8&255]<<8|p[255&u],u^=f[i/a|0]<<24):6<a&&i%a==4&&(u=p[u>>>24]<<24|p[u>>>16&255]<<16|p[u>>>8&255]<<8|p[255&u]),c[i]=o=(c[i-a]^u)>>>0);for(s=0;s<l;s++)i=l-s,u=3&s?c[i]:c[i-4],d[s]=s<4||i<=4?u:m[p[u>>>24]]^g[p[u>>>16&255]]^v[p[u>>>8&255]]^y[p[255&u]],d[s]=d[s]>>>0}},s.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},s.decrypt=function(t,e,n,r){for(var a,i,s,o,u,l,c,d,p,f,h,m,g,v,y,b,A,_=this.keySize+6,w=this.invKeySchedule,E=this.invSBox,S=this.invSubMix,T=S[0],k=S[1],D=S[2],L=S[3],x=this.uint8ArrayToUint32Array_(n),C=x[0],R=x[1],B=x[2],j=x[3],I=new Int32Array(t),P=new Int32Array(I.length),O=this.networkToHostOrderSwap;e<I.length;){for(p=O(I[e]),f=O(I[e+1]),h=O(I[e+2]),m=O(I[e+3]),u=p^w[0],l=m^w[1],c=h^w[2],d=f^w[3],g=4,v=1;v<_;v++)a=T[u>>>24]^k[l>>16&255]^D[c>>8&255]^L[255&d]^w[g],i=T[l>>>24]^k[c>>16&255]^D[d>>8&255]^L[255&u]^w[g+1],s=T[c>>>24]^k[d>>16&255]^D[u>>8&255]^L[255&l]^w[g+2],o=T[d>>>24]^k[u>>16&255]^D[l>>8&255]^L[255&c]^w[g+3],u=a,l=i,c=s,d=o,g+=4;a=E[u>>>24]<<24^E[l>>16&255]<<16^E[c>>8&255]<<8^E[255&d]^w[g],i=E[l>>>24]<<24^E[c>>16&255]<<16^E[d>>8&255]<<8^E[255&u]^w[g+1],s=E[c>>>24]<<24^E[d>>16&255]<<16^E[u>>8&255]<<8^E[255&l]^w[g+2],o=E[d>>>24]<<24^E[u>>16&255]<<16^E[l>>8&255]<<8^E[255&c]^w[g+3],g+=3,P[e]=O(a^C),P[e+1]=O(o^R),P[e+2]=O(s^B),P[e+3]=O(i^j),C=p,R=f,B=h,j=m,e+=4}return r?(A=(b=(y=P.buffer).byteLength)&&new DataView(y).getUint8(b-1))?y.slice(0,b-A):y:P.buffer},s.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},v),c=n(2),d=n(0),p=n(1),f=n(5),h=Object(f.a)(),m=((i=g.prototype).isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},i.decrypt=function(e,n,r,a){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(d.b.log("JS AES decrypt"),this.logEnabled=!1);var t=this.decryptor;t||(this.decryptor=t=new l),t.expandKey(n),a(t.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(d.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var s=this.subtle;this.key!==n&&(this.key=n,this.fastAesKey=new u(s,n)),this.fastAesKey.expandKey().then(function(t){new o(s,r).decrypt(e,t).catch(function(t){i.onWebCryptoError(t,e,n,r,a)}).then(function(t){a(t)})}).catch(function(t){i.onWebCryptoError(t,e,n,r,a)})}},i.onWebCryptoError=function(t,e,n,r,a){this.config.enableSoftwareAES?(d.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,r,a)):(d.b.error("decrypting error : "+t.message),this.observer.trigger(p.a.ERROR,{type:c.b.MEDIA_ERROR,details:c.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},i.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},g);function g(t,e,n){var r=(void 0===n?{}:n).removePKCS7Padding,a=void 0===r||r;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=a)try{var i=h.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}function v(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}e.a=m},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,f="~";function a(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new o(n,r||t,a),s=f?f+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],i]:t._events[s].push(i):(t._events[s]=i,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new a:delete t._events[e]}function s(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(f=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t){var e=f?f+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,i=new Array(a);r<a;r++)i[r]=n[r].fn;return i},s.prototype.listenerCount=function(t){var e=f?f+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,r,a,i){var s=f?f+t:t;if(!this._events[s])return!1;var o,u,l=this._events[s],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,a),!0;case 6:return l.fn.call(l.context,e,n,r,a,i),!0}for(u=1,o=new Array(c-1);u<c;u++)o[u-1]=arguments[u];l.fn.apply(l.context,o)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!o)for(d=1,o=new Array(c-1);d<c;d++)o[d-1]=arguments[d];l[u].fn.apply(l[u].context,o)}}return!0},s.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,n,r){var a=f?f+t:t;if(!this._events[a])return this;if(!e)return l(this,a),this;var i=this._events[a];if(i.fn)i.fn!==e||r&&!i.once||n&&i.context!==n||l(this,a);else{for(var s=0,o=[],u=i.length;s<u;s++)(i[s].fn!==e||r&&!i[s].once||n&&i[s].context!==n)&&o.push(i[s]);o.length?this._events[a]=1===o.length?o[0]:o:l(this,a)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=f?f+t:t,this._events[e]&&l(this,e)):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=f,s.EventEmitter=s,t.exports=s},function(t,e,n){"use strict";var rt=n(1),at=n(2),m=n(7),h=n(3),it=n(0),r=n(5);function i(t,e){return 255===t[e]&&240==(246&t[e+1])}function c(t,e){return 1&t[e+1]?7:9}function d(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function g(t,e){return e+1<t.length&&i(t,e)}function a(t,e){if(g(t,e)){var n=c(t,e);if(e+n>=t.length)return;var r=d(t,e);if(r<=n)return;var a=e+r;if(a===t.length||a+1<t.length&&i(t,a))return 1}}function v(t,e,n,r,a){if(!t.samplerate){var i=function(t,e,n,r){var a,i,s,o,u,l=navigator.userAgent.toLowerCase(),c=r,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(a=1+((192&e[n+2])>>>6),!((i=(60&e[n+2])>>>2)>d.length-1))return o=(1&e[n+2])<<2,o|=(192&e[n+3])>>>6,it.b.log("manifest codec:"+r+",ADTS data:type:"+a+",sampleingIndex:"+i+"["+d[i]+"Hz],channelConfig:"+o),s=/firefox/i.test(l)?6<=i?(a=5,u=new Array(4),i-3):(a=2,u=new Array(2),i):-1!==l.indexOf("android")?(a=2,u=new Array(2),i):(a=5,u=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=i?i-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=i&&1==o||/vivaldi/i.test(l))||!r&&1==o)&&(a=2,u=new Array(2)),i)),u[0]=a<<3,u[0]|=(14&i)>>1,u[1]|=(1&i)<<7,u[1]|=o<<3,5===a&&(u[1]|=(14&s)>>1,u[2]=(1&s)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:d[i],channelCount:o,codec:"mp4a.40."+a,manifestCodec:c};t.trigger(rt.a.ERROR,{type:at.b.MEDIA_ERROR,details:at.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+i})}(e,n,r,a);t.config=i.config,t.samplerate=i.samplerate,t.channelCount=i.channelCount,t.codec=i.codec,t.manifestCodec=i.manifestCodec,it.b.log("parsed codec:"+t.codec+",rate:"+i.samplerate+",nb channel:"+i.channelCount)}}function y(t){return 9216e4/t}function b(t,s,o,e,n){var r=function(t,e,n){var r,a,i=s.length;if(r=c(s,o),a=d(s,o),0<(a-=r)&&o+r+a<=i)return{headerLength:r,frameLength:a,stamp:t+e*n}}(e,n,y(t.samplerate));if(r){var a=r.stamp,i=r.headerLength,u=r.frameLength,l={unit:s.subarray(o+i,o+i+u),pts:a,dts:a};return t.samples.push(l),{sample:l,length:u+i}}}var s,o,u,l,p,D=n(4),_=((p=O.prototype).resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},p.resetTimeStamp=function(){},O.probe=function(t){if(!t)return!1;for(var e=(D.a.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(a(t,e))return it.b.log("ADTS sync word found !"),!0;return!1},p.append=function(t,e,n,r){for(var a=this._audioTrack,i=D.a.getID3Data(t,0)||[],s=D.a.getTimeStamp(i),o=Object(h.a)(s)?90*s:9e4*e,u=0,l=o,c=t.length,d=i.length,p=[{pts:l,dts:l,data:i}];d<c-1;)if(g(t,d)&&d+5<c){v(a,this.observer,t,d,a.manifestCodec);var f=b(a,t,d,o,u);if(!f){it.b.log("Unable to parse AAC frame");break}d+=f.length,l=f.sample.pts,u++}else D.a.isHeader(t,d)?(i=D.a.getID3Data(t,d),p.push({pts:l,dts:l,data:i}),d+=i.length):d++;this.remuxer.remux(a,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,n,r)},p.destroy=function(){},O),w=n(10),A={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,r,a){if(!(n+24>e.length)){var i=this.parseHeader(e,n);if(i&&n+i.frameLength<=e.length){var s=r+a*(9e4*i.samplesPerFrame/i.sampleRate),o={unit:e.subarray(n,n+i.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(o),{sample:o,length:i.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,a=t[e+2]>>4&15,i=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!=n&&0!=a&&15!=a&&3!=i){var o=3==n?3-r:3==r?3:4,u=1e3*A.BitratesMap[14*o+a-1],l=3==n?0:2==n?1:2,c=A.SamplingRateMap[3*l+i],d=t[e+3]>>6==3?1:2,p=A.SamplesCoefficients[n][r],f=A.BytesInSlot[r],h=8*p*f;return{sampleRate:c,channelCount:d,frameLength:parseInt(p*u/c+s,10)*f,samplesPerFrame:h}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),r=4;n&&n.frameLength&&(r=n.frameLength);var a=e+r;if(a===t.length||a+1<t.length&&this.isHeaderPattern(t,a))return!0}return!1}},E=A,L=((l=P.prototype).loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");r.set(t.subarray(n,n+a)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a},l.skipBits=function(t){var e;this.bitsAvailable>t||(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord()),this.word<<=t,this.bitsAvailable-=t},l.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return 32<t&&it.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,0<this.bitsAvailable?this.word<<=e:0<this.bytesAvailable&&this.loadWord(),0<(e=t-e)&&this.bitsAvailable?n<<e|this.readBits(e):n},l.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},l.skipUEG=function(){this.skipBits(1+this.skipLZ())},l.skipEG=function(){this.skipBits(1+this.skipLZ())},l.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},l.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},l.readBoolean=function(){return 1===this.readBits(1)},l.readUByte=function(){return this.readBits(8)},l.readUShort=function(){return this.readBits(16)},l.readUInt=function(){return this.readBits(32)},l.skipScalingList=function(t){var e,n=8,r=8;for(e=0;e<t;e++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},l.readSPS=function(){var t,e,n,r,a,i,s,o=0,u=0,l=0,c=0,d=this.readUByte.bind(this),p=this.readBits.bind(this),f=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),p(5),m(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&m(1),v(),v(),m(1),h())for(i=3!==b?8:12,s=0;s<i;s++)h()&&y(s<6?16:64)}v();var A=f();if(0===A)f();else if(1===A)for(m(1),g(),g(),e=f(),s=0;s<e;s++)g();v(),m(1),n=f(),r=f(),0===(a=p(1))&&m(1),m(1),h()&&(o=f(),u=f(),l=f(),c=f());var _=[1,1];if(h()&&h())switch(d()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*o-2*u),height:(2-a)*(r+1)*16-(a?2:4)*(l+c),pixelRatio:_}},l.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},P),f=((u=I.prototype).decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},u.decryptAacSample=function(e,n,r,a){var i=e[n].unit,t=i.subarray(16,i.length-i.length%16),s=t.buffer.slice(t.byteOffset,t.byteOffset+t.length),o=this;this.decryptBuffer(s,function(t){t=new Uint8Array(t),i.set(t,16),a||o.decryptAacSamples(e,n+1,r)})},u.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},u.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,a=32;a<=t.length-16;a+=160,r+=16)n.set(t.subarray(a,a+16),r);return n},u.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,r=32;r<=t.length-16;r+=160,n+=16)t.set(e.subarray(n,n+16),r);return t},u.decryptAvcSample=function(e,n,r,a,i,s){var o=this.discardEPB(i.data),t=this.getAvcEncryptedData(o),u=this;this.decryptBuffer(t.buffer,function(t){i.data=u.getAvcDecryptedUnit(o,t),s||u.decryptAvcSamples(e,n,r+1,a)})},u.decryptAvcSamples=function(t,e,n,r){for(;;e++,n=0){if(e>=t.length)return void r();for(var a=t[e].units;!(n>=a.length);n++){var i=a[n];if(!(i.data.length<=48||1!==i.type&&5!==i.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,i,s),!s)return}}}},I),S={video:1,audio:2,id3:3,text:4},T=((o=j.prototype).setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new f(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},j.probe=function(t){var e=j._syncOffset(t);return!(e<0||(e&&it.b.warn("MPEG2-TS detected but first sync word found @ offset "+e+", junk ahead ?"),0))},j._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},j.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:S[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},o.resetInitSegment=function(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=j.createTrack("video",r),this._audioTrack=j.createTrack("audio",r),this._id3Track=j.createTrack("id3",r),this._txtTrack=j.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=r},o.resetTimeStamp=function(){},o.append=function(t,e,n,r){var a,i,s,o,u,l=t.length,c=!1;this.pmtUnknownTypes={},this.contiguous=n;var d=this.pmtParsed,p=this._avcTrack,f=this._audioTrack,h=this._id3Track,m=p.pid,g=f.pid,v=h.pid,y=this._pmtId,b=p.pesData,A=f.pesData,_=h.pesData,w=this._parsePAT,E=this._parsePMT.bind(this),S=this._parsePES,T=this._parseAVCPES.bind(this),k=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),x=j._syncOffset(t);for(l-=(l+x)%188,a=x;a<l;a+=188)if(71===t[a]){if(i=!!(64&t[a+1]),s=((31&t[a+1])<<8)+t[a+2],1<(48&t[a+3])>>4){if((o=a+5+t[a+4])===a+188)continue}else o=a+4;switch(s){case m:i&&(b&&(u=S(b))&&T(u,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(o,a+188)),b.size+=a+188-o);break;case g:i&&(A&&(u=S(A))&&(f.isAAC?k:D)(u),A={data:[],size:0}),A&&(A.data.push(t.subarray(o,a+188)),A.size+=a+188-o);break;case v:i&&(_&&(u=S(_))&&L(u),_={data:[],size:0}),_&&(_.data.push(t.subarray(o,a+188)),_.size+=a+188-o);break;case 0:i&&(o+=t[o]+1),y=this._pmtId=w(t,o);break;case y:i&&(o+=t[o]+1);var C=E(t,o,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(m=C.avc)&&(p.pid=m),0<(g=C.audio)&&(f.pid=g,f.isAAC=C.isAAC),0<(v=C.id3)&&(h.pid=v),c&&!d&&(it.b.log("reparse from beginning"),c=!1,a=x-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(rt.a.ERROR,{type:at.b.MEDIA_ERROR,details:at.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(u=S(b))?(T(u,!0),p.pesData=null):p.pesData=b,A&&(u=S(A))?((f.isAAC?k:D)(u),f.pesData=null):(A&&A.size&&it.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=A),_&&(u=S(_))?(L(u),h.pesData=null):h.pesData=_,null==this.sampleAes?this.remuxer.remux(f,p,h,this._txtTrack,e,n,r):this.decryptAndRemux(f,p,h,this._txtTrack,e,n,r)},o.decryptAndRemux=function(t,e,n,r,a,i,s){if(t.samples&&t.isAAC){var o=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){o.decryptAndRemuxAvc(t,e,n,r,a,i,s)})}else this.decryptAndRemuxAvc(t,e,n,r,a,i,s)},o.decryptAndRemuxAvc=function(t,e,n,r,a,i,s){if(e.samples){var o=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){o.remuxer.remux(t,e,n,r,a,i,s)})}else this.remuxer.remux(t,e,n,r,a,i,s)},o.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},o._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},o._trackUnknownPmt=function(t,e,n){var r=this.pmtUnknownTypes[t]||0;return 0===r&&(this.pmtUnknownTypes[t]=0,e.call(it.b,n)),this.pmtUnknownTypes[t]++,r},o._parsePMT=function(t,e,n,r){var a,i,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<a;){switch(i=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){this._trackUnknownPmt(t[e],it.b.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===s.audio&&(s.audio=i);break;case 21:-1===s.id3&&(s.id3=i);break;case 219:if(!r){this._trackUnknownPmt(t[e],it.b.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===s.avc&&(s.avc=i);break;case 3:case 4:n?-1===s.audio&&(s.audio=i,s.isAAC=!1):this._trackUnknownPmt(t[e],it.b.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(t[e],it.b.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(t[e],it.b.log,"Unknown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return s},o._parsePES=function(t){var e,n,r,a,i,s,o,u,l=0,c=t.data;if(!t||0===t.size)return null;for(;c[0].length<19&&1<c.length;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(1!==((e=c[0])[0]<<16)+(e[1]<<8)+e[2])return null;if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;if(192&(n=e[7])&&(s=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&n?54e5<s-(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)&&(it.b.warn(Math.round((s-o)/9e4)+"s delta between PTS and DTS, align them"),s=o):o=s),u=(a=e[8])+9,t.size<=u)return null;t.size-=u,i=new Uint8Array(t.size);for(var p=0,f=c.length;p<f;p++){var h=(e=c[p]).byteLength;if(u){if(h<u){u-=h;continue}e=e.subarray(u),h-=u,u=0}i.set(e,l),l+=h}return r&&(r-=a+3),{data:i,pts:s,dts:o,len:r}},o.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,r=n.length;if(isNaN(t.pts)){if(!r)return void e.dropped++;var a=n[r-1];t.pts=a.pts,t.dts=a.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,n.push(t)):e.dropped++}t.debug.length&&it.b.log(t.pts+"/"+t.dts+":"+t.debug)},o._parseAVCPES=function(v,t){function y(t,e,n,r){return{key:t,pts:e,dts:n,units:[],debug:r}}var b,A,_,w=this,E=this._avcTrack,e=this._parseAVCNALu(v.data),S=this.avcSample,T=!1,k=this.pushAccesUnit.bind(this);v.data=null,S&&e.length&&!E.audFound&&(k(S,E),S=this.avcSample=y(!1,v.pts,v.dts,"")),e.forEach(function(t){switch(t.type){case 1:A=!0,(S=S||(w.avcSample=y(!0,v.pts,v.dts,""))).frame=!0;var e=t.data;if(T&&4<e.length){var n=new L(e).readSliceType();2!==n&&4!==n&&7!==n&&9!==n||(S.key=!0)}break;case 5:A=!0,(S=S||(w.avcSample=y(!0,v.pts,v.dts,""))).key=!0,S.frame=!0;break;case 6:A=!0,(b=new L(w.discardEPB(t.data))).readUByte();for(var r=0,a=0,i=!1,s=0;!i&&1<b.bytesAvailable;){for(r=0;r+=s=b.readUByte(),255===s;);for(a=0;a+=s=b.readUByte(),255===s;);if(4===r&&0!==b.bytesAvailable){if(i=!0,181===b.readUByte()&&49===b.readUShort()&&1195456820===b.readUInt()&&3===b.readUByte()){var o=b.readUByte(),u=31&o,l=[o,b.readUByte()];for(_=0;_<u;_++)l.push(b.readUByte()),l.push(b.readUByte()),l.push(b.readUByte());w._insertSampleInOrder(w._txtTrack.samples,{type:3,pts:v.pts,bytes:l})}}else if(5===r&&0!==b.bytesAvailable){if(i=!0,16<a){var c=[];for(_=0;_<16;_++)c.push(b.readUByte().toString(16)),3!==_&&5!==_&&7!==_&&9!==_||c.push("-");var d=a-16,p=new Uint8Array(d);for(_=0;_<d;_++)p[_]=b.readUByte();w._insertSampleInOrder(w._txtTrack.samples,{pts:v.pts,payloadType:r,uuid:c.join(""),userDataBytes:p,userData:Object(D.b)(p.buffer)})}}else if(a<b.bytesAvailable)for(_=0;_<a;_++)b.readUByte()}break;case 7:if(T=A=!0,!E.sps){var f=(b=new L(t.data)).readSPS();E.width=f.width,E.height=f.height,E.pixelRatio=f.pixelRatio,E.sps=[t.data],E.duration=w._duration;var h=t.data.subarray(1,4),m="avc1.";for(_=0;_<3;_++){var g=h[_].toString(16);g.length<2&&(g="0"+g),m+=g}E.codec=m}break;case 8:A=!0,E.pps||(E.pps=[t.data]);break;case 9:A=!1,E.audFound=!0,S&&k(S,E),S=w.avcSample=y(!1,v.pts,v.dts,"");break;case 12:A=!1;break;default:A=!1,S&&(S.debug+="unknown NAL "+t.type+" ")}S&&A&&S.units.push(t)}),t&&S&&(k(S,E),this.avcSample=null)},o._insertSampleInOrder=function(t,e){var n=t.length;if(0<n){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;0<=r;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},o._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},o._parseAVCNALu=function(t){var e,n,r,a,i=0,s=t.byteLength,o=this._avcTrack,u=o.naluState||0,l=u,c=[],d=-1;for(-1===u&&(a=31&t[d=0],u=0,i=1);i<s;)if(e=t[i++],u)if(1!==u)if(e)if(1===e){if(0<=d)r={data:t.subarray(d,i-u-1),type:a},c.push(r);else{var p=this._getLastNalUnit();if(p&&(l&&i<=4-l&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-l)),0<(n=i-u-1))){var f=new Uint8Array(p.data.byteLength+n);f.set(p.data,0),f.set(t.subarray(0,n),p.data.byteLength),p.data=f}}u=i<s?(a=31&t[d=i],0):-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(0<=d&&0<=u&&(r={data:t.subarray(d,s),type:a,state:u},c.push(r)),0===c.length){var h=this._getLastNalUnit();if(h){var m=new Uint8Array(h.data.byteLength+t.byteLength);m.set(h.data,0),m.set(t,h.data.byteLength),h.data=m}}return o.naluState=u,c},o.discardEPB=function(t){for(var e,n,r=t.byteLength,a=[],i=1;i<r-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(a.push(i+2),i+=2):i++;if(0===a.length)return t;e=r-a.length,n=new Uint8Array(e);var s=0;for(i=0;i<e;s++,i++)s===a[0]&&(s++,a.shift()),n[i]=t[s];return n},o._parseAACPES=function(t){var e,n,r,a,i,s,o,u=this._audioTrack,l=t.data,c=t.pts,d=this.aacOverFlow,p=this.aacLastPTS;if(d){var f=new Uint8Array(d.byteLength+l.byteLength);f.set(d,0),f.set(l,d.byteLength),l=f}for(r=0,i=l.length;r<i-1&&!g(l,r);r++);if(!r||(o=r<i-1?(s="AAC PES did not start with ADTS header,offset:"+r,!1):(s="no ADTS header found in AAC PES",!0),it.b.warn("parsing error:"+s),this.observer.trigger(rt.a.ERROR,{type:at.b.MEDIA_ERROR,details:at.a.FRAG_PARSING_ERROR,fatal:o,reason:s}),!o)){if(v(u,this.observer,l,r,this.audioCodec),n=0,e=y(u.samplerate),d&&p){var h=p+e;1<Math.abs(h-c)&&(it.b.log("AAC: align PTS for overlapping frames by "+Math.round((h-c)/90)),c=h)}for(;r<i;){if(g(l,r)){if(r+5<i){var m=b(u,l,r,c,n);if(m){r+=m.length,a=m.sample.pts,n++;continue}}break}r++}d=r<i?l.subarray(r,i):null,this.aacOverFlow=d,this.aacLastPTS=a}},o._parseMPEGPES=function(t){for(var e=t.data,n=e.length,r=0,a=0,i=t.pts;a<n;)if(E.isHeader(e,a)){var s=E.appendFrame(this._audioTrack,e,a,i,r);if(!s)break;a+=s.length,r++}else a++},o._parseID3PES=function(t){this._id3Track.samples.push(t)},j),k=((s=B.prototype).resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},s.resetTimeStamp=function(){},B.probe=function(t){var e,n,r=D.a.getID3Data(t,0);if(r&&void 0!==D.a.getTimeStamp(r))for(e=r.length,n=Math.min(t.length-1,e+100);e<n;e++)if(E.probe(t,e))return it.b.log("MPEG Audio sync word found !"),!0;return!1},s.append=function(t,e,n,r){for(var a=D.a.getID3Data(t,0)||[],i=D.a.getTimeStamp(a),s=void 0!==i?90*i:9e4*e,o=a.length,u=t.length,l=0,c=0,d=this._audioTrack,p=[{pts:s,dts:s,data:a}];o<u;)if(E.isHeader(t,o)){var f=E.appendFrame(d,t,o,s,l);if(!f)break;o+=f.length,c=f.sample.pts,l++}else D.a.isHeader(t,o)?(a=D.a.getID3Data(t,o),p.push({pts:c,dts:c,data:a}),o+=a.length):o++;this.remuxer.remux(d,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,n,r)},s.destroy=function(){},B),H=(R.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},R),x=Math.pow(2,32)-1,st=(C.init=function(){var t;for(t in C.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})C.types.hasOwnProperty(t)&&(C.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);C.HDLR_TYPES={video:e,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);C.STTS=C.STSC=C.STCO=a,C.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),C.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),C.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),C.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var i=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),o=new Uint8Array([0,0,0,1]);C.FTYP=C.box(C.types.ftyp,i,o,i,s),C.DINF=C.box(C.types.dinf,C.box(C.types.dref,r))},C.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,a=n.length,i=a;a--;)r+=n[a].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),a=0,r=8;a<i;a++)e.set(n[a],r),r+=n[a].byteLength;return e},C.hdlr=function(t){return C.box(C.types.hdlr,C.HDLR_TYPES[t])},C.mdat=function(t){return C.box(C.types.mdat,t)},C.mdhd=function(t,e){e*=t;var n=Math.floor(e/(1+x)),r=Math.floor(e%(1+x));return C.box(C.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},C.mdia=function(t){return C.box(C.types.mdia,C.mdhd(t.timescale,t.duration),C.hdlr(t.type),C.minf(t))},C.mfhd=function(t){return C.box(C.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},C.minf=function(t){return"audio"===t.type?C.box(C.types.minf,C.box(C.types.smhd,C.SMHD),C.DINF,C.stbl(t)):C.box(C.types.minf,C.box(C.types.vmhd,C.VMHD),C.DINF,C.stbl(t))},C.moof=function(t,e,n){return C.box(C.types.moof,C.mfhd(t),C.traf(n,e))},C.moov=function(t){for(var e=t.length,n=[];e--;)n[e]=C.trak(t[e]);return C.box.apply(null,[C.types.moov,C.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(C.mvex(t)))},C.mvex=function(t){for(var e=t.length,n=[];e--;)n[e]=C.trex(t[e]);return C.box.apply(null,[C.types.mvex].concat(n))},C.mvhd=function(t,e){e*=t;var n=Math.floor(e/(1+x)),r=Math.floor(e%(1+x)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return C.box(C.types.mvhd,a)},C.sdtp=function(t){var e,n,r=t.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,a[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return C.box(C.types.sdtp,a)},C.stbl=function(t){return C.box(C.types.stbl,C.stsd(t),C.box(C.types.stts,C.STTS),C.box(C.types.stsc,C.STSC),C.box(C.types.stsz,C.STSZ),C.box(C.types.stco,C.STCO))},C.avc1=function(t){var e,n,r,a=[],i=[];for(e=0;e<t.sps.length;e++)r=(n=t.sps[e]).byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)r=(n=t.pps[e]).byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));var s=C.box(C.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(i))),o=t.width,u=t.height,l=t.pixelRatio[0],c=t.pixelRatio[1];return C.box(C.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o>>8&255,255&o,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,C.box(C.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),C.box(C.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c])))},C.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},C.mp4a=function(t){var e=t.samplerate;return C.box(C.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),C.box(C.types.esds,C.esds(t)))},C.mp3=function(t){var e=t.samplerate;return C.box(C.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},C.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?C.box(C.types.stsd,C.STSD,C.mp4a(t)):C.box(C.types.stsd,C.STSD,C.mp3(t)):C.box(C.types.stsd,C.STSD,C.avc1(t))},C.tkhd=function(t){var e=t.id,n=t.duration*t.timescale,r=t.width,a=t.height,i=Math.floor(n/(1+x)),s=Math.floor(n%(1+x));return C.box(C.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},C.traf=function(t,e){var n=C.sdtp(t),r=t.id,a=Math.floor(e/(1+x)),i=Math.floor(e%(1+x));return C.box(C.types.traf,C.box(C.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),C.box(C.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,i>>24,i>>16&255,i>>8&255,255&i])),C.trun(t,n.length+16+20+8+16+8+8),n)},C.trak=function(t){return t.duration=t.duration||4294967295,C.box(C.types.trak,C.tkhd(t),C.mdia(t))},C.trex=function(t){var e=t.id;return C.box(C.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},C.trun=function(t,e){var n,r,a,i,s,o,u=t.samples||[],l=u.length,c=12+16*l,d=new Uint8Array(c);for(e+=8+c,d.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),n=0;n<l;n++)a=(r=u[n]).duration,i=r.size,s=r.flags,o=r.cts,d.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,i>>>24&255,i>>>16&255,i>>>8&255,255&i,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,o>>>24&255,o>>>16&255,o>>>8&255,255&o],12+16*n);return C.box(C.types.trun,d)},C.initSegment=function(t){C.types||C.init();var e,n=C.moov(t);return(e=new Uint8Array(C.FTYP.byteLength+n.byteLength)).set(C.FTYP),e.set(n,C.FTYP.byteLength),e},C);function C(){}function R(){}function B(t,e,n){this.observer=t,this.config=n,this.remuxer=e}function j(t,e,n,r){this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=e,this.sampleAes=null,this.pmtUnknownTypes={}}function I(t,e,n,r){this.decryptdata=n,this.discardEPB=r,this.decrypter=new m.a(t,e,{removePKCS7Padding:!1})}function P(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}function O(t,e,n){this.observer=t,this.config=n,this.remuxer=e}function N(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var a=t*e*n;return r?Math.round(a):a}function ot(t,e){return void 0===e&&(e=!1),N(t,1e3,1/9e4,e)}function M(t,e){return void 0===e&&(e=1),N(t,9e4,1/e)}var z=M(10),ut=M(.2),lt=null;function ct(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;4294967296<Math.abs(t-e);)t+=n;return t}var F,U,G,V=((G=q.prototype).destroy=function(){},G.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},G.resetInitSegment=function(){this.ISGenerated=!1},G.getVideoStartPts=function(t){var r=!1,e=t.reduce(function(t,e){var n=e.pts-t;return n<-4294967296?(r=!0,ct(t,e.pts)):0<n?t:e.pts},t[0].pts);return r&&it.b.debug("PTS rollover detected"),e},G.remux=function(t,e,n,r,a,i,s){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var o=t.samples.length,u=e.samples.length,l=a,c=a;if(o&&u){var d=this.getVideoStartPts(e.samples),p=(ct(t.samples[0].pts,d)-d)/e.inputTimeScale;l+=Math.max(0,p),c+=Math.max(0,-p)}if(o){t.timescale||(it.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var f,h=this.remuxAudio(t,l,i,s);u&&(h&&(f=h.endPTS-h.startPTS),e.timescale||(it.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,c,i,f))}else if(u){var m=this.remuxVideo(e,c,i,0,s);m&&t.codec&&this.remuxEmptyAudio(t,l,i,m)}}n.samples.length&&this.remuxID3(n,a),r.samples.length&&this.remuxText(r,a),this.observer.trigger(rt.a.FRAG_PARSED)},G.generateIS=function(t,e,n){var r,a,i=this.observer,s=t.samples,o=e.samples,u=this.typeSupported,l="audio/mp4",c={},d={tracks:c},p=void 0===this._initPTS;if(p&&(r=a=1/0),t.config&&s.length&&(t.timescale=t.samplerate,it.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(u.mpeg?(l="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),c.audio={container:l,codec:t.codec,initSegment:!t.isAAC&&u.mpeg?new Uint8Array:st.initSegment([t]),metadata:{channelCount:t.channelCount}},p&&(r=a=s[0].pts-Math.round(t.inputTimeScale*n))),e.sps&&e.pps&&o.length){var f=e.inputTimeScale;if(e.timescale=f,c.video={container:"video/mp4",codec:e.codec,initSegment:st.initSegment([e]),metadata:{width:e.width,height:e.height}},p){var h=this.getVideoStartPts(o),m=Math.round(f*n);a=Math.min(a,ct(o[0].dts,h)-m),r=Math.min(r,h-m),this.observer.trigger(rt.a.INIT_PTS_FOUND,{initPTS:r})}}else p&&c.audio&&this.observer.trigger(rt.a.INIT_PTS_FOUND,{initPTS:r});Object.keys(c).length?(i.trigger(rt.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,p&&(this._initPTS=r,this._initDTS=a)):i.trigger(rt.a.ERROR,{type:at.b.MEDIA_ERROR,details:at.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},G.remuxVideo=function(t,e,n,r){var a,i,s,o,u,l=t.timescale,c=t.samples,d=[],p=c.length,f=this._initPTS,h=8,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=0,y=!1,b=this.nextAvcDts;if(0!==p){n||(b=e*l-(c[0].pts-ct(c[0].dts,c[0].pts)));for(var A=0;A<p;A++){var _=c[A];_.pts=ct(_.pts-f,b),_.dts=ct(_.dts-f,b),_.dts>_.pts&&(v=Math.max(Math.min(v,_.pts-_.dts),-1*ut)),_.dts<c[0<A?A-1:A].dts&&(y=!0)}y&&c.sort(function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r||t.id-e.id}),o=c[0].dts,u=c[p-1].dts;var w=Math.round((u-o)/(p-1));if(v<0){if(v<-2*w){it.b.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+ot(-w,!0)+" ms");for(var E=v,S=0;S<p;S++)c[S].dts=E=Math.max(E,c[S].pts-w),c[S].pts=Math.max(E,c[S].pts)}else{it.b.warn("PTS < DTS detected in video samples, shifting DTS by "+ot(v,!0)+" ms to overcome this issue");for(var T=0;T<p;T++)c[T].dts=c[T].dts+v}o=c[0].dts,u=c[p-1].dts}if(n){var k=o-b,D=w<k;if(D||k<-1){D?it.b.warn("AVC: "+ot(k,!0)+" ms ("+k+"dts) hole between fragments detected, filling it"):it.b.warn("AVC: "+ot(-k,!0)+" ms ("+k+"dts) overlapping between fragments detected"),o=b;var L=c[0].pts-k;c[0].dts=o,c[0].pts=L,it.b.log("Video: First PTS/DTS adjusted: "+ot(L,!0)+"/"+ot(o,!0)+", delta: "+ot(k,!0)+" ms")}}lt&&lt<75&&(o=Math.max(0,o));for(var x=0,C=0,R=0;R<p;R++){for(var B=c[R],j=B.units,I=j.length,P=0,O=0;O<I;O++)P+=j[O].data.length;C+=P,x+=I,B.length=P,B.dts=Math.max(B.dts,o),B.pts=Math.max(B.pts,B.dts,0),m=Math.min(B.pts,m),g=Math.max(B.pts,g)}u=c[p-1].dts;var N=C+4*x+8;try{i=new Uint8Array(N)}catch(t){return void this.observer.trigger(rt.a.ERROR,{type:at.b.MUX_ERROR,details:at.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var M=new DataView(i.buffer);M.setUint32(0,N),i.set(st.types.mdat,4);for(var F=0;F<p;F++){for(var U,G=c[F],V=G.units,K=0,H=0,z=V.length;H<z;H++){var W=V[H],Y=W.data,q=W.data.byteLength;M.setUint32(h,q),h+=4,i.set(Y,h),h+=q,K+=4+q}if(F<p-1)a=c[F+1].dts-G.dts;else{var X=this.config,J=G.dts-c[0<F?F-1:F].dts;if(X.stretchShortVideoTrack){var Q=X.maxBufferHole,Z=Math.floor(Q*l),$=(r?m+r*l:this.nextAudioPts)-G.pts;Z<$?((a=$-J)<0&&(a=J),it.b.log("It is approximately "+ot($,!1)+" ms to the next segment; using duration "+ot(a,!1)+" ms for the last video frame.")):a=J}else a=J}U=Math.round(G.pts-G.dts),d.push({size:K,duration:a,cts:U,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:G.key?2:1,isNonSync:G.key?0:1}})}this.nextAvcDts=u+a;var tt=t.dropped;if(t.nbNalu=0,t.dropped=0,d.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var et=d[0].flags;et.dependsOn=2,et.isNonSync=0}t.samples=d,s=st.moof(t.sequenceNumber++,o,t),t.samples=[];var nt={data1:s,data2:i,startPTS:m/l,endPTS:(g+a)/l,startDTS:o/l,endDTS:this.nextAvcDts/l,type:"video",hasAudio:!1,hasVideo:!0,nb:d.length,dropped:tt};return this.observer.trigger(rt.a.FRAG_PARSING_DATA,nt),nt}},G.remuxAudio=function(t,e,n,r){var a,i,s,o,u,l,c=t.inputTimeScale,d=t.timescale,p=c/d,f=(t.isAAC?1024:1152)*p,h=this._initPTS,m=!t.isAAC&&this.typeSupported.mpeg,g=m?0:8,v=t.samples,y=[],b=this.nextAudioPts;if(n|=v.length&&b&&(r&&Math.abs(e-b/c)<.1||Math.abs(v[0].pts-b-h)<20*f),v.forEach(function(t){t.pts=t.dts=ct(t.pts-h,e*c)}),0!==(v=v.filter(function(t){return 0<=t.pts})).length){if(n||(b=r?Math.max(0,e*c):v[0].pts),t.isAAC)for(var A=this.config.maxAudioFramesDrift,_=0,w=b;_<v.length;){var E=v[_],S=E.pts,T=S-w;if(T<=-A*f)n||0<_?(it.b.warn("Dropping 1 audio frame @ "+ot(w,!0)/1e3+"s due to "+ot(T,!0)+" ms overlap."),v.splice(_,1)):(it.b.warn("Audio frame @ "+ot(S,!0)/1e3+"s overlaps nextAudioPts by "+ot(T,!0)+" ms."),w=S+f,_++);else if(A*f<=T&&T<z&&w){var k=Math.round(T/f);it.b.warn("Injecting "+k+" audio frames @ "+ot(w,!0)/1e3+"s due to "+ot(T,!0)+" ms gap.");for(var D=0;D<k;D++){var L=Math.max(w,0);(i=H.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(it.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),i=E.unit.subarray()),v.splice(_,0,{unit:i,pts:L,dts:L}),w+=f,_++}E.pts=E.dts=w,w+=f,_++}else Math.abs(T),E.pts=E.dts=w,w+=f,_++}for(var x=v.length,C=0;x--;)C+=v[x].unit.byteLength;for(var R=0,B=v.length;R<B;R++){var j=v[R],I=j.unit,P=j.pts;if(void 0!==l&&a)a.duration=Math.round((P-l)/p);else{var O=P-b,N=0;if(n&&t.isAAC&&O){if(0<O&&O<z)N=Math.round((P-b)/f),it.b.log(ot(O,!0)+" ms hole between AAC samples detected,filling it"),0<N&&((i=H.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(i=I.subarray()),C+=N*i.length);else if(O<-12){it.b.log("drop overlapping AAC sample, expected/parsed/delta: "+ot(b,!0)+" ms / "+ot(P,!0)+" ms / "+ot(-O,!0)+" ms"),C-=I.byteLength;continue}P=b}if(u=P,!(0<C))return;C+=g;try{s=new Uint8Array(C)}catch(t){return void this.observer.trigger(rt.a.ERROR,{type:at.b.MUX_ERROR,details:at.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:C,reason:"fail allocating audio mdat "+C})}m||(new DataView(s.buffer).setUint32(0,C),s.set(st.types.mdat,4));for(var M=0;M<N;M++)(i=H.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(it.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),i=I.subarray()),s.set(i,g),g+=i.byteLength,a={size:i.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},y.push(a)}s.set(I,g);var F=I.byteLength;g+=F,a={size:F,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},y.push(a),l=P}var U=0;if(2<=(x=y.length)&&(U=y[x-2].duration,a.duration=U),x){this.nextAudioPts=b=l+p*U,t.samples=y,o=m?new Uint8Array:st.moof(t.sequenceNumber++,u/p,t),t.samples=[];var G=u/c,V=b/c,K={data1:o,data2:s,startPTS:G,endPTS:V,startDTS:G,endDTS:V,type:"audio",hasAudio:!0,hasVideo:!1,nb:x};return this.observer.trigger(rt.a.FRAG_PARSING_DATA,K),K}return null}},G.remuxEmptyAudio=function(t,e,n,r){var a=t.inputTimeScale,i=a/(t.samplerate?t.samplerate:a),s=this.nextAudioPts,o=(void 0!==s?s:r.startDTS*a)+this._initDTS,u=r.endDTS*a+this._initDTS,l=1024*i,c=Math.ceil((u-o)/l),d=H.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(it.b.warn("remux empty Audio"),d){for(var p=[],f=0;f<c;f++){var h=o+f*l;p.push({unit:d,pts:h,dts:h})}t.samples=p,this.remuxAudio(t,e,n)}else it.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},G.remuxID3=function(t,e){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,a=this._initPTS,i=this._initDTS,s=0;s<n;s++){var o=t.samples[s];o.pts=ct(o.pts-a,e*r)/r,o.dts=ct(o.dts-i,e*r)/r}this.observer.trigger(rt.a.FRAG_PARSING_METADATA,{samples:t.samples}),t.samples=[]}},G.remuxText=function(t,e){var n=t.samples.length,r=t.inputTimeScale,a=this._initPTS;if(n){for(var i=0;i<n;i++){var s=t.samples[i];s.pts=ct(s.pts-a,e*r)/r}t.samples.sort(function(t,e){return t.pts-e.pts}),this.observer.trigger(rt.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},q),K=((U=Y.prototype).destroy=function(){},U.resetTimeStamp=function(){},U.resetInitSegment=function(){},U.remux=function(t,e,n,r,a,i,s,o){var u=this.observer,l="";t&&(l+="audio"),e&&(l+="video"),u.trigger(rt.a.FRAG_PARSING_DATA,{data1:o,startPTS:a,startDTS:a,type:l,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),u.trigger(rt.a.FRAG_PARSED)},Y),W=Object(r.a)();function Y(t){this.observer=t}function q(t,e,n,r){if(this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===lt){var a=navigator.userAgent.match(/Chrome\/(\d+)/i);lt=a?parseInt(a[1]):0}}try{F=W.performance.now.bind(W.performance)}catch(t){it.b.debug("Unable to use Performance API on this environment"),F=W.Date.now}var X,J=((X=Q.prototype).destroy=function(){var t=this.demuxer;t&&t.destroy()},X.push=function(t,n,r,a,i,s,o,u,l,c,d,p){var f=this;if(0<t.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var e=this.decrypter;null==e&&(e=this.decrypter=new m.a(this.observer,this.config));var h=F();e.decrypt(t,n.key.buffer,n.iv.buffer,function(t){var e=F();f.observer.trigger(rt.a.FRAG_DECRYPTED,{stats:{tstart:h,tdecrypt:e}}),f.pushDecrypted(new Uint8Array(t),n,new Uint8Array(r),a,i,s,o,u,l,c,d,p)})}else this.pushDecrypted(new Uint8Array(t),n,new Uint8Array(r),a,i,s,o,u,l,c,d,p)},X.pushDecrypted=function(t,e,n,r,a,i,s,o,u,l,c,d){var p=this.demuxer,f=this.remuxer;if(!p||s||o){for(var h,m=this.observer,g=this.typeSupported,v=this.config,y=[{demux:T,remux:V},{demux:w.a,remux:K},{demux:_,remux:V},{demux:k,remux:V}],b=0,A=y.length;b<A&&!(h=y[b]).demux.probe(t);b++);if(!h)return void m.trigger(rt.a.ERROR,{type:at.b.MEDIA_ERROR,details:at.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});f&&f instanceof h.remux||(f=new h.remux(m,v,g,this.vendor)),p&&p instanceof h.demux||(p=new h.demux(m,f,v,g),this.probe=h.demux.probe),this.demuxer=p,this.remuxer=f}(s||o)&&(p.resetInitSegment(n,r,a,l),f.resetInitSegment()),s&&(p.resetTimeStamp(d),f.resetTimeStamp(d)),"function"==typeof p.setDecryptData&&p.setDecryptData(e),p.append(t,i,u,c)},Q);function Q(t,e,n,r){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r}e.a=J},function(t,e,n){"use strict";var r,p=n(0),u=n(1),o=Math.pow(2,32)-1,a=((r=m.prototype).resetTimeStamp=function(t){this.initPTS=t},r.resetInitSegment=function(t,e,n,r){if(t&&t.byteLength){var a=this.initData=m.parseInitSegment(t);null==e&&(e="mp4a.40.5"),null==n&&(n="avc1.42e01e");var i={};a.audio&&a.video?i.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:r?t:null}:(a.audio&&(i.audio={container:"audio/mp4",codec:e,initSegment:r?t:null}),a.video&&(i.video={container:"video/mp4",codec:n,initSegment:r?t:null})),this.observer.trigger(u.a.FRAG_PARSING_INIT_SEGMENT,{tracks:i})}else e&&(this.audioCodec=e),n&&(this.videoCodec=n)},m.probe=function(t){return 0<m.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length},m.bin2str=function(t){return String.fromCharCode.apply(null,t)},m.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},m.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},m.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},m.findBox=function(t,e){var n,r,a,i,s,o,u=[];if(t.data?(s=t.start,a=t.end,t=t.data):(s=0,a=t.byteLength),!e.length)return null;for(n=s;n<a;)o=1<(r=m.readUint32(t,n))?n+r:a,m.bin2str(t.subarray(n+4,n+8))===e[0]&&(1===e.length?u.push({data:t,start:n+8,end:o}):(i=m.findBox({data:t,start:n+8,end:o},e.slice(1))).length&&(u=u.concat(i))),n=o;return u},m.parseSegmentIndex=function(t){var e,n=m.findBox(t,["moov"])[0],r=n?n.end:null,a=0,i=m.findBox(t,["sidx"]);if(!i||!i[0])return null;e=[];var s=(i=i[0]).data[0],o=m.readUint32(i,a=0===s?8:16);a+=4,a+=0===s?8:16,a+=2;var u=i.end+0,l=m.readUint16(i,a);a+=2;for(var c=0;c<l;c++){var d=a,p=m.readUint32(i,d);d+=4;var f=2147483647&p;if(1==(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var h=m.readUint32(i,d);d+=4,e.push({referenceSize:f,subsegmentDuration:h,info:{duration:h/o,start:u,end:u+f-1}}),u+=f,a=d+=4}return{earliestPresentationTime:0,timescale:o,version:s,referencesCount:l,references:e,moovEndOffset:r}},m.parseInitSegment=function(t){var d=[];return m.findBox(t,["moov","trak"]).forEach(function(t){var e=m.findBox(t,["tkhd"])[0];if(e){var n=e.data[e.start],r=0===n?12:20,a=m.readUint32(e,r),i=m.findBox(t,["mdia","mdhd"])[0];if(i){r=0===(n=i.data[i.start])?12:20;var s=m.readUint32(i,r),o=m.findBox(t,["mdia","hdlr"])[0];if(o){var u={soun:"audio",vide:"video"}[m.bin2str(o.data.subarray(o.start+8,o.start+12))];if(u){var l=m.findBox(t,["mdia","minf","stbl","stsd"]);if(l.length){l=l[0];var c=m.bin2str(l.data.subarray(l.start+12,l.start+16));p.b.log("MP4Demuxer:"+u+":"+c+" found")}d[a]={timescale:s,type:u},d[u]={timescale:s,id:a}}}}}}),d},m.getStartDTS=function(a,t){var e,n,r;return e=m.findBox(t,["moof","traf"]),n=[].concat.apply([],e.map(function(r){return m.findBox(r,["tfhd"]).map(function(t){var e,n;return e=m.readUint32(t,4),n=a[e].timescale||9e4,m.findBox(r,["tfdt"]).map(function(t){var e,n;return e=t.data[t.start],n=m.readUint32(t,4),1===e&&(n*=Math.pow(2,32),n+=m.readUint32(t,8)),n})[0]/n})})),r=Math.min.apply(null,n),isFinite(r)?r:0},m.offsetStartDTS=function(r,t,s){m.findBox(t,["moof","traf"]).map(function(n){return m.findBox(n,["tfhd"]).map(function(t){var e=m.readUint32(t,4),i=r[e].timescale||9e4;m.findBox(n,["tfdt"]).map(function(t){var e=t.data[t.start],n=m.readUint32(t,4);if(0===e)m.writeUint32(t,4,n-s*i);else{n*=Math.pow(2,32),n+=m.readUint32(t,8),n-=s*i,n=Math.max(n,0);var r=Math.floor(n/(1+o)),a=Math.floor(n%(1+o));m.writeUint32(t,4,r),m.writeUint32(t,8,a)}})})})},r.append=function(t,e,n,r){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),a=this.initData);var i,s=this.initPTS;if(void 0===s){var o=m.getStartDTS(a,t);this.initPTS=s=o-e,this.observer.trigger(u.a.INIT_PTS_FOUND,{initPTS:s})}m.offsetStartDTS(a,t,s),i=m.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,i,n,r,t)},r.destroy=function(){},m);function m(t,e){this.observer=t,this.remuxer=e}e.a=a},function(t,e,f){function o(n){var r={};function a(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=r,a.i=function(t){return t},a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw console.error(t),t};var t=a(a.s=ENTRY_MODULE);return t.default||t}function h(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(t,e,n){var r={};r[n]=[];var a=e.toString(),i=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return r;for(var s,o=i[1],u=new RegExp("(\\\\n|\\W)"+h(o)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");s=u.exec(a);)"dll-reference"!==s[3]&&r[n].push(s[3]);for(u=new RegExp("\\("+h(o)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");s=u.exec(a);)t[s[2]]||(r[n].push(s[1]),t[s[2]]=f(s[1]).m),r[s[2]]=r[s[2]]||[],r[s[2]].push(s[4]);for(var l,c=Object.keys(r),d=0;d<c.length;d++)for(var p=0;p<r[c[d]].length;p++)l=r[c[d]][p],isNaN(+l)||(r[c[d]][p]=+r[c[d]][p]);return r}function m(n){return Object.keys(n).reduce(function(t,e){return t||0<n[e].length},!1)}t.exports=function(d,t){t=t||{};var n={main:f.m},r=t.all?{main:Object.keys(n.main)}:function(t){for(var e={main:[d]},n={main:[]},r={main:{}};m(e);)for(var a=Object.keys(e),i=0;i<a.length;i++){var s=a[i],o=e[s].pop();if(r[s]=r[s]||{},!r[s][o]&&t[s][o]){r[s][o]=!0,n[s]=n[s]||[],n[s].push(o);for(var u=p(t,t[s][o],s),l=Object.keys(u),c=0;c<l.length;c++)e[l[c]]=e[l[c]]||[],e[l[c]]=e[l[c]].concat(u[l[c]])}}return n}(n),a="";Object.keys(r).filter(function(t){return"main"!==t}).forEach(function(e){for(var t=0;r[e][t];)t++;r[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+o.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+r[e].map(function(t){return JSON.stringify(t)+": "+n[e][t].toString()}).join(",")+"});\n"}),a=a+"new (("+o.toString().replace("ENTRY_MODULE",JSON.stringify(d))+")({"+r.main.map(function(t){return JSON.stringify(t)+": "+n.main[t].toString()}).join(",")+"}))(self);";var e=new window.Blob([a],{type:"text/javascript"});if(t.bare)return e;var i=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(e),s=new window.Worker(i);return s.objectURL=i,s}},function(t,e,n){"use strict";n.r(e);var s=n(9),o=n(1),u=n(0),l=n(8);e.default=function(a){var i=new l.EventEmitter;i.trigger=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))};function r(t,e){a.postMessage({event:t,data:e})}a.addEventListener("message",function(t){var e=t.data;switch(e.cmd){case"init":var n=JSON.parse(e.config);a.demuxer=new s.a(i,e.typeSupported,n,e.vendor),Object(u.a)(n.debug),r("init",null);break;case"demux":a.demuxer.push(e.data,e.decryptdata,e.initSegment,e.audioCodec,e.videoCodec,e.timeOffset,e.discontinuity,e.trackSwitch,e.contiguous,e.duration,e.accurateTimeOffset,e.defaultInitPTS)}}),i.on(o.a.FRAG_DECRYPTED,r),i.on(o.a.FRAG_PARSING_INIT_SEGMENT,r),i.on(o.a.FRAG_PARSED,r),i.on(o.a.ERROR,r),i.on(o.a.FRAG_PARSING_METADATA,r),i.on(o.a.FRAG_PARSING_USERDATA,r),i.on(o.a.INIT_PTS_FOUND,r),i.on(o.a.FRAG_PARSING_DATA,function(t,e){var n=[],r={event:t,data:e};e.data1&&(r.data1=e.data1.buffer,n.push(e.data1.buffer),delete e.data1),e.data2&&(r.data2=e.data2.buffer,n.push(e.data2.buffer),delete e.data2),a.postMessage(r,n)})}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return Fn});var r={};n.r(r),n.d(r,"newCue",function(){return Be});var g,i,a,s,o,u=n(6),v=n(2),P=n(3),O=n(1),N=n(0),l={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},c=((a=d.prototype).destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},a.onHandlerDestroying=function(){},a.onHandlerDestroyed=function(){},a.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},a.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(l[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},a.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},a.onEvent=function(t,e){this.onEventGeneric(t,e)},a.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){N.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(O.a.ERROR,{type:v.b.OTHER_ERROR,details:v.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},d);function d(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}(o=g=g||{}).MANIFEST="manifest",o.LEVEL="level",o.AUDIO_TRACK="audioTrack",o.SUBTITLE_TRACK="subtitleTrack",(s=i=i||{}).MAIN="main",s.AUDIO="audio",s.SUBTITLE="subtitle";var p=n(10);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h,m,x=(f(y.prototype,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(u.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),y);function y(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(m=h=h||{}).AUDIO="audio",m.VIDEO="video";var A,C=((A=_.prototype).setByteRange=function(t,e){var n=t.split("@",2),r=[];1===n.length?r[0]=e?e.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},A.addElementaryStream=function(t){this._elementaryStreams[t]=!0},A.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},A.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},A.setDecryptDataFromLevelKey=function(t,e){var n=t;return null!=t&&t.method&&t.uri&&!t.iv&&((n=new x(t.baseuri,t.reluri)).method=t.method,n.iv=this.createInitializationVector(e)),n},b(_.prototype,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(u.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&N.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(P.a)(this.programDateTime))return null;var t=Object(P.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}]),_);function _(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((t={})[h.AUDIO]=!1,t[h.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E,R=(w(L.prototype,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(P.a)(this.fragments[0].programDateTime))}}]),L),S=/^(\d+)x(\d+)$/,T=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,B=((E=D.prototype).decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},E.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},E.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},E.decimalFloatingPoint=function(t){return parseFloat(this[t])},E.enumeratedString=function(t){return this[t]},E.decimalResolution=function(t){var e=S.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},D.parseAttrList=function(t){var e,n={};for(T.lastIndex=0;null!==(e=T.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[e[1]]=r}return n},D),k={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function D(t){for(var e in"string"==typeof t&&(t=D.parseAttrList(t)),t)t.hasOwnProperty(e)&&(this[e]=t[e])}function L(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}function j(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var I=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,M=/#EXT-X-MEDIA:(.*)/g,F=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),U=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,G=/\.(mp4|m4s|m4v|m4a)$/i,V=(K.findGroup=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}},K.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return 2<n.length?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},K.resolve=function(t,e){return u.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},K.parseMasterPlaylist=function(t,e){var n,r=[],a={},i=!1;function s(r,a){["video","audio"].forEach(function(n){var e=r.filter(function(t){return!!(e=k[n])&&!0===e[t.slice(0,4)];var e});if(e.length){var t=e.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});a[n+"Codec"]=0<t.length?t[0]:e[0],r=r.filter(function(t){return-1===e.indexOf(t)})}}),a.unknownCodecs=r}for(I.lastIndex=0;null!=(n=I.exec(t));)if(n[1]){var o={},u=o.attrs=new B(n[1]);o.url=K.resolve(n[2],e);var l=u.decimalResolution("RESOLUTION");l&&(o.width=l.width,o.height=l.height),o.bitrate=u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),o.name=u.NAME,s([].concat((u.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=K.convertAVC1ToAVCOTI(o.videoCodec)),r.push(o)}else if(n[3]){var c=new B(n[3]);c["DATA-ID"]&&(i=!0,a[c["DATA-ID"]]=c)}return{levels:r,sessionData:i?a:null}},K.parseMasterPlaylistMedia=function(t,e,n,r){var a;void 0===r&&(r=[]);var i=[],s=0;for(M.lastIndex=0;null!==(a=M.exec(t));){var o=new B(a[1]);if(o.TYPE===n){var u={attrs:o,id:s++,groupId:o["GROUP-ID"],instreamId:o["INSTREAM-ID"],name:o.NAME||o.LANGUAGE,type:n,default:"YES"===o.DEFAULT,autoselect:"YES"===o.AUTOSELECT,forced:"YES"===o.FORCED,lang:o.LANGUAGE};if(o.URI&&(u.url=K.resolve(o.URI,e)),r.length){var l=K.findGroup(r,u.groupId);u.audioCodec=l?l.codec:r[0].codec}i.push(u)}}return i},K.parseLevelPlaylist=function(t,e,n,r,a){var i,s,o,u,l,c=0,d=0,p=new R(e),f=0,h=null,m=new C,g=null;for(F.lastIndex=0;null!==(i=F.exec(t));){var v=i[1];if(v){m.duration=parseFloat(v);var y=(" "+i[2]).slice(1);m.title=y||null,m.tagList.push(y?["INF",v,y]:["INF",v])}else if(i[3]){if(Object(P.a)(m.duration)){var b=c++;m.type=r,m.start=d,o&&(m.levelkey=o),m.sn=b,m.level=n,m.cc=f,m.urlId=a,m.baseurl=e,m.relurl=(" "+i[3]).slice(1),l=h,(u=m).rawProgramDateTime?u.programDateTime=Date.parse(u.rawProgramDateTime):null!=l&&l.programDateTime&&(u.programDateTime=l.endProgramDateTime),Object(P.a)(u.programDateTime)||(u.programDateTime=null,u.rawProgramDateTime=null),p.fragments.push(m),d+=(h=m).duration,m=new C}}else if(i[4]){var A=(" "+i[4]).slice(1);h?m.setByteRange(A,h):m.setByteRange(A)}else if(i[5])m.rawProgramDateTime=(" "+i[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),null===g&&(g=p.fragments.length);else{if(!(i=i[0].match(U))){N.b.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<i.length&&void 0===i[s];s++);var _=(" "+i[s+1]).slice(1),w=(" "+i[s+2]).slice(1);switch(i[s]){case"#":m.tagList.push(w?[_,w]:[_]);break;case"PLAYLIST-TYPE":p.type=_.toUpperCase();break;case"MEDIA-SEQUENCE":c=p.startSN=parseInt(_);break;case"TARGETDURATION":p.targetduration=parseFloat(_);break;case"VERSION":p.version=parseInt(_);break;case"EXTM3U":break;case"ENDLIST":p.live=!1;break;case"DIS":f++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(_);break;case"KEY":var E=new B(_),S=E.enumeratedString("METHOD"),T=E.URI,k=E.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(E.KEYFORMAT||"identity")){N.b.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}S&&(o=new x(e,T),T&&0<=["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(S)&&(o.method=S,o.key=null,o.iv=k));break;case"START":var D=new B(_).decimalFloatingPoint("TIME-OFFSET");Object(P.a)(D)&&(p.startTimeOffset=D);break;case"MAP":var L=new B(_);m.relurl=L.URI,L.BYTERANGE&&m.setByteRange(L.BYTERANGE),m.baseurl=e,m.level=n,m.type=r,m.sn="initSegment",p.initSegment=m,(m=new C).rawProgramDateTime=p.initSegment.rawProgramDateTime;break;default:N.b.warn("line parsed but not handled: "+i)}}}return(m=h)&&!m.relurl&&(p.fragments.pop(),d-=m.duration),p.totalduration=d,p.averagetargetduration=d/p.fragments.length,p.endSN=c-1,p.startCC=p.fragments[0]?p.fragments[0].cc:0,p.endCC=f,!p.initSegment&&p.fragments.length&&p.fragments.every(function(t){return G.test(t.relurl)})&&(N.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(m=new C).relurl=p.fragments[0].relurl,m.baseurl=e,m.level=n,m.type=r,m.sn="initSegment",p.initSegment=m,p.needSidxRanges=!0),g&&function(t){for(var e=t[g],n=g-1;0<=n;n--){var r=t[n];r.programDateTime=e.programDateTime-1e3*r.duration,e=r}}(p.fragments),p},K);function K(){}var H=window.performance,z=function(n){var t,e;function m(t){var e;return(e=n.call(this,t,O.a.MANIFEST_LOADING,O.a.LEVEL_LOADING,O.a.AUDIO_TRACK_LOADING,O.a.SUBTITLE_TRACK_LOADING)||this).loaders={},e}e=n,(t=m).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,m.canHaveQualityLevels=function(t){return t!==g.AUDIO_TRACK&&t!==g.SUBTITLE_TRACK},m.mapContextToLevelType=function(t){switch(t.type){case g.AUDIO_TRACK:return i.AUDIO;case g.SUBTITLE_TRACK:return i.SUBTITLE;default:return i.MAIN}},m.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n};var r=m.prototype;return r.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,r=e.loader,a=new(n||r)(e);return t.loader=a,this.loaders[t.type]=a},r.getInternalLoader=function(t){return this.loaders[t.type]},r.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},r.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},r.destroy=function(){this.destroyInternalLoaders(),n.prototype.destroy.call(this)},r.onManifestLoading=function(t){this.load({url:t.url,type:g.MANIFEST,level:0,id:null,responseType:"text"})},r.onLevelLoading=function(t){this.load({url:t.url,type:g.LEVEL,level:t.level,id:t.id,responseType:"text"})},r.onAudioTrackLoading=function(t){this.load({url:t.url,type:g.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},r.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:g.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},r.load=function(t){var e=this.hls.config;N.b.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,r,a,i,s=this.getInternalLoader(t);if(s){var o=s.context;if(o&&o.url===t.url)return N.b.trace("playlist request ongoing"),!1;N.b.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case g.MANIFEST:n=e.manifestLoadingMaxRetry,r=e.manifestLoadingTimeOut,a=e.manifestLoadingRetryDelay,i=e.manifestLoadingMaxRetryTimeout;break;case g.LEVEL:a=i=n=0,r=e.levelLoadingTimeOut;break;default:n=e.levelLoadingMaxRetry,r=e.levelLoadingTimeOut,a=e.levelLoadingRetryDelay,i=e.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t);var u={timeout:r,maxRetry:n,retryDelay:a,maxRetryDelay:i},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return N.b.debug("Calling internal loader delegate for URL: "+t.url),s.load(t,u,l),!0},r.loadsuccess=function(t,e,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,r);if(this.resetInternalLoader(n.type),"string"!=typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var a=t.data;e.tload=H.now(),0===a.indexOf("#EXTM3U")?0<a.indexOf("#EXTINF:")||0<a.indexOf("#EXT-X-TARGETDURATION:")?this._handleTrackOrLevelPlaylist(t,e,n,r):this._handleMasterPlaylist(t,e,n,r):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",r)},r.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},r.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},r._handleMasterPlaylist=function(t,e,n,r){var a=this.hls,i=t.data,s=m.getResponseUrl(t,n),o=V.parseMasterPlaylist(i,s),u=o.levels,l=o.sessionData;if(u.length){var c=u.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),d=V.parseMasterPlaylistMedia(i,s,"AUDIO",c),p=V.parseMasterPlaylistMedia(i,s,"SUBTITLES"),f=V.parseMasterPlaylistMedia(i,s,"CLOSED-CAPTIONS");if(d.length){var h=!1;d.forEach(function(t){t.url||(h=!0)}),!1===h&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(N.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),d.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}a.trigger(O.a.MANIFEST_LOADED,{levels:u,audioTracks:d,subtitles:p,captions:f,url:s,stats:e,networkDetails:r,sessionData:l})}else this._handleManifestParsingError(t,n,"no level found in manifest",r)},r._handleTrackOrLevelPlaylist=function(t,e,n,r){var a=this.hls,i=n.id,s=n.level,o=n.type,u=m.getResponseUrl(t,n),l=Object(P.a)(i)?i:0,c=Object(P.a)(s)?s:l,d=m.mapContextToLevelType(n),p=V.parseLevelPlaylist(t.data,u,c,d,l);if(p.tload=e.tload,p.fragments.length){if(o===g.MANIFEST){var f={url:u,details:p};a.trigger(O.a.MANIFEST_LOADED,{levels:[f],audioTracks:[],url:u,stats:e,networkDetails:r,sessionData:null})}if(e.tparsed=H.now(),p.needSidxRanges){var h=p.initSegment.url;this.load({url:h,isSidxRequest:!0,type:o,level:s,levelDetails:p,id:i,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=p,this._handlePlaylistLoaded(t,e,n,r)}else a.trigger(O.a.ERROR,{type:v.b.NETWORK_ERROR,details:v.a.LEVEL_EMPTY_ERROR,fatal:!1,url:u,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},r._handleSidxRequest=function(t,e){if("string"==typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var n=p.a.parseSegmentIndex(new Uint8Array(t.data));if(n){var r=n.references,a=e.levelDetails;r.forEach(function(t,e){var n=t.info;if(a){var r=a.fragments[e];0===r.byteRange.length&&r.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}}),a&&a.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},r._handleManifestParsingError=function(t,e,n,r){this.hls.trigger(O.a.ERROR,{type:v.b.NETWORK_ERROR,details:v.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:r})},r._handleNetworkError=function(t,e,n,r){var a,i;void 0===n&&(n=!1),void 0===r&&(r=null),N.b.info("A network error occured while loading a "+t.type+"-type playlist");var s=this.getInternalLoader(t);switch(t.type){case g.MANIFEST:a=n?v.a.MANIFEST_LOAD_TIMEOUT:v.a.MANIFEST_LOAD_ERROR,i=!0;break;case g.LEVEL:a=n?v.a.LEVEL_LOAD_TIMEOUT:v.a.LEVEL_LOAD_ERROR,i=!1;break;case g.AUDIO_TRACK:a=n?v.a.AUDIO_TRACK_LOAD_TIMEOUT:v.a.AUDIO_TRACK_LOAD_ERROR,i=!1;break;default:i=!1}s&&(s.abort(),this.resetInternalLoader(t.type));var o={type:v.b.NETWORK_ERROR,details:a,fatal:i,url:t.url,loader:s,context:t,networkDetails:e};r&&(o.response=r),this.hls.trigger(O.a.ERROR,o)},r._handlePlaylistLoaded=function(t,e,n,r){var a=n.type,i=n.level,s=n.id,o=n.levelDetails;if(o&&o.targetduration)if(m.canHaveQualityLevels(n.type))this.hls.trigger(O.a.LEVEL_LOADED,{details:o,level:i||0,id:s||0,stats:e,networkDetails:r});else switch(a){case g.AUDIO_TRACK:this.hls.trigger(O.a.AUDIO_TRACK_LOADED,{details:o,id:s,stats:e,networkDetails:r});break;case g.SUBTITLE_TRACK:this.hls.trigger(O.a.SUBTITLE_TRACK_LOADED,{details:o,id:s,stats:e,networkDetails:r})}else this._handleManifestParsingError(t,n,"invalid target duration",r)},m}(c),W=function(r){var t,e;function n(t){var e;return(e=r.call(this,t,O.a.FRAG_LOADING)||this).loaders={},e}e=r,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=n.prototype;return a.destroy=function(){var t=this.loaders;for(var e in t){var n=t[e];n&&n.destroy()}this.loaders={},r.prototype.destroy.call(this)},a.onFragLoading=function(t){var e=t.frag,n=e.type,r=this.loaders,a=this.hls.config,i=a.fLoader,s=a.loader;e.loaded=0;var o,u,l,c=r[n];c&&(N.b.warn("abort previous fragment loader for type: "+n),c.abort()),c=r[n]=e.loader=new(a.fLoader?i:s)(a),o={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var d=e.byteRangeStartOffset,p=e.byteRangeEndOffset;Object(P.a)(d)&&Object(P.a)(p)&&(o.rangeStart=d,o.rangeEnd=p),u={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},c.load(o,u,l)},a.loadsuccess=function(t,e,n,r){void 0===r&&(r=null);var a=t.data,i=n.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(O.a.FRAG_LOADED,{payload:a,frag:i,stats:e,networkDetails:r})},a.loaderror=function(t,e,n){void 0===n&&(n=null);var r=e.frag,a=r.loader;a&&a.abort(),this.loaders[r.type]=void 0,this.hls.trigger(O.a.ERROR,{type:v.b.NETWORK_ERROR,details:v.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},a.loadtimeout=function(t,e,n){void 0===n&&(n=null);var r=e.frag,a=r.loader;a&&a.abort(),this.loaders[r.type]=void 0,this.hls.trigger(O.a.ERROR,{type:v.b.NETWORK_ERROR,details:v.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},a.loadprogress=function(t,e,n,r){void 0===r&&(r=null);var a=e.frag;a.loaded=t.loaded,this.hls.trigger(O.a.FRAG_LOAD_PROGRESS,{frag:a,stats:t,networkDetails:r})},n}(c),Y=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.KEY_LOADING)||this).loaders={},e.decryptkey=null,e.decrypturl=null,e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},n.prototype.destroy.call(this)},a.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n];if(e.decryptdata){var a=e.decryptdata.uri;if(a!==this.decrypturl||null===this.decryptkey){var i=this.hls.config;if(r&&(N.b.warn("abort previous key loader for type:"+n),r.abort()),!a)return void N.b.warn("key uri is falsy");e.loader=this.loaders[n]=new i.loader(i),this.decrypturl=a,this.decryptkey=null;var s={url:a,frag:e,responseType:"arraybuffer"},o={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:i.fragLoadingRetryDelay,maxRetryDelay:i.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(s,o,u)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(O.a.KEY_LOADED,{frag:e}))}else N.b.warn("Missing decryption data on fragment in onKeyLoading")},a.loadsuccess=function(t,e,n){var r=n.frag;r.decryptdata?(this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,delete this.loaders[r.type],this.hls.trigger(O.a.KEY_LOADED,{frag:r})):N.b.error("after key load, decryptdata unset")},a.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(O.a.ERROR,{type:v.b.NETWORK_ERROR,details:v.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},a.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(O.a.ERROR,{type:v.b.NETWORK_ERROR,details:v.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},r}(c),q="NOT_LOADED",X="PARTIAL",J=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.BUFFER_APPENDED,O.a.FRAG_BUFFERED,O.a.FRAG_LOADED)||this).bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,c.prototype.destroy.call(this),n.prototype.destroy.call(this)},a.getBufferedFrag=function(r,a){var i=this.fragments,t=Object.keys(i).filter(function(t){var e=i[t];if(e.body.type!==a)return!1;if(!e.buffered)return!1;var n=e.body;return n.startPTS<=r&&r<=n.endPTS});if(0===t.length)return null;var e=t.pop();return i[e].body},a.detectEvictedFragments=function(s,o){var u=this;Object.keys(this.fragments).forEach(function(t){var e=u.fragments[t];if(e&&e.buffered){var n=e.range[s];if(n)for(var r=n.time,a=0;a<r.length;a++){var i=r[a];if(!u.isTimeBuffered(i.startPTS,i.endPTS,o)){u.removeFragment(e.body);break}}}})},a.detectPartialFragments=function(n){var r=this,t=this.getFragmentKey(n),a=this.fragments[t];a&&(a.buffered=!0,Object.keys(this.timeRanges).forEach(function(t){if(n.hasElementaryStream(t)){var e=r.timeRanges[t];a.range[t]=r.getBufferedTimes(n.startPTS,n.endPTS,e)}}))},a.getBufferedTimes=function(t,e,n){for(var r,a,i=[],s=!1,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,a=n.end(o)+this.bufferPadding,r<=t&&e<=a){i.push({startPTS:Math.max(t,n.start(o)),endPTS:Math.min(e,n.end(o))});break}if(t<a&&r<e)i.push({startPTS:Math.max(t,n.start(o)),endPTS:Math.min(e,n.end(o))}),s=!0;else if(e<=r)break}return{time:i,partial:s}},a.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},a.getPartialFragment=function(n){var r,a,i,s=this,o=null,u=0;return Object.keys(this.fragments).forEach(function(t){var e=s.fragments[t];s.isPartial(e)&&(a=e.body.startPTS-s.bufferPadding,i=e.body.endPTS+s.bufferPadding,a<=n&&n<=i&&(r=Math.min(n-a,i-n),u<=r&&(o=e.body,u=r)))}),o},a.getState=function(t){var e=this.getFragmentKey(t),n=this.fragments[e],r=q;return void 0!==n&&(r=n.buffered?!0===this.isPartial(n)?X:"OK":"APPENDING"),r},a.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},a.isTimeBuffered=function(t,e,n){for(var r,a,i=0;i<n.length;i++){if(r=n.start(i)-this.bufferPadding,a=n.end(i)+this.bufferPadding,r<=t&&e<=a)return!0;if(e<=r)return!1}return!1},a.onFragLoaded=function(t){var e=t.frag;Object(P.a)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},a.onBufferAppended=function(t){var n=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var e=n.timeRanges[t];n.detectEvictedFragments(t,e)})},a.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},a.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},a.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},a.removeAllFragments=function(){this.fragments=Object.create(null)},r}(c),Q=function(t,e){for(var n=0,r=t.length-1,a=null,i=null;n<=r;){var s=e(i=t[a=(n+r)/2|0]);if(0<s)n=a+1;else{if(!(s<0))return i;r=a-1}}return null},Z=(nt.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0}catch(t){}return!1},nt.bufferInfo=function(t,e,n){try{if(t){var r,a=t.buffered,i=[];for(r=0;r<a.length;r++)i.push({start:a.start(r),end:a.end(r)});return this.bufferedInfo(i,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},nt.bufferedInfo=function(t,e,n){t.sort(function(t,e){return t.start-e.start||e.end-t.end});var r=[];if(n)for(var a=0;a<t.length;a++){var i=r.length;if(i){var s=r[i-1].end;t[a].start-s<n?t[a].end>s&&(r[i-1].end=t[a].end):r.push(t[a])}else r.push(t[a])}else r=t;for(var o,u=0,l=e,c=e,d=0;d<r.length;d++){var p=r[d].start,f=r[d].end;if(p<=e+n&&e<f)l=p,u=(c=f)-e;else if(e+n<p){o=p;break}}return{len:u,start:l,end:c,nextStart:o}},nt),$=n(8),tt=n(11),et=n(9);function nt(){}function rt(){return window.MediaSource||window.WebKitMediaSource}var at,it,st,ot,ut=n(5),lt=(it=$.EventEmitter,ot=it,(st=ht).prototype=Object.create(ot.prototype),(st.prototype.constructor=st).__proto__=ot,ht.prototype.trigger=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.emit.apply(this,[t,t].concat(n))},ht),ct=Object(ut.a)(),dt=rt()||{isTypeSupported:function(){return!1}},pt=((at=ft.prototype).destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},at.push=function(t,e,n,r,a,i,s,o){var u=this.w,l=Object(P.a)(a.startPTS)?a.startPTS:a.start,c=a.decryptdata,d=this.frag,p=!(d&&a.cc===d.cc),f=!(d&&a.level===d.level),h=d&&a.sn===d.sn+1,m=!f&&h;if(p&&N.b.log(this.id+":discontinuity detected"),f&&N.b.log(this.id+":switch detected"),this.frag=a,u)u.postMessage({cmd:"demux",data:t,decryptdata:c,initSegment:e,audioCodec:n,videoCodec:r,timeOffset:l,discontinuity:p,trackSwitch:f,contiguous:m,duration:i,accurateTimeOffset:s,defaultInitPTS:o},t instanceof ArrayBuffer?[t]:[]);else{var g=this.demuxer;g&&g.push(t,c,e,n,r,l,p,f,m,i,s,o)}},at.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":ct.URL.revokeObjectURL(this.w.objectURL);break;case O.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},ft);function ft(n,t){var r=this;this.hls=n,this.id=t;function e(t,e){(e=e||{}).frag=r.frag,e.id=r.id,n.trigger(t,e)}var a=this.observer=new lt,i=n.config;a.on(O.a.FRAG_DECRYPTED,e),a.on(O.a.FRAG_PARSING_INIT_SEGMENT,e),a.on(O.a.FRAG_PARSING_DATA,e),a.on(O.a.FRAG_PARSED,e),a.on(O.a.ERROR,e),a.on(O.a.FRAG_PARSING_METADATA,e),a.on(O.a.FRAG_PARSING_USERDATA,e),a.on(O.a.INIT_PTS_FOUND,e);var s={mp4:dt.isTypeSupported("video/mp4"),mpeg:dt.isTypeSupported("audio/mpeg"),mp3:dt.isTypeSupported('audio/mp4; codecs="mp3"')},o=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){var u;N.b.log("demuxing in webworker");try{u=this.w=tt(12),this.onwmsg=this.onWorkerMessage.bind(this),u.addEventListener("message",this.onwmsg),u.onerror=function(t){n.trigger(O.a.ERROR,{type:v.b.OTHER_ERROR,details:v.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},u.postMessage({cmd:"init",typeSupported:s,vendor:o,id:t,config:JSON.stringify(i)})}catch(n){N.b.warn("Error in worker:",n),N.b.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),u&&ct.URL.revokeObjectURL(u.objectURL),this.demuxer=new et.a(a,s,i,o),this.w=void 0}}else this.demuxer=new et.a(a,s,i,o)}function ht(){return it.apply(this,arguments)||this}function mt(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}}function gt(t,e,n){var r=t[e],a=t[n],i=a.startPTS;if(Object(P.a)(i))e<n?(r.duration=i-r.start,r.duration<0&&N.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(a.duration=r.start-i,a.duration<0&&N.b.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!"));else if(e<n){var s=r.cc===a.cc;a.start=r.start+(s&&r.minEndPTS?r.minEndPTS-r.start:r.duration)}else a.start=Math.max(r.start-a.duration,0)}function vt(t,e,n,r,a,i){var s=n,o=r;if(Object(P.a)(e.startPTS)){var u=Math.abs(e.startPTS-n);Object(P.a)(e.deltaPTS)?e.deltaPTS=Math.max(u,e.deltaPTS):e.deltaPTS=u,s=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),o=Math.min(r,e.endPTS),r=Math.max(r,e.endPTS),a=Math.min(a,e.startDTS),i=Math.max(i,e.endDTS)}var l=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=s,e.endPTS=r,e.minEndPTS=o,e.startDTS=a,e.endDTS=i,e.duration=r-n;var c,d,p,f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;for(c=f-t.startSN,(d=t.fragments)[c]=e,p=c;0<p;p--)gt(d,p,p-1);for(p=c;p<d.length-1;p++)gt(d,p,p+1);return t.PTSKnown=!0,l}function yt(a,i){i.initSegment&&a.initSegment&&(i.initSegment=a.initSegment);var n,r=0;if(bt(a,i,function(t,e){r=t.cc-e.cc,Object(P.a)(t.startPTS)&&(e.start=e.startPTS=t.startPTS,e.endPTS=t.endPTS,e.duration=t.duration,e.backtracked=t.backtracked,e.dropped=t.dropped,n=e),i.PTSKnown=!0}),i.PTSKnown){if(r){N.b.log("discontinuity sliding from playlist, take drift into account");for(var t=i.fragments,e=0;e<t.length;e++)t[e].cc+=r}n?vt(i,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):function(){var t=i.startSN-a.startSN,e=a.fragments,n=i.fragments;if(!(t<0||t>e.length))for(var r=0;r<n.length;r++)n[r].start+=e[t].start}(),i.PTSKnown=a.PTSKnown}}function bt(t,e,n){if(t&&e)for(var r=Math.max(t.startSN,e.startSN)-e.startSN,a=Math.min(t.endSN,e.endSN)-e.startSN,i=e.startSN-t.startSN,s=r;s<=a;s++){var o=t.fragments[i+s],u=e.fragments[s];if(!o||!u)break;n(o,u,s)}}function At(t,e,n){var r=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),a=r/2;return t&&e.endSN===t.endSN&&(r=a),n&&(r=Math.max(a,r-(window.performance.now()-n))),Math.round(r)}var _t=function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e};function wt(n,t){t.fragments.forEach(function(t){if(t){var e=t.start+n;t.start=t.startPTS=e,t.endPTS=e+t.duration}}),t.PTSKnown=!0}function Et(r,a,t){!function(t){if(n=!1,a&&a.details&&t&&(t.endCC>t.startCC||r&&r.cc<t.startCC)&&(n=!0),n){var e=function(t,e){var n=t.fragments,r=e.fragments;if(r.length&&n.length){var a=function(t,e){for(var n=null,r=0;r<t.length;r+=1){var a=t[r];if(a&&a.cc===e){n=a;break}}return n}(n,r[0].cc);if(a&&(!a||a.startPTS))return a;N.b.log("No frag in previous level to align on")}else N.b.log("No fragments to align")}(a.details,t);e&&(N.b.log("Adjusting PTS using last level due to CC increase within current level"),wt(e.start,t))}var n}(t),!t.PTSKnown&&a&&function(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var n=e.fragments[0].programDateTime,r=(t.fragments[0].programDateTime-n)/1e3+e.fragments[0].start;Object(P.a)(r)&&(N.b.log("adjusting PTS using programDateTime delta, sliding:"+r.toFixed(3)),wt(r,t))}}(t,a.details)}function St(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(P.a)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<t.length;++r){var a=t[r];if(i=e,s=n,o=a,u=1e3*Math.min(s,o.duration+(o.deltaPTS?o.deltaPTS:0)),(o.endProgramDateTime||0)-u>i)return a}var i,s,o,u;return null}function Tt(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var a=null;return t?a=e[t.sn-e[0].sn+1]:0===n&&0===e[0].start&&(a=e[0]),(!a||0!==kt(n,r,a))&&Q(e,kt.bind(null,n,r))||a}function kt(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}var Dt,Lt=((Dt=xt.prototype).poll=function(t){var e=this.config,n=this.media,r=this.stalled,a=n.currentTime,i=n.seeking,s=this.seeking&&!i,o=!this.seeking&&i;if(this.seeking=i,a===t){if((o||s)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var u=Z.bufferInfo(n,a,0),l=0<u.len,c=u.nextStart||0;if(l||c){if(i){var d=2<u.len,p=!c||2<c-a&&!this.fragmentTracker.getPartialFragment(a);if(d||p)return;this.moved=!1}if(!this.moved&&this.stalled){var f=Math.max(c,u.start||0)-a;if(0<f&&f<=2)return void this._trySkipBufferHole(null)}var h=self.performance.now();if(null!==r){var m=h-r;!i&&250<=m&&this._reportStall(u.len);var g=Z.bufferInfo(n,a,e.maxBufferHole);this._tryFixBufferStall(g,m)}else this.stalled=h}}}else if(this.moved=!0,null!==r){if(this.stallReported){var v=self.performance.now()-r;N.b.warn("playback not stuck anymore @"+a+", after "+Math.round(v)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},Dt._tryFixBufferStall=function(t,e){var n=this.config,r=this.fragmentTracker,a=this.media.currentTime,i=r.getPartialFragment(a);i&&this._trySkipBufferHole(i)||t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(N.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},Dt._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,N.b.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},Dt._trySkipBufferHole=function(t){for(var e=this.config,n=this.hls,r=this.media,a=r.currentTime,i=0,s=0;s<r.buffered.length;s++){var o=r.buffered.start(s);if(a+e.maxBufferHole>=i&&a<o){var u=Math.max(o+.05,r.currentTime+.1);return N.b.warn("skipping hole, adjusting currentTime from "+a+" to "+u),this.moved=!0,this.stalled=null,r.currentTime=u,t&&n.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+a+" to "+u,frag:t}),u}i=r.buffered.end(s)}return 0},Dt._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,r=n.currentTime,a=(this.nudgeRetry||0)+1;if((this.nudgeRetry=a)<t.nudgeMaxRetry){var i=r+a*t.nudgeOffset;N.b.warn("Nudging 'currentTime' from "+r+" to "+i),n.currentTime=i,e.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else N.b.error("Playhead still not moving while enough data buffered @"+r+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.BUFFER_STALLED_ERROR,fatal:!0})},xt);function xt(t,e,n,r){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var Ct=function(i){var t,e;function n(t){for(var e,n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=i.call.apply(i,[this,t].concat(r))||this)._boundTick=void 0,e._tickTimer=null,e._tickInterval=null,e._tickCallCount=0,e._boundTick=e.tick.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e}e=i,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},r.hasInterval=function(){return!!this._tickInterval},r.hasNextTick=function(){return!!this._tickTimer},r.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},r.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),!(this._tickInterval=null))},r.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),!(this._tickTimer=null))},r.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),1<this._tickCallCount&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},r.doTick=function(){},n}(c),Rt="STOPPED",Bt="IDLE",jt="KEY_LOADING",It="FRAG_LOADING",Pt="FRAG_LOADING_WAITING_RETRY",Ot="WAITING_TRACK",Nt="PARSING",Mt="PARSED",Ft="BUFFER_FLUSHING",Ut="ERROR",Gt="WAITING_INIT_PTS",Vt="WAITING_LEVEL",Kt=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var a=r.prototype;return a.doTick=function(){},a.startLoad=function(){},a.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Rt},a._streamEnded=function(t,e){var n=this.fragCurrent,r=this.fragmentTracker;if(e.live||!n||n.backtracked||n.sn!==e.endSN||t.nextStart)return!1;var a=r.getState(n);return a===X||"OK"===a},a.onMediaSeeking=function(){var t=this.config,e=this.media,n=this.mediaBuffer,r=this.state,a=e?e.currentTime:null,i=Z.bufferInfo(n||e,a,this.config.maxBufferHole);if(N.b.log("media seeking to "+(Object(P.a)(a)?a.toFixed(3):a)),r===It){var s=this.fragCurrent;if(0===i.len&&s){var o=t.maxFragLookUpTolerance,u=s.start-o,l=s.start+s.duration+o;a<u||l<a?(s.loader&&(N.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),s.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Bt):N.b.log("seeking outside of buffer but within currently loaded fragment range")}}else"ENDED"===r&&(0===i.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=Bt);e&&(this.lastCurrentTime=a),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=a),this.tick()},a.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},a.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},a.onHandlerDestroyed=function(){this.state=Rt,this.fragmentTracker=null},a.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},r}(Ct);function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zt,Wt=function(r){var t,e;function n(t,e){var n;return(n=r.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.MANIFEST_LOADING,O.a.MANIFEST_PARSED,O.a.LEVEL_LOADED,O.a.LEVELS_UPDATED,O.a.KEY_LOADED,O.a.FRAG_LOADED,O.a.FRAG_LOAD_EMERGENCY_ABORTED,O.a.FRAG_PARSING_INIT_SEGMENT,O.a.FRAG_PARSING_DATA,O.a.FRAG_PARSED,O.a.ERROR,O.a.AUDIO_TRACK_SWITCHING,O.a.AUDIO_TRACK_SWITCHED,O.a.BUFFER_CREATED,O.a.BUFFER_APPENDED,O.a.BUFFER_FLUSHED)||this).fragmentTracker=e,n.config=t.config,n.audioCodecSwap=!1,n._state=Rt,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n.audioOnly=!1,n.bitrateTest=!1,n}e=r,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=n.prototype;return a.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}0<e&&-1===t&&(N.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Bt,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=Rt},a.stopLoad=function(){this.forceStartLoad=!1,r.prototype.stopLoad.call(this)},a.doTick=function(){switch(this.state){case Ft:this.fragLoadError=0;break;case Bt:this._doTickIdle();break;case Vt:var t=this.levels[this.level];t&&t.details&&(this.state=Bt);break;case Pt:var e=window.performance.now(),n=this.retryDate;(!n||n<=e||this.media&&this.media.seeking)&&(N.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Bt)}this._checkBuffer(),this._checkFragmentChanged()},a._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var a=t.nextLoadLevel,i=this.levels[a];if(i){var s,o=i.bitrate;s=o?Math.max(8*e.maxBufferSize/o,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var u=r<e.maxBufferHole?Math.max(2,e.maxBufferHole):e.maxBufferHole,l=Z.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,u),c=l.len;if(!(s<=c)){N.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=a;var d=i.details;if(!d||d.live&&this.levelLastLoaded!==a)this.state=Vt;else{if(this._streamEnded(l,d)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(O.a.BUFFER_EOS,p),void(this.state="ENDED")}this._fetchPayloadOrEos(r,l,d)}}}}},a._fetchPayloadOrEos=function(t,e,n){var r=this.fragPrevious,a=(this.level,n.fragments),i=a.length;if(0!==i){var s,o=a[0].start,u=a[i-1].start+a[i-1].duration,l=e.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var c=this.config.initialLiveManifestSize;if(i<c)return void N.b.warn("Can not start playback of a level, reason: not enough fragments "+i+" < "+c);if(null===(s=this._ensureFragmentAtLivePoint(n,l,o,u,r,a)))return}else l<o&&(s=a[0]);(s=s||this._findFragment(o,r,i,a,l,u,n))&&(s.encrypted?this._loadKey(s,n):this._loadFragment(s,n,t,l))}},a._ensureFragmentAtLivePoint=function(t,e,n,r,a,i){var s,o=this.hls.config,u=this.media,l=1/0;if(void 0!==o.liveMaxLatencyDuration?l=o.liveMaxLatencyDuration:Object(P.a)(o.liveMaxLatencyDurationCount)&&(l=o.liveMaxLatencyDurationCount*t.targetduration),e<Math.max(n-o.maxFragLookUpTolerance,r-l)){var c=this.liveSyncPosition=this.computeLivePosition(n,t);e=c,u&&!u.paused&&u.readyState&&u.duration>c&&c>u.currentTime&&(N.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+c.toFixed(3)),u.currentTime=c),this.nextLoadPosition=c}if(t.PTSKnown&&r<e&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown&&a)if(t.hasProgramDateTime)N.b.log("live playlist, switching playlist, load frag with same PDT: "+a.programDateTime),s=St(i,a.endProgramDateTime,o.maxFragLookUpTolerance);else{var d=a.sn+1;if(d>=t.startSN&&d<=t.endSN){var p=i[d-t.startSN];a.cc===p.cc&&(s=p,N.b.log("live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=Q(i,function(t){return a.cc-t.cc}))&&N.b.log("live playlist, switching playlist, load frag with same CC: "+s.sn)}return s},a._findFragment=function(t,e,n,r,a,i,s){var o,u=this.hls.config;if(o=a<i?Tt(e,r,a,a>i-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance):r[n-1]){var l=o.sn-s.startSN,c=e&&o.level===e.level,d=r[l-1],p=r[1+l];if(e&&o.sn===e.sn)if(c&&!o.backtracked)if(o.sn<s.endSN){var f=e.deltaPTS;f&&f>u.maxBufferHole&&e.dropped&&l?(o=d,N.b.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(o=p,"OK"!==this.fragmentTracker.getState(o)&&N.b.log("Re-loading fragment with SN: "+o.sn))}else o=null;else o.backtracked&&(p&&p.backtracked?(N.b.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+o.sn+". Loading fragment "+p.sn),o=p):(N.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),o.dropped=0,d?(o=d).backtracked=!0:l&&(o=null)))}return o},a._loadKey=function(t,e){N.b.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level),this.state=jt,this.hls.trigger(O.a.KEY_LOADING,{frag:t})},a._loadFragment=function(t,e,n,r){var a=this.fragmentTracker.getState(t);"initSegment"!==(this.fragCurrent=t).sn&&(this.startFragRequested=!0),Object(P.a)(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||a===q||a===X?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,N.b.log("Loading "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(n.toFixed(3))+", bufferEnd: "+parseFloat(r.toFixed(3))),this.hls.trigger(O.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new pt(this.hls,"main")),this.state=It):"APPENDING"===a&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},a.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,i.MAIN)},a.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},a._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),Z.isBuffered(n,e)?t=this.getBufferedFrag(e):Z.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var r=t;if(r!==this.fragPlaying){this.hls.trigger(O.a.FRAG_CHANGED,{frag:r});var a=r.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(O.a.LEVEL_SWITCHED,{level:a}),this.fragPlaying=r}}},a.immediateLevelSwitch=function(){if(N.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused)||e.pause():t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},a.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,0<t.currentTime&&Z.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},a.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=this.getBufferedFrag(t.currentTime);if(n&&1<n.startPTS&&this.flushMainBuffer(0,n.startPTS-1),t.paused)e=0;else{var r=this.hls.nextLoadLevel,a=this.levels[r],i=this.fragLastKbps;e=i&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*i)+1:0}var s=this.getBufferedFrag(t.currentTime+e);if(s){var o=this.followingBufferedFrag(s);if(o){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null;var l=Math.max(s.endPTS,o.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,o.duration));this.flushMainBuffer(l,Number.POSITIVE_INFINITY)}}}},a.flushMainBuffer=function(t,e){this.state=Ft;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(O.a.BUFFER_FLUSHING,n)},a.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new Lt(n,e,this.fragmentTracker,this.hls)},a.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(N.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},a.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(P.a)(e)&&N.b.log("media seeked to "+e.toFixed(3)),this.tick()},a.onManifestLoading=function(){N.b.log("trigger BUFFER_RESET"),this.hls.trigger(O.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},a.onManifestParsed=function(t){var e,n=!1,r=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&N.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)},a.onLevelLoaded=function(t){var e=t.details,n=t.level,r=this.levels[this.levelLastLoaded],a=this.levels[n],i=e.totalduration,s=0;if(N.b.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+i),e.live||a.details&&a.details.live){var o=a.details;o&&0<e.fragments.length?(yt(o,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,o),e.PTSKnown&&Object(P.a)(s)?N.b.log("live playlist sliding:"+s.toFixed(3)):(N.b.log("live playlist - outdated PTS, unknown sliding"),Et(this.fragPrevious,r,e))):(N.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,Et(this.fragPrevious,r,e))}else e.PTSKnown=!1;if(a.details=e,this.levelLastLoaded=n,this.hls.trigger(O.a.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=e.startTimeOffset;Object(P.a)(u)?(u<0&&(N.b.log("negative start time offset "+u+", count from end of last fragment"),u=s+i+u),N.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):e.live?(this.startPosition=this.computeLivePosition(s,e),N.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Vt&&(this.state=Bt),this.tick()},a.onKeyLoaded=function(){this.state===jt&&(this.state=Bt,this.tick())},a.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,r=this.levels,a=this.media,i=t.frag;if(this.state===It&&e&&"main"===i.type&&i.level===e.level&&i.sn===e.sn){var s=t.stats,o=r[e.level],u=o.details;if(this.bitrateTest=!1,this.stats=s,N.b.log("Loaded "+e.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+e.level),i.bitrateTest&&n.nextLoadLevel)this.state=Bt,this.startFragRequested=!1,s.tparsed=s.tbuffered=window.performance.now(),n.trigger(O.a.FRAG_BUFFERED,{stats:s,frag:e,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=Bt,s.tparsed=s.tbuffered=window.performance.now(),u.initSegment.data=t.payload,n.trigger(O.a.FRAG_BUFFERED,{stats:s,frag:e,id:"main"}),this.tick();else{N.b.log("Parsing "+e.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+e.level+", cc "+e.cc),this.state=Nt,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var l=!(a&&a.seeking)&&(u.PTSKnown||!u.live),c=u.initSegment?u.initSegment.data:[],d=this._getAudioCodec(o);(this.demuxer=this.demuxer||new pt(this.hls,"main")).push(t.payload,c,d,o.videoCodec,e,u.totalduration,l)}}this.fragLoadError=0},a.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===Nt){var r,a,i=t.tracks;if(this.audioOnly=i.audio&&!i.video,this.altAudio&&!this.audioOnly&&delete i.audio,a=i.audio){var s=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(N.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===o.indexOf("firefox")&&(s="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==a.container&&(s="mp4a.40.2",N.b.log("Android: force audio codec to "+s)),a.levelCodec=s,a.id=t.id}for(r in(a=i.video)&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=t.id),this.hls.trigger(O.a.BUFFER_CODECS,i),i){a=i[r],N.b.log("main track:"+r+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var u=a.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(O.a.BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}},a.onFragParsingData=function(e){var n=this,t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&("audio"!==e.type||!this.altAudio)&&this.state===Nt){var a=this.levels[this.level],i=t;if(Object(P.a)(e.endPTS)||(e.endPTS=e.startPTS+t.duration,e.endDTS=e.startDTS+t.duration),!0===e.hasAudio&&i.addElementaryStream(h.AUDIO),!0===e.hasVideo&&i.addElementaryStream(h.VIDEO),N.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(i.dropped=e.dropped,i.dropped)if(i.backtracked)N.b.warn("Already backtracked on this fragment, appending with the gap",i.sn);else{var s=a.details;if(!s||i.sn!==s.startSN)return N.b.warn("missing video frame(s), backtracking fragment",i.sn),this.fragmentTracker.removeFragment(i),i.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=Bt,this.fragPrevious=i,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();N.b.warn("missing video frame(s) on first frag, appending with gap",i.sn)}else i.backtracked=!1;var o=vt(a.details,i,e.startPTS,e.endPTS,e.startDTS,e.endDTS),u=this.hls;u.trigger(O.a.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(t){t&&t.length&&n.state===Nt&&(n.appended=!0,n.pendingBuffering=!0,u.trigger(O.a.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))}),this.tick()}},a.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===Nt&&(this.stats.tparsed=window.performance.now(),this.state=Mt,this._checkAppendedParsed())},a.onAudioTrackSwitching=function(t){var e=this.altAudio,n=!!t.url,r=t.id;if(!n){if(this.mediaBuffer!==this.media){N.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;a.loader&&(N.b.log("switching to main audio track, cancel main fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Bt}var i=this.hls;e&&i.trigger(O.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:r})}},a.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(N.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},a.onBufferCreated=function(t){var e,n,r=t.tracks,a=!1;for(var i in r){var s=r[i];"main"===s.id?(e=s,"video"===(n=i)&&(this.videoBuffer=r[i].buffer)):a=!0}a&&e?(N.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},a.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==Nt&&e!==Mt||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed())}},a._checkAppendedParsed=function(){if(!(this.state!==Mt||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;N.b.log("main buffered : "+_t(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(O.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=Bt}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},a.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&Z.isBuffered(this.media,this.media.currentTime)&&Z.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case v.a.FRAG_LOAD_ERROR:case v.a.FRAG_LOAD_TIMEOUT:case v.a.KEY_LOAD_ERROR:case v.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);N.b.warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=window.performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Pt}else N.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ut;break;case v.a.LEVEL_LOAD_ERROR:case v.a.LEVEL_LOAD_TIMEOUT:this.state!==Ut&&(t.fatal?(this.state=Ut,N.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==Vt||(this.state=Bt));break;case v.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==Nt&&this.state!==Mt||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Bt):(N.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},a._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,N.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},a._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},a.onFragLoadEmergencyAborted=function(){this.state=Bt,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},a.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;if(t){var e=this.audioOnly?h.AUDIO:h.VIDEO;this.fragmentTracker.detectEvictedFragments(e,t.buffered)}this.state=Bt,this.fragPrevious=null},a.onLevelsUpdated=function(t){this.levels=t.levels},a.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},a._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=this.startPosition;if(e!==n&&0<=n){if(t.seeking)return void N.b.log("could not seek to "+n+", already seeking at "+e);var r=(t.buffered.length?t.buffered.start(0):0)-n;0<r&&r<this.config.maxBufferHole&&(N.b.log("adjusting start position by "+r+" to match buffer start"),n+=r,this.startPosition=n),N.b.log("seek to target start position "+n+" from current time "+e+". ready state "+t.readyState),t.currentTime=n}},a._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(N.b.log("swapping playlist audio codec"),e=e&&(-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Ht(n.prototype,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,N.b.log("main stream-controller: "+e+"->"+t),this.hls.trigger(O.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),n}(Kt);function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qt=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.MANIFEST_LOADED,O.a.LEVEL_LOADED,O.a.AUDIO_TRACK_SWITCHED,O.a.FRAG_LOADED,O.a.ERROR)||this).canload=!1,e.currentLevelIndex=null,e.manualLevelIndex=-1,e.timer=null,zt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},a.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},a.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},a.stopLoad=function(){this.canload=!1},a.onManifestLoaded=function(t){var e,n=[],r=[],a={},i=null,s=!1,o=!1;if(t.levels.forEach(function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,s=s||!!t.videoCodec,o=o||!!t.audioCodec,zt&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(i=a[t.bitrate])?i.url.push(t.url):(t.url=[t.url],t.urlId=0,a[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&mt(i||t,"audio",e.AUDIO),e.SUBTITLES&&mt(i||t,"text",e.SUBTITLES))}),s&&o&&(n=n.filter(function(t){return!!t.videoCodec})),n=n.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||j(e,"audio"))&&(!n||j(n,"video"))}),t.audioTracks&&(r=t.audioTracks.filter(function(t){return!t.audioCodec||j(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),0<n.length){e=n[0].bitrate,n.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=n;for(var u=0;u<n.length;u++)if(n[u].bitrate===e){this._firstLevel=u,N.b.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}var l=o&&!s;this.hls.trigger(O.a.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:t.stats,audio:o,video:s,altAudio:!l&&r.some(function(t){return!!t.url})})}else this.hls.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},a.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(0<=t&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){N.b.log("switching to level "+t);var r=e[this.currentLevelIndex=t];r.level=t,n.trigger(O.a.LEVEL_SWITCHING,r)}var a=e[t],i=a.details;if(!i||i.live){var s=a.urlId;n.trigger(O.a.LEVEL_LOADING,{url:a.url[s],level:t,id:s})}}else n.trigger(O.a.ERROR,{type:v.b.OTHER_ERROR,details:v.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},a.onError=function(t){if(t.fatal)t.type===v.b.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,r=!1;switch(t.details){case v.a.FRAG_LOAD_ERROR:case v.a.FRAG_LOAD_TIMEOUT:case v.a.KEY_LOAD_ERROR:case v.a.KEY_LOAD_TIMEOUT:e=t.frag.level,r=!0;break;case v.a.LEVEL_LOAD_ERROR:case v.a.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case v.a.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,r)}},a.recoverLevel=function(t,e,n,r){var a,i,s,o=this,u=this.hls.config,l=t.details,c=this._levels[e];if(c.loadError++,c.fragmentError=r,n){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return N.b.error("level controller, cannot recover from "+l+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return o.loadLevel()},i),t.levelRetry=!0,this.levelRetryCount++,N.b.warn("level controller, "+l+", retry in "+i+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&(1<(a=c.url.length)&&c.loadError<a?(c.urlId=(c.urlId+1)%a,c.details=void 0,N.b.warn("level controller, "+l+" for level "+e+": switching to redundant URL-id "+c.urlId)):-1===this.manualLevelIndex?(s=0===e?this._levels.length-1:e-1,N.b.warn("level controller, "+l+": switch to "+s),this.hls.nextAutoLevel=this.currentLevelIndex=s):r&&(N.b.warn("level controller, "+l+": reload a fragment"),this.currentLevelIndex=null))},a.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},a.onLevelLoaded=function(t){var e=this,n=t.level,r=t.details;if(n===this.currentLevelIndex){var a=this._levels[n];if(a.fragmentError||(a.loadError=0,this.levelRetryCount=0),r.live){var i=At(a.details,r,t.stats.trequest);N.b.log("live playlist, reload in "+Math.round(i)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},i)}else this.clearTimer()}},a.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,a=0;a<n.audioGroupIds.length;a++)if(n.audioGroupIds[a]===e){r=a;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},a.loadLevel=function(){if(N.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&0<t.url.length){var e=this.currentLevelIndex,n=t.urlId,r=t.url[n];N.b.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(O.a.LEVEL_LOADING,{url:r,level:e,id:n})}}},a.removeLevel=function(n,r){var t=this.levels.filter(function(t,e){return e!==n||1<t.url.length&&void 0!==r&&(t.url=t.url.filter(function(t,e){return e!==r}),!(t.urlId=0))}).map(function(t,e){var n=t.details;return n&&n.fragments&&n.fragments.forEach(function(t){t.level=e}),t});this._levels=t,this.hls.trigger(O.a.LEVELS_UPDATED,{levels:t})},Yt(r.prototype,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0!==this._startLevel)return this._startLevel;var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),r}(c),Xt=n(4);function Jt(t,e){var n;try{n=new Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function Qt(t){if(null!=t&&t.cues)for(;0<t.cues.length;)t.removeCue(t.cues[0])}var Zt,$t,te=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.FRAG_PARSING_METADATA,O.a.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,e.media=void 0,e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.destroy=function(){c.prototype.destroy.call(this)},a.onMediaAttached=function(t){this.media=t.media,this.media},a.onMediaDetaching=function(){Qt(this.id3Track),this.id3Track=void 0,this.media=void 0},a.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return Jt(n,this.media),n}return this.media.addTextTrack("metadata","id3")},a.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,a=0;a<n.length;a++){var i=Xt.a.getID3Frames(n[a].data);if(i){var s=Math.max(n[a].pts,0),o=a<n.length-1?n[a+1].pts:e.endPTS;(o=o||e.start+e.duration)-s<=0&&(o=s+.25);for(var u=0;u<i.length;u++){var l=i[u];if(!Xt.a.isTimeStampFrame(l)){var c=new r(s,o,"");c.value=l,this.id3Track.addCue(c)}}}}},a.onLiveBackBufferReached=function(t){var e=t.bufferEnd,n=this.id3Track;if(n&&n.cues&&n.cues.length){var r=function(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];for(var n=0,r=t.length-1;n<=r;){var a=Math.floor((r+n)/2);if(e<t[a].endTime)r=a-1;else{if(!(e>t[a].endTime))return t[a];n=a+1}}return t[n].endTime-e<e-t[r].endTime?t[n]:t[r]}(n.cues,e);if(r)for(;n.cues[0]!==r;)n.removeCue(n.cues[0])}},r}(c),ee=(($t=ae.prototype).sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},$t.getTotalWeight=function(){return this.totalWeight_},$t.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},ae),ne=((Zt=re.prototype).sample=function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},Zt.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},Zt.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},Zt.destroy=function(){},re);function re(t,e,n,r){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ee(e),this.fast_=new ee(n)}function ae(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var se=window.performance,oe=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.FRAG_LOADING,O.a.FRAG_LOADED,O.a.FRAG_BUFFERED,O.a.ERROR)||this).lastLoadedFragLevel=0,e._nextAutoLevel=-1,e.hls=t,e.timer=null,e._bwEstimator=null,e.onCheck=e._abandonRulesCheck.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.destroy=function(){this.clearTimer(),c.prototype.destroy.call(this)},a.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,r,a=this.hls,i=a.config,s=e.level;r=a.levels[s].details.live?(n=i.abrEwmaFastLive,i.abrEwmaSlowLive):(n=i.abrEwmaFastVoD,i.abrEwmaSlowVoD),this._bwEstimator=new ne(a,r,n,i.abrEwmaDefaultEstimate)}},a._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var r=n.loader;if(!r||r.stats&&r.stats.aborted)return N.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=r.stats;if(e&&a&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var i=se.now()-a.trequest,s=Math.abs(e.playbackRate);if(i>500*n.duration/s){var o=t.levels,u=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/i),l=o[n.level];if(!l)return;var c=l.realBitrate?Math.max(l.realBitrate,l.bitrate):l.bitrate,d=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*c/8)),p=e.currentTime,f=(d-a.loaded)/u,h=(Z.bufferInfo(e,p,t.config.maxBufferHole).end-p)/s;if(h<2*n.duration/s&&h<f){var m,g=t.minAutoLevel;for(m=n.level-1;g<m;m--){var v=o[m].realBitrate?Math.max(o[m].realBitrate,o[m].bitrate):o[m].bitrate;if(n.duration*v/(6.4*u)<h)break}void 0<f&&(N.b.warn("loading too slow, abort fragment loading and switch to level "+m+":fragLoadedDelay["+m+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+f.toFixed(1)+":"+h.toFixed(1)),t.nextLoadLevel=m,this._bwEstimator.sample(i,a.loaded),r.abort(),this.clearTimer(),t.trigger(O.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},a.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(P.a)(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],r=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,a=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:r,duration:a},n.realBitrate=Math.round(8*r/a)}if(t.frag.bitrateTest){var i=t.stats;i.tparsed=i.tbuffered=i.tload,this.onFragBuffered(t)}}},a.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!0!==e.aborted&&"main"===n.type&&Object(P.a)(n.sn)&&(!n.bitrateTest||e.tload===e.tbuffered)){var r=e.tparsed-e.trequest;N.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(r,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},a.onError=function(t){switch(t.details){case v.a.FRAG_LOAD_ERROR:case v.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},a.clearTimer=function(){clearInterval(this.timer),this.timer=null},a._findBestLevel=function(t,e,n,r,a,i,s,o,u){for(var l=a;r<=l;l--){var c=u[l];if(c){var d,p=c.details,f=p?p.totalduration/p.fragments.length:e,h=!!p&&p.live;d=l<=t?s*n:o*n;var m=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,g=m*f/d;if(N.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(d)+"/"+m+"/"+f+"/"+i+"/"+g),m<d&&(!g||h&&!this.bitrateTestDelay||g<i))return l}}return-1},ie(r.prototype,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,r=t.config,a=t.minAutoLevel,i=t.media,s=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,u=i?i.currentTime:0,l=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,d=(Z.bufferInfo(i,u,r.maxBufferHole).end-u)/l,p=this._findBestLevel(s,o,c,a,e,d,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(0<=p)return p;N.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=o?Math.min(o,r.maxStarvationDelay):r.maxStarvationDelay,h=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(0==d){var g=this.bitrateTestDelay;g&&(f=(o?Math.min(o,r.maxLoadingDelay):r.maxLoadingDelay)-g,N.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),h=m=1)}return p=this._findBestLevel(s,o,c,a,e,d+f,h,m,n),Math.max(p,0)}}]),r}(c),ue=rt(),le=function(e){var t,n;function r(t){var o;return(o=e.call(this,t,O.a.MEDIA_ATTACHING,O.a.MEDIA_DETACHING,O.a.MANIFEST_PARSED,O.a.BUFFER_RESET,O.a.BUFFER_APPENDING,O.a.BUFFER_CODECS,O.a.BUFFER_EOS,O.a.BUFFER_FLUSHING,O.a.LEVEL_PTS_UPDATED,O.a.LEVEL_UPDATED)||this)._msDuration=null,o._levelDuration=null,o._levelTargetDuration=10,o._live=null,o._objectUrl=null,o._needsFlush=!1,o._needsEos=!1,o.config=void 0,o.audioTimestampOffset=void 0,o.bufferCodecEventsExpected=0,o._bufferCodecEventsTotal=0,o.media=null,o.mediaSource=null,o.segments=[],o.parent=void 0,o.appending=!1,o.appended=0,o.appendError=0,o.flushBufferCounter=0,o.tracks={},o.pendingTracks={},o.sourceBuffer={},o.flushRange=[],o._onMediaSourceOpen=function(){N.b.log("media source opened"),o.hls.trigger(O.a.MEDIA_ATTACHED,{media:o.media});var t=o.mediaSource;t&&t.removeEventListener("sourceopen",o._onMediaSourceOpen),o.checkPendingTracks()},o._onMediaSourceClose=function(){N.b.log("media source closed")},o._onMediaSourceEnded=function(){N.b.log("media source ended")},o._onSBUpdateEnd=function(){if(o.audioTimestampOffset&&o.sourceBuffer.audio){var t=o.sourceBuffer.audio;N.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+o.audioTimestampOffset),t.timestampOffset=o.audioTimestampOffset,delete o.audioTimestampOffset}o._needsFlush&&o.doFlush(),o._needsEos&&o.checkEos(),o.appending=!1;var n=o.parent,e=o.segments.reduce(function(t,e){return e.parent===n?t+1:t},0),r={},a=o.sourceBuffer;for(var i in a){var s=a[i];if(!s)throw Error("handling source buffer update end error: source buffer for "+i+" uninitilized and unable to update buffered TimeRanges.");r[i]=s.buffered}o.hls.trigger(O.a.BUFFER_APPENDED,{parent:n,pending:e,timeRanges:r}),o._needsFlush||o.doAppending(),o.updateMediaElementDuration(),0===e&&o.flushLiveBackBuffer()},o._onSBUpdateError=function(t){N.b.error("sourceBuffer error:",t),o.hls.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.BUFFER_APPENDING_ERROR,fatal:!1})},o.config=t.config,o}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var a=r.prototype;return a.destroy=function(){c.prototype.destroy.call(this)},a.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(!r)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(.1<Math.abs(r.timestampOffset-t.start)){var a=r.updating;try{r.abort()}catch(t){N.b.warn("can not abort audio buffer: "+t)}a?this.audioTimestampOffset=t.start:(N.b.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+t.start),r.timestampOffset=t.start)}}},a.onManifestParsed=function(t){var e=2;(!t.audio||t.video)&&t.altAudio||(e=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e,N.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},a.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&ue){var n=this.mediaSource=new ue;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},a.onMediaDetaching=function(){N.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){N.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):N.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(O.a.MEDIA_DETACHED)},a.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},a.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},a.onBufferCodecs=function(e){var n=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach(function(t){n.pendingTracks[t]=e[t]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},a.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var r in t)if(!e[r]){var a=t[r];if(!a)throw Error("source buffer exists for track "+r+", however track does not");var i=a.levelCodec||a.codec,s=a.container+";codecs="+i;N.b.log("creating sourceBuffer("+s+")");try{var o=e[r]=n.addSourceBuffer(s);o.addEventListener("updateend",this._onSBUpdateEnd),o.addEventListener("error",this._onSBUpdateError),this.tracks[r]={buffer:o,codec:i,id:a.id,container:a.container,levelCodec:a.levelCodec}}catch(t){N.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:s})}}this.hls.trigger(O.a.BUFFER_CREATED,{tracks:this.tracks})},a.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},a.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var n=this.sourceBuffer[e];n&&!n.ended&&(n.ended=!0,N.b.log(e+" sourceBuffer now EOS"))}this.checkEos()},a.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var r=t[n];if(r){if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}}N.b.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){N.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},a.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},a.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),a=e-Math.max(t,this._levelTargetDuration),i=r.length-1;0<=i;i--){var s=r[i],o=n[s];if(o){var u=o.buffered;0<u.length&&a>u.start(0)&&this.removeBufferRange(s,o,0,a)&&this.hls.trigger(O.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:a})}}else N.b.error("flushLiveBackBuffer called without attaching media")}},a.onLevelUpdated=function(t){var e=t.details;0<e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},a.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var r=this.sourceBuffer[n];if(r&&!0===r.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(N.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(P.a)(t))&&(N.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},a.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n){var a=n[r];a&&(e+=a.buffered.length)}}catch(t){N.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(O.a.BUFFER_FLUSHED)}},a.doAppending=function(){var t=this.config,e=this.hls,n=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(!this.media||this.media.error)return this.segments=[],void N.b.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var a=n.shift();if(a)try{var i=r[a.type];if(!i)return void this._onSBUpdateEnd();if(i.updating)return void n.unshift(a);i.ended=!1,this.parent=a.parent,i.appendBuffer(a.data),this.appendError=0,this.appended++,this.appending=!0}catch(r){N.b.error("error while trying to append buffer:"+r.message),n.unshift(a);var s={type:v.b.MEDIA_ERROR,parent:a.parent,details:"",fatal:!1};22===r.code?(this.segments=[],s.details=v.a.BUFFER_FULL_ERROR):(this.appendError++,s.details=v.a.BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(N.b.log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0)),e.trigger(O.a.ERROR,s)}}}},a.flushBuffer=function(t,e,n){var r=this.sourceBuffer;if(!Object.keys(r).length)return!0;var a="null";if(this.media&&(a=this.media.currentTime.toFixed(3)),N.b.log("flushBuffer,pos/start/end: "+a+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return N.b.warn("abort flushing too many retries"),!0;var i=r[n];if(i){if(i.ended=!1,i.updating)return N.b.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,i,t,e))return this.flushBufferCounter++,!1}return N.b.log("buffer flushed"),!0},a.removeBufferRange=function(t,e,n,r){try{for(var a=0;a<e.buffered.length;a++){var i=e.buffered.start(a),s=e.buffered.end(a),o=Math.max(i,n),u=Math.min(s,r);if(.5<Math.min(u,s)-o){var l="null";return this.media&&(l=this.media.currentTime.toString()),N.b.log("sb remove "+t+" ["+o+","+u+"], of ["+i+","+s+"], pos:"+l),e.remove(o,u),!0}}}catch(t){N.b.warn("removeBufferRange failed",t)}return!1},r}(c);function ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var de,pe=function(n){var t,e;function a(t){var e;return(e=n.call(this,t,O.a.FPS_DROP_LEVEL_CAPPING,O.a.MEDIA_ATTACHING,O.a.MANIFEST_PARSED,O.a.LEVELS_UPDATED,O.a.BUFFER_CODECS,O.a.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,e.firstLevel=null,e.levels=[],e.media=null,e.restrictedLevels=[],e.timer=null,e.clientRect=null,e}e=n,(t=a).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r,i,s=a.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(t){a.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},s.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},s.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onLevelsUpdated=function(t){this.levels=t.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},s.getMaxLevel=function(n){var r=this;if(!this.levels)return-1;var t=this.levels.filter(function(t,e){return a.isLevelAllowed(e,r.restrictedLevels)&&e<=n});return this.clientRect=null,a.getMaxLevelByMediaSize(t,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e},a.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},a.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var r,a=t.length-1,i=0;i<t.length;i+=1){var s=t[i];if((s.width>=e||s.height>=n)&&(!(r=t[i+1])||s.width!==r.width||s.height!==r.height)){a=i;break}}return a},i=[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}],ce((r=a).prototype,[{key:"mediaWidth",get:function(){return this.getDimensions().width*a.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*a.contentScaleFactor}}]),ce(r,i),a}(c),fe=window.performance,he=function(e){var t,n;function r(t){return e.call(this,t,O.a.MEDIA_ATTACHING)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var a=r.prototype;return a.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},a.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},a.checkFPS=function(t,e,n){var r=fe.now();if(e){if(this.lastTime){var a=r-this.lastTime,i=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,o=1e3*i/a,u=this.hls;if(u.trigger(O.a.FPS_DROP,{currentDropped:i,currentDecoded:s,totalDroppedFrames:n}),0<o&&i>u.config.fpsDroppedMonitoringThreshold*s){var l=u.currentLevel;N.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),0<l&&(-1===u.autoLevelCapping||u.autoLevelCapping>=l)&&(--l,u.trigger(O.a.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:u.currentLevel}),u.autoLevelCapping=l,u.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},a.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},r}(c),me=((de=ge.prototype).destroy=function(){this.abort(),this.loader=null},de.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},de.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},de.loadInternal=function(){var t,e=this.context;t=this.loader=new window.XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(t,e.url)}catch(n){t.open("GET",e.url,!0),r(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},de.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,a=this.context,i=this.config;if(!r.aborted&&2<=n)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(window.performance.now(),r.trequest)),4===n){var s=e.status;if(200<=s&&s<300){var o,u;r.tload=Math.max(r.tfirst,window.performance.now()),u="arraybuffer"===a.responseType?(o=e.response).byteLength:(o=e.responseText).length,r.loaded=r.total=u;var l={url:e.responseURL,data:o};this.callbacks.onSuccess(l,r,a,e)}else r.retry>=i.maxRetry||400<=s&&s<499?(N.b.error(s+" while loading "+a.url),this.callbacks.onError({code:s,text:e.statusText},a,e)):(N.b.warn(s+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),i.timeout)},de.loadtimeout=function(){N.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},de.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,e)},ge);function ge(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ye=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.MANIFEST_LOADING,O.a.MANIFEST_PARSED,O.a.AUDIO_TRACK_LOADED,O.a.AUDIO_TRACK_SWITCHED,O.a.LEVEL_LOADED,O.a.ERROR)||this)._trackId=-1,e._selectDefaultTrack=!0,e.tracks=[],e.trackIdBlacklist=Object.create(null),e.audioGroupId=null,e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},a.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(O.a.AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},a.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)N.b.warn("Invalid audio track id:",t.id);else{if(N.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},a.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},a.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},a.onError=function(t){t.type===v.b.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===v.a.AUDIO_TRACK_LOAD_ERROR&&(N.b.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},a._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)N.b.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)N.b.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];N.b.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,r=e.type,a=e.id;this.hls.trigger(O.a.AUDIO_TRACK_SWITCHING,{id:a,type:r,url:n}),this._loadTrackDetailsIfNeeded(e)}},a.doTick=function(){this._updateTrack(this._trackId)},a._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},a._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var a=t.filter(function(t){return t.default});a.length?t=a:N.b.warn("No default audio tracks defined")}var i=!1,s=function(){t.forEach(function(t){i||e.audioGroupId&&t.groupId!==e.audioGroupId||r&&r!==t.name||(e._setAudioTrack(t.id),i=!0)})};s(),i||(r=null,s()),i||(N.b.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:v.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},a._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live||!n)},a._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;N.b.log("loading audio-track playlist for id: "+n),this.hls.trigger(O.a.AUDIO_TRACK_LOADING,{url:e,id:n})}},a._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,N.b.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},a._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,r=e.language,a=e.groupId;N.b.warn("Loading failed on audio track id: "+t+", group-id: "+a+', name/language: "'+n+'" / "'+r+'"');for(var i=t,s=0;s<this.tracks.length;s++)if(!this.trackIdBlacklist[s]&&this.tracks[s].name===n){i=s;break}i!==t?(N.b.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):N.b.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},ve(r.prototype,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}]),r}(Ct);function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}}var _e=window.performance,we=function(r){var t,e;function n(t,e){var n;return(n=r.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.AUDIO_TRACKS_UPDATED,O.a.AUDIO_TRACK_SWITCHING,O.a.AUDIO_TRACK_LOADED,O.a.KEY_LOADED,O.a.FRAG_LOADED,O.a.FRAG_PARSING_INIT_SEGMENT,O.a.FRAG_PARSING_DATA,O.a.FRAG_PARSED,O.a.ERROR,O.a.BUFFER_RESET,O.a.BUFFER_CREATED,O.a.BUFFER_APPENDED,O.a.BUFFER_FLUSHED,O.a.INIT_PTS_FOUND)||this).fragmentTracker=e,n.config=t.config,n.audioCodecSwap=!1,n._state=Rt,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n.waitingVideoCC=null,n}e=r,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=n.prototype;return a.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,r=t.initPTS;"main"===e&&(this.initPTS[n]=r,this.videoTrackCC=n,N.b.log("InitPTS for cc: "+n+" found from main: "+r),this.state===Gt&&this.tick())},a.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),(this.fragLoadError=0)<e&&-1===t?(N.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Bt):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state="STARTING"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Rt},a.doTick=function(){var t,e,n,r,a,i=this.hls,s=i.config;switch(this.state){case Ut:case"PAUSED":case Ft:break;case"STARTING":this.state=Ot,this.loadedmetadata=!1;break;case Bt:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var u=this.mediaBuffer?this.mediaBuffer:this.media,l=this.videoBuffer?this.videoBuffer:this.media,c=t<s.maxBufferHole?Math.max(2,s.maxBufferHole):s.maxBufferHole,d=Z.bufferInfo(u,t,c),p=Z.bufferInfo(l,t,c),f=d.len,h=d.end,m=this.fragPrevious,g=Math.min(s.maxBufferLength,s.maxMaxBufferLength),v=Math.max(g,p.len),y=this.audioSwitch,b=this.trackId;if((f<v||y)&&b<o.length){if(void 0===(n=o[b].details)){this.state=Ot;break}if(!y&&this._streamEnded(d,n))return this.hls.trigger(O.a.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");var A,_=n.fragments,w=_.length,E=_[0].start,S=_[w-1].start+_[w-1].duration;if(y)if(n.live&&!n.PTSKnown)N.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=t,n.PTSKnown&&t<E){if(!(d.end>E||d.nextStart))return;N.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=E+.05}if(n.initSegment&&!n.initSegment.data)A=n.initSegment;else if(h<=E){if(A=_[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(r=_,a=this.videoTrackCC,A=Q(r,function(t){return t.cc<a?1:t.cc>a?-1:0})),n.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var T=d.nextStart?d.nextStart:E;return N.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(T+.05)),void(this.media.currentTime=T+.05)}}else{var k,D=s.maxFragLookUpTolerance,L=m?_[m.sn-_[0].sn+1]:void 0;(k=h<S?(S-D<h&&(D=0),L&&!kt(h,D,L)?L:Q(_,function(t){return kt(h,D,t)})):_[w-1])&&(E=(A=k).start,m&&A.level===m.level&&A.sn===m.sn&&(A.sn<n.endSN?(A=_[A.sn+1-n.startSN],"OK"!==this.fragmentTracker.getState(A)&&N.b.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(N.b.log("Loading key for "+A.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+b),this.state=jt,i.trigger(O.a.KEY_LOADING,{frag:A})):(this.fragCurrent=A,!y&&this.fragmentTracker.getState(A)!==q||(N.b.log("Loading "+A.sn+", cc: "+A.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+b+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+t+", bufferEnd: "+h.toFixed(3)),"initSegment"!==A.sn&&(this.startFragRequested=!0),Object(P.a)(A.sn)&&(this.nextLoadPosition=A.start+A.duration),i.trigger(O.a.FRAG_LOADING,{frag:A}),this.state=It)))}break;case Ot:(e=this.tracks[this.trackId])&&e.details&&(this.state=Bt);break;case Pt:var x=_e.now(),C=this.retryDate,R=(u=this.media)&&u.seeking;(!C||C<=x||R)&&(N.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Bt);break;case Gt:var B=this.waitingFragment;if(B){var j=B.frag.cc;if(void 0!==this.initPTS[j])this.waitingFragment=null,this.state=It,this.onFragLoaded(B);else if(this.videoTrackCC!==this.waitingVideoCC)N.b.log("Waiting fragment cc ("+j+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var I=Z.bufferInfo(this.mediaBuffer,this.media.currentTime,s.maxBufferHole);kt(I.end,s.maxFragLookUpTolerance,B.frag)<0&&(N.b.log("Waiting fragment cc ("+j+") @ "+B.frag.start+" cancelled because another fragment at "+I.end+" is needed"),this.clearWaitingFragment())}}else this.state=Bt}},a.clearWaitingFragment=function(){var t=this.waitingFragment;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=Bt)},a.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},a.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(N.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},a.onAudioTracksUpdated=function(t){N.b.log("audio tracks updated"),this.tracks=t.audioTracks},a.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state="PAUSED",e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Bt),this.tick()},a.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,r=this.tracks[n],a=r.details,i=e.totalduration,s=0;if(N.b.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+i),e.live||a&&a.live?a&&0<e.fragments.length?(yt(a,e),s=e.fragments[0].start,e.PTSKnown?N.b.log("live audio playlist sliding:"+s.toFixed(3)):N.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,N.b.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,r.details=e,!this.startFragRequested){if(-1===this.startPosition){var o=e.startTimeOffset;Object(P.a)(o)?(N.b.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o):e.live?(this.startPosition=this.computeLivePosition(s,e),N.b.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Ot&&(this.state=Bt),this.tick()},a.onKeyLoaded=function(){this.state===jt&&(this.state=Bt,this.tick())},a.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===It&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var r=this.tracks[this.trackId],a=r.details,i=a.totalduration,s=e.level,o=e.sn,u=e.cc,l=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",c=this.stats=t.stats;if("initSegment"===o)this.state=Bt,c.tparsed=c.tbuffered=_e.now(),a.initSegment.data=t.payload,this.hls.trigger(O.a.FRAG_BUFFERED,{stats:c,frag:e,id:"audio"}),this.tick();else{this.state=Nt,this.appended=!1,this.demuxer||(this.demuxer=new pt(this.hls,"audio"));var d=this.initPTS[u],p=a.initSegment?a.initSegment.data:[];void 0!==d?(this.pendingBuffering=!0,N.b.log("Demuxing "+o+" of ["+a.startSN+" ,"+a.endSN+"],track "+s),this.demuxer.push(t.payload,p,l,null,e,i,!1,d)):(N.b.log("Unknown video PTS for cc "+u+", waiting for video PTS before demuxing audio frag "+o+" of ["+a.startSN+" ,"+a.endSN+"],track "+s),this.waitingFragment=t,this.waitingVideoCC=this.videoTrackCC,this.state=Gt)}}this.fragLoadError=0},a.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===Nt){var r,a=t.tracks;if(a.video&&delete a.video,r=a.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(O.a.BUFFER_CODECS,a),N.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var i=r.initSegment;if(i){var s={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(O.a.BUFFER_APPENDING,s))}this.tick()}}},a.onFragParsingData=function(e){var n=this,t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&"audio"===e.type&&r.sn===t.sn&&r.level===t.level&&this.state===Nt){var a=this.trackId,i=this.tracks[a],s=this.hls;Object(P.a)(e.endPTS)||(e.endPTS=e.startPTS+t.duration,e.endDTS=e.startDTS+t.duration),t.addElementaryStream(h.AUDIO),N.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),vt(i.details,t,e.startPTS,e.endPTS);var o=this.media,u=!1;if(this.audioSwitch)if(o&&o.readyState){var l=o.currentTime;N.b.log("switching audio track : currentTime:"+l),l>=e.startPTS&&(N.b.log("switching audio track : flushing all audio"),this.state=Ft,s.trigger(O.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u=!0,this.audioSwitch=!1,s.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,s.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:a});var c=this.pendingData;if(!c)return N.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(O.a.ERROR,{type:v.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&c.push({type:e.type,data:t,parent:"audio",content:"data"})}),!u&&c.length&&(c.forEach(function(t){n.state===Nt&&(n.pendingBuffering=!0,n.hls.trigger(O.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},a.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===Nt&&(this.stats.tparsed=_e.now(),this.state=Mt,this._checkAppendedParsed())},a.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},a.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},a.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Nt&&e!==Mt||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed())}},a._checkAppendedParsed=function(){if(!(this.state!==Mt||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=_e.now(),n.trigger(O.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;r&&N.b.log("audio buffered : "+_t(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(O.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Bt}this.tick()}},a.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case v.a.FRAG_LOAD_ERROR:case v.a.FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var r=this.fragLoadError;r?r++:r=1;var a=this.config;if(r<=a.fragLoadingMaxRetry){this.fragLoadError=r;var i=Math.min(Math.pow(2,r-1)*a.fragLoadingRetryDelay,a.fragLoadingMaxRetryTimeout);N.b.warn("AudioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=_e.now()+i,this.state=Pt}else N.b.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ut}break;case v.a.AUDIO_TRACK_LOAD_ERROR:case v.a.AUDIO_TRACK_LOAD_TIMEOUT:case v.a.KEY_LOAD_ERROR:case v.a.KEY_LOAD_TIMEOUT:this.state!==Ut&&(this.state=t.fatal?Ut:Bt,N.b.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case v.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Nt||this.state===Mt)){var s=this.mediaBuffer,o=this.media.currentTime;if(s&&Z.isBuffered(s,o)&&Z.isBuffered(s,o+.5)){var u=this.config;u.maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,N.b.warn("AudioStreamController: reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=Bt}else N.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ft,this.hls.trigger(O.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},a.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(N.b.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(O.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=Mt):(this.state=Bt,this.fragPrevious=null,this.tick())},be(n.prototype,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,N.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),n}(Kt),Ee=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var b={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};function A(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}function _(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(t,e,n){var r=this,a={enumerable:!0};r.hasBeenReset=!1;var i="",s=!1,o=t,u=e,l=n,c=null,d="",p=!0,f="auto",h="start",m=50,g="middle",v=50,y="middle";Object.defineProperty(r,"id",_({},a,{get:function(){return i},set:function(t){i=""+t}})),Object.defineProperty(r,"pauseOnExit",_({},a,{get:function(){return s},set:function(t){s=!!t}})),Object.defineProperty(r,"startTime",_({},a,{get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",_({},a,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",_({},a,{get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",_({},a,{get:function(){return c},set:function(t){c=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",_({},a,{get:function(){return d},set:function(t){var e,n="string"==typeof(e=t)&&!!b[e.toLowerCase()]&&e.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");d=n,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",_({},a,{get:function(){return p},set:function(t){p=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",_({},a,{get:function(){return f},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",_({},a,{get:function(){return h},set:function(t){var e=A(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",_({},a,{get:function(){return m},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",_({},a,{get:function(){return g},set:function(t){var e=A(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",_({},a,{get:function(){return v},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",_({},a,{get:function(){return y},set:function(t){var e=A(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),r.displayState=void 0}return t.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},t}();function Se(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Ae,this.regionList=[]}function Te(){this.values=Object.create(null)}function ke(t,e,n,r){var a=r?t.split(r):[t];for(var i in a)if("string"==typeof a[i]){var s=a[i].split(n);2===s.length&&e(s[0],s[1])}}Te.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var De=new Ee(0,0,0),Le="middle"===De.align?"middle":"center";function xe(r,t,s){var a=r;function e(){var t,e=(t=r.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/))?t[3]?n(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?n(t[1],t[2],0,t[4]):n(0,t[1],t[2],t[4]):null;function n(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}if(null===e)throw new Error("Malformed timestamp: "+a);return r=r.replace(/^[^\sa-zA-Z-]+/,""),e}function n(){r=r.replace(/^\s+/,"")}if(n(),t.startTime=e(),n(),"--\x3e"!==r.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);r=r.substr(3),n(),t.endTime=e(),n(),function(t,e){var i=new Te;ke(t,function(t,e){switch(t){case"region":for(var n=s.length-1;0<=n;n--)if(s[n].id===e){i.set(t,s[n].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),a=r[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",Le,"end"]);break;case"position":r=e.split(","),i.percent(t,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",Le,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",Le,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var n=i.get("line","auto");"auto"===n&&-1===De.line&&(n=-1),e.line=n,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",Le);var r=i.get("position","auto");"auto"===r&&50===De.position&&(r="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=r}(r,t)}function Ce(t){return t.replace(/<br(?: \/)?>/gi,"\n")}Se.prototype={parse:function(t){var r=this;function e(){var t=r.buffer,e=0;for(t=Ce(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var a=(n=e()).match(/^(﻿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var i=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(i?i=!1:n=e(),r.state){case"HEADER":/:/.test(n)?ke(n,function(t,e){},/:/):n||(r.state="ID");continue;case"NOTE":n||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){r.state="NOTE";break}if(!n)continue;if(r.cue=new Ee(0,0,""),r.state="CUE",-1===n.indexOf("--\x3e")){r.cue.id=n;continue}case"CUE":try{xe(n,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(i=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=n;continue;case"BADCUE":n||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var Re=Se;function Be(t,e,n,r){for(var a,i,s,o,u,l=[],c=window.VTTCue||TextTrackCue,d=0;d<r.rows.length;d++)if(s=!0,o=0,u="",!(a=r.rows[d]).isEmpty()){for(var p=0;p<a.chars.length;p++)a.chars[p].uchar.match(/\s/)&&s?o++:(u+=a.chars[p].uchar,s=!1);(a.cueStartTime=e)===n&&(n+=1e-4),i=new c(e,n,Ce(u.trim())),16<=o?o--:o++,navigator.userAgent.match(/Firefox\//)?i.line=d+1:i.line=7<d?d-2:d+1,i.align="left",i.position=Math.max(0,Math.min(100,o/32*100)),l.push(i),t&&t.addCue(i)}return l}function je(t){var e=t;return Oe.hasOwnProperty(t)&&(e=Oe[t]),String.fromCharCode(e)}var Ie,Pe,Oe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ne={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Me={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Fe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ue={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ge=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(Pe=Ie=Ie||{})[Pe.ERROR=0]="ERROR",Pe[Pe.TEXT=1]="TEXT",Pe[Pe.WARNING=2]="WARNING",Pe[Pe.INFO=2]="INFO",Pe[Pe.DEBUG=3]="DEBUG",Pe[Pe.DATA=3]="DATA";function Ve(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e}var Ke,He,ze,We,Ye,qe=(sn.prototype.log=function(t,e){this.verboseLevel>=t&&N.b.log(this.time+" ["+t+"] "+e)},sn),Xe=((Ye=an.prototype).reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},Ye.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}},Ye.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},Ye.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},Ye.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},Ye.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},an),Je=((We=rn.prototype).reset=function(){this.uchar=" ",this.penState.reset()},We.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},We.setPenState=function(t){this.penState.copy(t)},We.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},We.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},We.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},rn),Qe=((ze=nn.prototype).equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},ze.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},ze.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},ze.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(Ie.DEBUG,"Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(this.logger.log(Ie.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},ze.moveCursor=function(t){var e=this.pos+t;if(1<t)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},ze.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},ze.insertChar=function(t){144<=t&&this.backSpace();var e=je(t);100<=this.pos?this.logger.log(Ie.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},ze.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},ze.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},ze.clearToEndOfRow=function(){this.clearFromPos(this.pos)},ze.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},ze.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},nn),Ze=((He=en.prototype).reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},He.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},He.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},He.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},He.backSpace=function(){this.rows[this.currRow].backSpace()},He.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},He.insertChar=function(t){this.rows[this.currRow].insertChar(t)},He.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},He.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},He.setCursor=function(t){this.logger.log(Ie.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},He.setPAC=function(t){this.logger.log(Ie.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var i=a.rows[r].cueStartTime,s=this.logger.time;if(i&&null!==s&&i<s)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(a.rows[r+o])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);u.setCursor(t.indent),t.color=u.chars[c].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},He.setBkgData=function(t){this.logger.log(Ie.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},He.setRollUpRows=function(t){this.nrRollUpRows=t},He.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(Ie.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(Ie.INFO,"Rolling up")}else this.logger.log(Ie.DEBUG,"roll_up but nrRollUpRows not set yet")},He.getDisplayText=function(t){t=t||!1;for(var e=[],n="",r=-1,a=0;a<15;a++){var i=this.rows[a].getTextString();i&&(r=a+1,t?e.push("Row "+r+": '"+i+"'"):e.push(i.trim()))}return 0<e.length&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},He.getTextAndFormat=function(){return this.rows},en),$e=((Ke=tn.prototype).reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},Ke.getHandler=function(){return this.outputFilter},Ke.setHandler=function(t){this.outputFilter=t},Ke.setPAC=function(t){this.writeScreen.setPAC(t)},Ke.setBkgData=function(t){this.writeScreen.setBkgData(t)},Ke.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(Ie.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},Ke.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Ie.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(Ie.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},Ke.ccRCL=function(){this.logger.log(Ie.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},Ke.ccBS=function(){this.logger.log(Ie.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},Ke.ccAOF=function(){},Ke.ccAON=function(){},Ke.ccDER=function(){this.logger.log(Ie.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},Ke.ccRU=function(t){this.logger.log(Ie.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},Ke.ccFON=function(){this.logger.log(Ie.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},Ke.ccRDC=function(){this.logger.log(Ie.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},Ke.ccTR=function(){this.logger.log(Ie.INFO,"TR"),this.setMode("MODE_TEXT")},Ke.ccRTD=function(){this.logger.log(Ie.INFO,"RTD"),this.setMode("MODE_TEXT")},Ke.ccEDM=function(){this.logger.log(Ie.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},Ke.ccCR=function(){this.logger.log(Ie.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},Ke.ccENM=function(){this.logger.log(Ie.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},Ke.ccEOC=function(){if(this.logger.log(Ie.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Ie.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},Ke.ccTO=function(t){this.logger.log(Ie.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},Ke.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=46<=t,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(Ie.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},Ke.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},Ke.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},tn);function tn(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ze(n),this.nonDisplayedMemory=new Ze(n),this.lastOutputScreen=new Ze(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}function en(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<15;e++)this.rows.push(new Qe(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}function nn(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<100;e++)this.chars.push(new Je);this.logger=t,this.pos=0,this.currPenState=new Xe}function rn(t,e,n,r,a,i){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new Xe(e,n,r,a,i)}function an(t,e,n,r,a){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=a||!1}function sn(){this.time=null,this.verboseLevel=Ie.ERROR}function on(t,e,n){n.a=t,n.b=e}function un(t,e,n){return n.a===t&&n.b===e}function ln(t,e,n){return t.substr(n||0,e.length)===e}function cn(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()}var dn,pn,fn=((pn=vn.prototype).getHandler=function(t){return this.channels[t].getHandler()},pn.setHandler=function(t,e){this.channels[t].setHandler(e)},pn.addData=function(t,e){var n,r,a,i=!1;this.logger.time=t;for(var s=0;s<e.length;s+=2)if(r=127&e[s],a=127&e[s+1],0!=r||0!=a){if(this.logger.log(Ie.DATA,"["+Ve([e[s],e[s+1]])+"] -> ("+Ve([r,a])+")"),(n=this.parseCmd(r,a))||(n=this.parseMidrow(r,a)),!(n=(n=n||this.parsePAC(r,a))||this.parseBackgroundAttributes(r,a))&&(i=this.parseChars(r,a))){var o=this.currentChannel;o&&0<o?this.channels[o].insertChars(i):this.logger.log(Ie.WARNING,"No channel found yet. TEXT-MODE?")}n||i||this.logger.log(Ie.WARNING,"Couldn't parse cleaned data "+Ve([r,a])+" orig: "+Ve([e[s],e[s+1]]))}},pn.parseCmd=function(t,e){var n=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&32<=e&&e<=47||(23===t||31===t)&&33<=e&&e<=35))return!1;if(un(t,e,n))return on(null,null,n),this.logger.log(Ie.DEBUG,"Repeated command ("+Ve([t,e])+") is dropped"),!0;var r=20===t||21===t||23===t?1:2,a=this.channels[r];return 20===t||21===t||28===t||29===t?32===e?a.ccRCL():33===e?a.ccBS():34===e?a.ccAOF():35===e?a.ccAON():36===e?a.ccDER():37===e?a.ccRU(2):38===e?a.ccRU(3):39===e?a.ccRU(4):40===e?a.ccFON():41===e?a.ccRDC():42===e?a.ccTR():43===e?a.ccRTD():44===e?a.ccEDM():45===e?a.ccCR():46===e?a.ccENM():47===e&&a.ccEOC():a.ccTO(e-32),on(t,e,n),this.currentChannel=r,!0},pn.parseMidrow=function(t,e){var n=0;if((17===t||25===t)&&32<=e&&e<=47){if((n=17===t?1:2)!==this.currentChannel)return this.logger.log(Ie.ERROR,"Mismatch channel in midrow parsing"),!1;var r=this.channels[n];return!!r&&(r.ccMIDROW(e),this.logger.log(Ie.DEBUG,"MIDROW ("+Ve([t,e])+")"),!0)}return!1},pn.parsePAC=function(t,e){var n,r=this.cmdHistory;if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127||(16===t||24===t)&&64<=e&&e<=95))return!1;if(un(t,e,r))return on(null,null,r),!0;var a=t<=23?1:2;n=64<=e&&e<=95?1==a?Ne[t]:Fe[t]:1==a?Me[t]:Ue[t];var i=this.channels[a];return!!i&&(i.setPAC(this.interpretPAC(n,e)),on(t,e,r),this.currentChannel=a,!0)},pn.interpretPAC=function(t,e){var n,r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=95<e?e-96:e-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},pn.parseChars=function(t,e){var n,r,a=null,i=null;17<=(i=25<=t?(n=2,t-8):(n=1,t))&&i<=19?(r=17===i?e+80:18===i?e+112:e+144,this.logger.log(Ie.INFO,"Special char '"+je(r)+"' in channel "+n),a=[r]):32<=t&&t<=127&&(a=0===e?[t]:[t,e]);if(a){var s=Ve(a);this.logger.log(Ie.DEBUG,"Char codes =  "+s.join(",")),on(t,e,this.cmdHistory)}return a},pn.parseBackgroundAttributes=function(t,e){var n;if(!((16===t||24===t)&&32<=e&&e<=47||(23===t||31===t)&&45<=e&&e<=47))return!1;var r={};16===t||24===t?(n=Math.floor((e-32)/2),r.background=Ge[n],e%2==1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0));var a=t<=23?1:2;return this.channels[a].setBkgData(r),on(t,e,this.cmdHistory),!0},pn.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},pn.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}},vn),hn=((dn=gn.prototype).dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},dn.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},dn.reset=function(){this.cueRanges=[]},gn),mn=function(t,e,r,a,n,i){var s,o=Object(Xt.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),u="00:00.000",l=0,c=0,d=0,p=[],f=!0,h=!1,m=new Re;m.oncue=function(t){var e=r[a],n=r.ccOffset;e&&e.new&&(void 0!==c?n=r.ccOffset=e.start:function(t,e){var n=t[a],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,n.new=!1;for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,r=t[(n=r).prevCC];t.presentationOffset=e}(r,d)),d&&(n=d-r.presentationOffset),h&&(t.startTime+=n-c,t.endTime+=n-c),t.id=cn(t.startTime.toString())+cn(t.endTime.toString())+cn(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),0<t.endTime&&p.push(t)},m.onparsingerror=function(t){s=t},m.onflush=function(){s&&i?i(s):n(p)},o.forEach(function(t){if(f){if(ln(t,"X-TIMESTAMP-MAP=")){h=!(f=!1),t.substr(16).split(",").forEach(function(t){ln(t,"LOCAL:")?u=t.substr(6):ln(t,"MPEGTS:")&&(l=parseInt(t.substr(7)))});try{e+(9e4*r[a].start||0)<0&&(e+=8589934592),l-=e,c=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),r=parseInt(t.substr(-9,2)),a=9<t.length?parseInt(t.substr(0,t.indexOf(":"))):0;if(!(Object(P.a)(e)&&Object(P.a)(n)&&Object(P.a)(r)&&Object(P.a)(a)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,(e+=6e4*r)+36e5*a}(u)/1e3,d=l/9e4}catch(t){h=!1,s=t}return}""===t&&(f=!1)}m.parse(t+"\n")}),m.flush()};function gn(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}function vn(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new qe;this.channels=[null,new $e(t,e,r),new $e(t+1,n,r)],this.cmdHistory={a:null,b:null},this.logger=r}function yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var bn=function(s){var t,e;function n(t){var e;if((e=s.call(this,t,O.a.MEDIA_ATTACHING,O.a.MEDIA_DETACHING,O.a.FRAG_PARSING_USERDATA,O.a.FRAG_DECRYPTED,O.a.MANIFEST_LOADING,O.a.MANIFEST_LOADED,O.a.FRAG_LOADED,O.a.INIT_PTS_FOUND)||this).media=null,e.config=void 0,e.enabled=!0,e.Cues=void 0,e.textTracks=[],e.tracks=[],e.initPTS=[],e.unparsedVttFrags=[],e.captionsTracks={},e.nonNativeCaptionsTracks={},e.captionsProperties=void 0,e.cea608Parser1=void 0,e.cea608Parser2=void 0,e.lastSn=-1,e.prevCC=-1,e.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},e.hls=t,e.config=t.config,e.Cues=t.config.cueHandler,e.captionsProperties={textTrack1:{label:e.config.captionsTextTrack1Label,languageCode:e.config.captionsTextTrack1LanguageCode},textTrack2:{label:e.config.captionsTextTrack2Label,languageCode:e.config.captionsTextTrack2LanguageCode},textTrack3:{label:e.config.captionsTextTrack3Label,languageCode:e.config.captionsTextTrack3LanguageCode},textTrack4:{label:e.config.captionsTextTrack4Label,languageCode:e.config.captionsTextTrack4LanguageCode}},e.config.enableCEA708Captions){var n=new hn(yn(e),"textTrack1"),r=new hn(yn(e),"textTrack2"),a=new hn(yn(e),"textTrack3"),i=new hn(yn(e),"textTrack4");e.cea608Parser1=new fn(1,n,r),e.cea608Parser2=new fn(3,a,i)}return e}e=s,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.addCues=function(t,e,n,r,a){for(var i,s,o,u=!1,l=a.length;l--;){var c=a[l],d=(i=c[0],s=c[1],o=e,Math.min(s,n)-Math.max(i,o));if(0<=d&&(c[0]=Math.min(c[0],e),c[1]=Math.max(c[1],n),u=!0,.5<d/(n-e)))return}if(u||a.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[t],e,n,r);else{var p=this.Cues.newCue(null,e,n,r);this.hls.trigger(O.a.CUES_PARSED,{type:"captions",cues:p,track:t})}},r.onInitPtsFound=function(t){var e=this,n=t.frag,r=t.id,a=t.initPTS,i=this.unparsedVttFrags;"main"===r&&(this.initPTS[n.cc]=a),i.length&&(this.unparsedVttFrags=[],i.forEach(function(t){e.onFragLoaded(t)}))},r.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(r[t])return r}return null},r.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},r.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,n=this.captionsTracks,r=this.media,a=e[t],i=a.label,s=a.languageCode,o=this.getExistingTrack(t);if(o)n[t]=o,Qt(n[t]),Jt(n[t],r);else{var u=this.createTextTrack("captions",i,s);u&&(u[t]=!0,n[t]=u)}}},r.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(O.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},r.createTextTrack=function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)},r.destroy=function(){s.prototype.destroy.call(this)},r.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},r.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){Qt(e[t]),delete e[t]}),this.nonNativeCaptionsTracks={}},r.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},r._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)Qt(e[n])}},r.onManifestLoaded=function(t){var o=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var e=t.subtitles||[],n=this.tracks&&e&&this.tracks.length===e.length;if(this.tracks=t.subtitles||[],this.config.renderTextTracksNatively){var u=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,e){var n,r,a;if(e<u.length){for(var i=null,s=0;s<u.length;s++)if(r=u[s],a=t,r&&r.label===a.name&&!r.textTrack1&&!r.textTrack2){i=u[s];break}i&&(n=i)}n=n||o.createTextTrack("subtitles",t.name,t.lang),t.default?n.mode=o.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",o.textTracks.push(n)})}else if(!n&&this.tracks&&this.tracks.length){var r=this.tracks.map(function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}});this.hls.trigger(O.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:r})}}this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var n="textTrack"+e[1],r=o.captionsProperties[n];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}})},r.onFragLoaded=function(t){var e=t.frag,n=t.payload,r=this.cea608Parser1,a=this.cea608Parser2,i=this.initPTS,s=this.lastSn,o=this.unparsedVttFrags;if("main"===e.type){var u=e.sn;e.sn!==s+1&&r&&a&&(r.reset(),a.reset()),this.lastSn=u}else if("subtitle"===e.type)if(n.byteLength){if(!Object(P.a)(i[e.cc]))return o.push(t),void(i.length&&this.hls.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var l=e.decryptdata;null!=l&&null!=l.key&&"AES-128"===l.method||this._parseVTTs(e,n)}else this.hls.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},r._parseVTTs=function(n,t){var a=this,i=this.hls,e=this.prevCC,s=this.textTracks,r=this.vttCCs;r[n.cc]||(r[n.cc]={start:n.start,prevCC:e,new:!0},this.prevCC=n.cc),mn(t,this.initPTS[n.cc],r,n.cc,function(t){if(a.config.renderTextTracksNatively){var r=s[n.level];if("disabled"===r.mode)return void i.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n});t.forEach(function(e){if(!r.cues.getCueById(e.id))try{if(r.addCue(e),!r.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(t){N.b.debug("Failed occurred on adding cues: "+t);var n=new window.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,r.addCue(n)}})}else{var e=a.tracks[n.level].default?"default":"subtitles"+n.level;i.trigger(O.a.CUES_PARSED,{type:"subtitles",cues:t,track:e})}i.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},function(t){N.b.log("Failed to parse VTT cue: "+t),i.trigger(O.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n})})},r.onFragDecrypted=function(t){var e=t.frag,n=t.payload;if("subtitle"===e.type){if(!Object(P.a)(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,n)}},r.onFragParsingUserdata=function(t){var e=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&e&&n)for(var r=0;r<t.samples.length;r++){var a=t.samples[r].bytes;if(a){var i=this.extractCea608Data(a);e.addData(t.samples[r].pts,i[0]),n.addData(t.samples[r].pts,i[1])}}},r.extractCea608Data=function(t){for(var e=31&t[0],n=2,r=[[],[]],a=0;a<e;a++){var i=t[n++],s=127&t[n++],o=127&t[n++],u=3&i;0==s&&0==o||0!=(4&i)&&(0!=u&&1!=u||(r[u].push(s),r[u].push(o)))}return r},n}(c);function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _n(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"subtitles"===r.kind&&r.label&&e.push(t[n])}return e}var wn,En,Sn=function(n){var t,e;function r(t){var e;return(e=n.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.MANIFEST_LOADED,O.a.SUBTITLE_TRACK_LOADED)||this).tracks=[],e.trackId=-1,e.media=null,e.stopped=!0,e.subtitleDisplay=!0,e.queuedDefaultTrack=null,e}e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=r.prototype;return a.destroy=function(){c.prototype.destroy.call(this)},a.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(P.a)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},a.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(P.a)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),_n(this.media.textTracks).forEach(function(t){Qt(t)}),this.subtitleTrack=-1,this.media=null)},a.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(O.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},a.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,r=t.details,a=this.trackId,i=this.tracks,s=i[a];if(n>=i.length||n!==a||!s||this.stopped)this._clearReloadTimer();else if(N.b.log("subtitle track "+n+" loaded"),r.live){var o=At(s.details,r,t.stats.trequest);N.b.log("Reloading live subtitle playlist in "+o+"ms"),this.timer=setTimeout(function(){e._loadCurrentTrack()},o)}else this._clearReloadTimer()},a.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},a.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},a._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},a._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,n=this.hls,r=e[t];t<0||!r||r.details&&!r.details.live||(N.b.log("Loading subtitle track "+t),n.trigger(O.a.SUBTITLE_TRACK_LOADING,{url:r.url,id:t}))},a._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,r=this.trackId;if(e){var a=_n(e.textTracks);if(-1===t)[].slice.call(a).forEach(function(t){t.mode="disabled"});else{var i=a[r];i&&(i.mode="disabled")}var s=a[t];s&&(s.mode=n?"showing":"hidden")}},a._setSubtitleTrackInternal=function(t){var e=this.hls,n=this.tracks;!Object(P.a)(t)||t<-1||t>=n.length||(this.trackId=t,N.b.log("Switching to subtitle track "+t),e.trigger(O.a.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},a._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=_n(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},An(r.prototype,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}]),r}(c),Tn=n(7),kn=window.performance,Dn=function(r){var t,e;function n(t,e){var n;return(n=r.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHING,O.a.ERROR,O.a.KEY_LOADED,O.a.FRAG_LOADED,O.a.SUBTITLE_TRACKS_UPDATED,O.a.SUBTITLE_TRACK_SWITCH,O.a.SUBTITLE_TRACK_LOADED,O.a.SUBTITLE_FRAG_PROCESSED,O.a.LEVEL_UPDATED)||this).fragmentTracker=e,n.config=t.config,n.state=Rt,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new Tn.a(t,t.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}e=r,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var a=n.prototype;return a.startLoad=function(){this.stopLoad(),this.state=Bt;var t=this.tracks[this.currentTrackId];t&&t.details&&(this.setInterval(500),this.tick())},a.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=Bt,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var a,i=e.start,s=0;s<r.length;s++)if(i>=r[s].start&&i<=r[s].end){a=r[s];break}var o=e.start+e.duration;a?a.end=o:(a={start:i,end:o},r.push(a))}}},a.onMediaAttached=function(t){var e=t.media;(this.media=e).addEventListener("seeking",this._onMediaSeeking),this.state=Bt},a.onMediaDetaching=function(){var e=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]}),this.media=null,this.state=Rt)},a.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=Bt)},a.onSubtitleTracksUpdated=function(t){var e=this;N.b.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]})},a.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},a.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,r=this.currentTrackId,a=this.tracks,i=a[r];e>=a.length||e!==r||!i||(n.live&&function(t,e,n){void 0===n&&(n=0);var r=-1;bt(t,e,function(t,e,n){e.start=t.start,r=n});var a=e.fragments;if(r<0)a.forEach(function(t){t.start+=n});else for(var i=r+1;i<a.length;i++)a[i].start=a[i-1].start+a[i-1].duration}(i.details,n,this.lastAVStart),i.details=n,this.setInterval(500))},a.onKeyLoaded=function(){this.state===jt&&(this.state=Bt)},a.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,r=t.frag,a=this.hls;if(this.state===It&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&0<t.payload.byteLength&&n&&n.key&&"AES-128"===n.method){var i=kn.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,function(t){var e=kn.now();a.trigger(O.a.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:i,tdecrypt:e}})})}},a.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},a.doTick=function(){if(this.media)switch(this.state){case Bt:var t=this.config,e=this.currentTrackId,n=this.fragmentTracker,r=this.media,a=this.tracks;if(!a||!a[e]||!a[e].details)break;var i,s=t.maxBufferHole,o=t.maxFragLookUpTolerance,u=Math.min(t.maxBufferLength,t.maxMaxBufferLength),l=Z.bufferedInfo(this._getBuffered(),r.currentTime,s),c=l.end,d=l.len,p=a[e].details,f=p.fragments,h=f.length,m=f[h-1].start+f[h-1].duration;if(u<d)return;var g=this.fragPrevious;(i=c<m?(g&&p.hasProgramDateTime&&(i=St(f,g.endProgramDateTime,o)),i||Tt(g,f,c,o)):f[h-1])&&i.encrypted?(N.b.log("Loading key for "+i.sn),this.state=jt,this.hls.trigger(O.a.KEY_LOADING,{frag:i})):i&&n.getState(i)===q&&(this.fragCurrent=i,this.state=It,this.hls.trigger(O.a.FRAG_LOADING,{frag:i}))}else this.state=Bt},a.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,r.prototype.stopLoad.call(this)},a._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},a.onMediaSeeking=function(){if(this.fragCurrent){var t=this.media?this.media.currentTime:0,e=this.config.maxFragLookUpTolerance,n=this.fragCurrent.start-e,r=this.fragCurrent.start+this.fragCurrent.duration+e;(t<n||r<t)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=Bt,this.tick())}},n}(Kt);(En=wn=wn||{}).WIDEVINE="com.widevine.alpha",En.PLAYREADY="com.microsoft.playready";var Ln="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cn=function(e){var t,n;function r(t){var n;return(n=e.call(this,t,O.a.MEDIA_ATTACHED,O.a.MEDIA_DETACHED,O.a.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(e){if(N.b.log('Media is encrypted using "'+e.initDataType+'" init data type'),!n.mediaKeysPromise)return N.b.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void n.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_KEYS,fatal:!0});function t(t){n._media&&(n._attemptSetMediaKeys(t),n._generateRequestWithPreferredKeySession(e.initDataType,e.initData))}n.mediaKeysPromise.then(t).catch(t)},n._config=t.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=t.config.drmSystemOptions,n}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var a=r.prototype;return a.getLicenseServerUrl=function(t){switch(t){case wn.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},a._attemptKeySystemAccess=function(e,t,n){var r=this,a=function(t,e,n,r){switch(t){case wn.WIDEVINE:return a=n,i=r,s={audioCapabilities:[],videoCapabilities:[]},e.forEach(function(t){s.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:i.audioRobustness||""})}),a.forEach(function(t){s.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:i.videoRobustness||""})}),[s];default:throw new Error("Unknown key-system: "+t)}var a,i,s}(e,t,n,this._drmSystemOptions);N.b.log("Requesting encrypted media key-system access");var i=this.requestMediaKeySystemAccess(e,a);this.mediaKeysPromise=i.then(function(t){return r._onMediaKeySystemAccessObtained(e,t)}),i.catch(function(t){N.b.error('Failed to obtain key-system "'+e+'" access:',t)})},a._onMediaKeySystemAccessObtained=function(e,t){var n=this;N.b.log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r);var a=Promise.resolve().then(function(){return t.createMediaKeys()}).then(function(t){return r.mediaKeys=t,N.b.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated(),t});return a.catch(function(t){N.b.error("Failed to create media-keys:",t)}),a},a._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},a._onNewMediaKeySession=function(e){var n=this;N.b.log("New key-system session "+e.sessionId),e.addEventListener("message",function(t){n._onKeySessionMessage(e,t.message)},!1)},a._onKeySessionMessage=function(e,t){N.b.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){N.b.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)})},a._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return N.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_KEYS,fatal:!0});N.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},a._generateRequestWithPreferredKeySession=function(t,e){var n=this,r=this._mediaKeysList[0];if(!r)return N.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(r.mediaKeysSessionInitialized)N.b.warn("Key-Session already initialized but requested again");else{var a=r.mediaKeysSession;if(!a)return N.b.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return N.b.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});N.b.log('Generating key-session request for "'+t+'" init data type'),r.mediaKeysSessionInitialized=!0,a.generateRequest(t,e).then(function(){N.b.debug("Key-session generation succeeded")}).catch(function(t){N.b.error("Error generating key-session request:",t),n.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},a._createLicenseXhr=function(t,e,n){var r=new XMLHttpRequest,a=this._licenseXhrSetup;try{if(a)try{a(r,t)}catch(e){r.open("POST",t,!0),a(r,t)}r.readyState||r.open("POST",t,!0)}catch(t){throw new Error("issue setting up KeySystem license XHR "+t)}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,n),r},a._onLicenseRequestReadyStageChange=function(t,e,n,r){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,N.b.log("License request succeeded"),"arraybuffer"!==t.responseType&&N.b.warn("xhr response type was not set to the expected arraybuffer for license request"),r(t.response);else{if(N.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,3<this._requestLicenseFailureCount)return void this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var a=3-this._requestLicenseFailureCount+1;N.b.warn("Retrying license request, "+a+" attempts left"),this._requestLicense(n,r)}}},a._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case wn.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},a._requestLicense=function(t,e){N.b.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return N.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),a=this._createLicenseXhr(r,t,e);N.b.log("Sending license request to URL: "+r);var i=this._generateLicenseRequestChallenge(n,t);a.send(i)}catch(t){N.b.error("Failure requesting DRM license: "+t),this.hls.trigger(O.a.ERROR,{type:v.b.KEY_SYSTEM_ERROR,details:v.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},a.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;(this._media=e).addEventListener("encrypted",this._onMediaEncrypted)}},a.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map(function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch(function(){})})).then(function(){return t.setMediaKeys(null)}).catch(function(){}))},a.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),n=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(wn.WIDEVINE,e,n)}},xn(r.prototype,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),r}(c);function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bn(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(i),!0).forEach(function(t){var e,n,r;e=a,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Rn(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}var jn=Bn(Bn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:me,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:oe,bufferController:le,capLevelController:pe,fpsController:he,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:Ln,testBandwidth:!0},{cueHandler:r,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Dn,subtitleTrackController:Sn,timelineController:bn,audioStreamController:we,audioTrackController:ye,emeController:Cn});function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pn(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?In(Object(i),!0).forEach(function(t){var e,n,r;e=a,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):In(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e,n){return e&&Nn(t.prototype,e),n&&Nn(t,n),t}var Fn=function(A){var t,e;function _(t){var e;void 0===t&&(t={}),(e=A.call(this)||this).config=void 0,e._autoLevelCapping=void 0,e.abrController=void 0,e.capLevelController=void 0,e.levelController=void 0,e.streamController=void 0,e.networkControllers=void 0,e.audioTrackController=void 0,e.subtitleTrackController=void 0,e.emeController=void 0,e.coreComponents=void 0,e.media=null,e.url=null;var n=_.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");e.config=Pn(Pn({},n),t);var r=On(e).config;if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(void 0===r.liveSyncDuration||r.liveMaxLatencyDuration<=r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(N.a)(r.debug),e._autoLevelCapping=-1;var a=e.abrController=new r.abrController(On(e)),i=new r.bufferController(On(e)),s=e.capLevelController=new r.capLevelController(On(e)),o=new r.fpsController(On(e)),u=new z(On(e)),l=new W(On(e)),c=new Y(On(e)),d=new te(On(e)),p=e.levelController=new qt(On(e)),f=new J(On(e)),h=[p,e.streamController=new Wt(On(e),f)],m=r.audioStreamController;m&&h.push(new m(On(e),f)),e.networkControllers=h;var g=[u,l,c,a,i,s,o,d,f];if(m=r.audioTrackController){var v=new m(On(e));e.audioTrackController=v,g.push(v)}if(m=r.subtitleTrackController){var y=new m(On(e));e.subtitleTrackController=y,h.push(y)}if(m=r.emeController){var b=new m(On(e));e.emeController=b,g.push(b)}return(m=r.subtitleStreamController)&&h.push(new m(On(e),f)),(m=r.timelineController)&&g.push(new m(On(e))),e.coreComponents=g,e}e=A,(t=_).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,_.isSupported=function(){return function(){var t=rt();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!r}()},Mn(_,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return O.a}},{key:"ErrorTypes",get:function(){return v.b}},{key:"ErrorDetails",get:function(){return v.a}},{key:"DefaultConfig",get:function(){return _.defaultConfig?_.defaultConfig:jn},set:function(t){_.defaultConfig=t}}]);var n=_.prototype;return n.destroy=function(){N.b.log("destroy"),this.trigger(O.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},n.attachMedia=function(t){N.b.log("attachMedia"),this.media=t,this.trigger(O.a.MEDIA_ATTACHING,{media:t})},n.detachMedia=function(){N.b.log("detachMedia"),this.trigger(O.a.MEDIA_DETACHING),this.media=null},n.loadSource=function(t){t=u.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),N.b.log("loadSource:"+t),this.url=t,this.trigger(O.a.MANIFEST_LOADING,{url:t})},n.startLoad=function(e){void 0===e&&(e=-1),N.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},n.stopLoad=function(){N.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},n.swapAudioCodec=function(){N.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},n.recoverMediaError=function(){N.b.log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},n.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},Mn(_,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){N.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){N.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){N.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){N.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){N.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){N.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++)if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>e)return r;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),_}(lt);Fn.defaultConfig=void 0}],a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/dist/",a(a.s=13).default;function a(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}var n,r},"object"==typeof exports&&"object"==typeof module?module.exports=D1():"function"==typeof define&&define.amd?define([],D1):"object"==typeof exports?exports.Hls=D1():C1.Hls=D1()),window.jumpstart={players:document.getElementsByClassName("jumpstart-js"),info:function(t){return t.metadata},isPlayingVideo:function(t){return!t.video.paused},isPlayingAd:function(t){return"playing"===t.getState("adStatus")},isPlayingVideoOrAd:function(t){return window.jumpstart.isPlayingVideo(t)||window.jumpstart.isPlayingAd(t)},isAdActive:function(t){return t.getState("adsExtStatus")&&t.getState("adStatus")&&"complete"!==t.getState("adStatus")},playVideo:function(t){"ready"===t.getState("playerStatus")?t.video.play():t.once("jumpstart:core-player-ready",function(){this.video.play()}),t.classList.add("jumpstart-video-loading")},pauseVideo:function(t){t.video.pause()},playAd:function(t){!window.jumpstart.isMobileOrTablet()||t.getState("adStatus")||t.dash||t.hls||t.video.load(),t.adDisplayContainerInitialized||(t.adDisplayContainer.initialize(),t.adDisplayContainerInitialized=!0);function e(e){try{if(!e.adsManager)throw new Error("ads manager not found");if(e.metadata&&e.metadata.brightcove&&"FREE"===e.metadata.brightcove.economics)return console.warn("This video has ads disabled (economics:FREE)"),e.track("jumpstart:ext:ads-ad-skipped"),e.video.play();e.adsManager.init(e.video.getBoundingClientRect().width,e.video.getBoundingClientRect().height,window.google.ima.ViewMode.NORMAL),e.adsManager.start()}catch(t){console.error("Cannot play this ad due to the following error",t,". Playing the video instead."),e.track("jumpstart:ext:ads-ad-error",t),e.video.play()}}"ready"!==t.getState("adsExtStatus")?(t.track("jumpstart:core-player-ads-requested"),t.track("jumpstart:ext:ads-ad-loading"),t.classList.add("jumpstart-ad-loading"),t.once("jumpstart:ext:ads-extension-ready",function(){e(this)})):t.getState("adStatus")?"paused"===t.getState("adStatus")&&t.adsManager.resume():(t.track("jumpstart:ext:ads-ad-loading"),t.classList.add("jumpstart-ad-loading"),e(t))},pauseAd:function(t){t.adsManager&&t.adsManager.pause()},stopAd:function(t){if(t.adsManager)try{t.adsManager.stop()}catch(t){console.error("Failed to stop ad:",t)}else console.error("Failed to stop ad: ads manager not found")},playVideoOrAd:function(t){t.getState("adsExtStatus")&&"complete"!==t.getState("adStatus")?window.jumpstart.playAd(t):window.jumpstart.playVideo(t)},pauseVideoOrAd:function(t){t.getState("adsExtStatus")&&"complete"!==t.getState("adStatus")?window.jumpstart.pauseAd(t):window.jumpstart.pauseVideo(t)},muteVideo:function(t){t.video.muted=!0},unmuteVideo:function(t){t.video.muted=!1},muteAd:function(t){if(!t.adsManager)return console.warn("Cannot mute an ad because either the ad plugin is missing, or failed to initialize. Muting the video instead."),void(t.video.muted=!0);t.video.muted=!0,t.adsManager.setVolume(0)},unmuteAd:function(t){if(!t.adsManager)return console.warn("Cannot unmute an ad because either the ad plugin is missing, or failed to initialize. Unmuting the video instead."),void(t.video.muted=!1);t.video.muted=!1,t.adsManager.setVolume(1)},muteVideoOrAd:function(t){t.getState("adsExtStatus")&&"complete"!==t.getState("adStatus")?window.jumpstart.muteAd(t):window.jumpstart.muteVideo(t)},unmuteVideoOrAd:function(t){t.getState("adsExtStatus")&&"complete"!==t.getState("adStatus")?window.jumpstart.unmuteAd(t):window.jumpstart.unmuteVideo(t)},currentTime:function(t,e){return"number"==typeof e&&(t.video.currentTime=e),t.video.currentTime},start:function(t,e,n){window.jumpstart.initializePlayer(t),t.addEventListener("jumpstart:core-player-ready",function(){e(this)}),n&&console.warn("The start method no longer supports an `onerror` callback")},dispose:function(t){t.parentElement.insertBefore(t._originalState,t),t.parentElement.removeChild(t)},displayError:function(t,e){t.errorMessage=document.createElement("div"),t.errorMessage.className="jumpstart-js-error-dialog",t.errorMessage.innerHTML=e,t.appendChild(t.errorMessage),t.classList.add("jumpstart-js-player-error")},displayVideoAvailability:function(t){if(t.metadata&&t.metadata.brightcove&&("INACTIVE"===t.metadata.brightcove.state&&window.jumpstart.displayError(t,"This video is currently unavailable"),t.metadata.brightcove.schedule)){var e=t.metadata.brightcove.schedule.starts_at,n=t.metadata.brightcove.schedule.ends_at;(new Date).getTime()<new Date(e).getTime()&&window.jumpstart.displayError(t,"This video is not yet available"),(new Date).getTime()>new Date(n).getTime()&&window.jumpstart.displayError(t,"This video is no longer available")}},when:function(t,e,n){console.warn("This method will be deprecated. See documentation for details.")},once:function(t,e,n){t.once(e,function(){n(this)})},forAll:function(t){for(var e=0;e<window.jumpstart.players.length;e++)t(window.jumpstart.players[e])},isInViewport:function(t,e,n){e&&"number"==typeof e||(e=0),n&&Array.isArray(n)||(n=[0,0,0,0]);var r=t.getBoundingClientRect();return 0<=r.top+e+Number(n[0])&&r.right-e+Number(n[1])<=window.innerWidth&&r.bottom-e+Number(n[2])<=window.innerHeight&&0<=r.left+e+Number(n[3])},isMobile:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},isMobileOrTablet:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},isIos:function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},canAutoplay:function(){var t=document.createElement("video");t.paused=!0,t.muted=!0,t.setAttribute("muted","muted"),t.playsinline=!0,t.setAttribute("playsinline","playsinline");var e="play"in t&&t.play();e&&e.catch&&e.catch(function(t){});var n=document.createElement("audio");n.paused=!0;var r="play"in n&&n.play();r&&r.catch&&r.catch(function(t){});var a=!t.paused,i=!n.paused,s="none";return a&&!i?s="muted":a&&i&&(s="full"),s},fullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.video.webkitEnterFullScreen()},normalscreen:function(t){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},toggleClosedCaptions:function(t){t.video.textTracks&&t.video.textTracks[0]&&(t.classList.contains("jumpstart-closed-captions-active")?(t.classList.remove("jumpstart-closed-captions-active"),t.controls["closed-captions"].setAttribute("aria-pressed","false"),t.track("jumpstart:ui-closed-captions-hide"),t.closedCaptionsShowing=!1):(t.classList.add("jumpstart-closed-captions-active"),t.controls["closed-captions"].setAttribute("aria-pressed","true"),t.track("jumpstart:ui-closed-captions-show"),t.closedCaptionsShowing=!0))},changeSource:function(t,e,n){t.track("jumpstart:core-source-change-requested"),t.setAttribute("data-video-id",e),t.removeAttribute("data-src"),t.removeAttribute("data-is-live"),t.classList.remove("jumpstart-video-started"),t.classList.remove("jumpstart-video-playing"),t.classList.remove("jumpstart-video-paused"),t.classList.remove("jumpstart-video-live"),t.classList.add("jumpstart-video-changing"),t.poster&&t.poster.removeAttribute("src"),t.video.removeAttribute("poster"),t.adsLoader&&t.adsLoader.contentComplete(),t.adsManager&&t.adsManager.destroy(),delete t.adDuration,delete t.state.adStatus,t.hls&&(t.hls.destroy(),t.hls=!1),t.dash&&(t.dash.reset(),t.dash=!1),t._content_resume_time=null,window.jumpstart.isIos()&&t.video.src&&(t.video.src=null),t.video.querySelector("track")&&(t.video.removeChild(t.video.querySelector("track")),t.closedCaptions=null,t.controls["closed-captions"].style.display="none"),t.textTracksContainer&&(t.removeChild(t.textTracksContainer),t.textTracksContainer=null),t.controls.progress.tracker.style.width=0,t.controls["current-time"].innerHTML="",t.controls.duration.innerHTML="",window.jumpstart.ads(t),window.jumpstart.assignVideoMetadata(t,!0),t.once("jumpstart:core-player-metadata-available",function(){t.classList.remove("jumpstart-video-changing"),n&&n.apply(this)})},requestMidroll:function(t){t.adsLoader&&t.adsLoader.contentComplete(),t.adsManager&&t.adsManager.destroy(),delete t.adDuration,delete t.state.adStatus,t._content_resume_time=t.video.currentTime,window.jumpstart.ads(t),window.jumpstart.playVideoOrAd(t)},selectFlyout:function(t){var e=t.player,n=Number(t.getAttribute("data-index"));e.recsList.index=n,e.emit("scroll",e.recsList),e.classList.add("jumpstart-recs-hidden"),window.jumpstart.changeSource(e,t.getAttribute("data-video-id"),function(){this.classList.remove("jumpstart-recs-hidden"),window.jumpstart.playVideoOrAd(this)}),n===e.recs.length-1?e.classList.contains("jumpstart-player-mobile")?e.recsList.scrollLeft=0:e.recsList.scrollTop=0:e.classList.contains("jumpstart-player-mobile")?e.recsList.scrollLeft=t.nextSibling.offsetLeft:e.recsList.scrollTop=t.nextSibling.offsetTop;var r=t.querySelector("img");e.poster&&r&&(e.poster.setAttribute("src",r.src),e.video.setAttribute("poster",r.src),e.poster.style.opacity=1)},next:function(t){var e=(t.recsList.index?Number(t.recsList.index):0)+1;e%=t.recs.length;var n=t.recsList.querySelector('[data-index="'+e+'"]');window.jumpstart.selectFlyout(n)},previous:function(t){var e=(t.recsList.index?Number(t.recsList.index):0)-1;e=e<0?e=t.recs.length-1:e;var n=t.recsList.querySelector('[data-index="'+e+'"]');window.jumpstart.selectFlyout(n)},openShareWindow:function(t){window.jumpstart.pauseVideoOrAd(t),t.classList.add("jumpstart-sharing-overlay-active"),t.shareContainerCloseBtn.focus()},closeShareWindow:function(t){window.jumpstart.playVideoOrAd(t),t.classList.remove("jumpstart-sharing-overlay-active"),t.controls.share.focus()},trackViewOOF:function(t){return window&&window.document&&window.document.hasFocus()&&(t.historical.consecutiveViewsOOF=0),window&&window.document&&!window.document.hasFocus()&&(t.historical.consecutiveViewsOOF=(t.historical.consecutiveViewsOOF||0)+1),window&&window.document&&window.document.hasFocus()},helpers:{secondsToHms:function(t){return(!t||t&&t<0)&&(t=0),new Date(1e3*t).toISOString().substr(3600<=t?11:14,3600<=t?8:5)},setCookie:function(t,e,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"},getCookie:function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return""},getPercentInView:function(t,e){if(null==e&&(e=!0),window.document.hidden&&e)return 0;var n=t.getBoundingClientRect(),r=n.top,a=window.innerHeight-n.bottom,i=n.height;return r<0&&(i+=r),a<0&&(i+=a),i<0&&(i=0),i/n.height},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})+"-"+(new Date).getTime()},getParameterByName:function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},platformChecker:function(){for(var t={amp:"google amp",fbia:"facebook instant"},e=0;e<Object.keys(t).length;e++)if(window.jumpstart.helpers.getParameterByName(Object.keys(t)[e]))return t[Object.keys(t)[e]];return"own"},getPos:function(t){return[].slice.call(document.querySelectorAll(".jumpstart-js")).indexOf(t)+1},getQueryParam:function(t){var e=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},getVideoShareOwner:function(t){return t.getAttribute("data-shared-from")||""},objectToParams:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e).map(function(t){return"&"+t+"="+(void 0!==e[t]?e[t]:"")});return t?window.encodeURIComponent(n.join("")):n.join("")},createEvent:function(t){var e;return"function"==typeof Event?e=new window.Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),e},getConfig:function(e){if(!e)return{};var n={};return window.jumpstart.accounts.forEach(function(t){t.udfEnum===e&&(n=t)}),n},getAccountName:function(e){if(!e)return null;var n="";return window.jumpstart.accounts.forEach(function(t){t.account===e.toString()&&(n=t.name)}),n},getPassiveIfSupported:function(){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t={passive:!0}}}))}catch(t){}return t}}},window.jumpstart.accounts=[{name:"All Recipes",altName:"ar",adEnum:"ar",udfEnum:"alrcom",account:"1033249144001",config:{site:"allrecipes.com",recs:!1,metaBar:!0,autoplayWithSound:!0}},{name:"All Recipes International",altName:"arinternational",adEnum:"arinternational",udfEnum:"arinternational",account:"5136026552001",config:{site:"allrecipesinternational.com",recs:!1,metaBar:!0}},{name:"Eating Well",altName:"etg",adEnum:"ew",udfEnum:"etg",account:"5118192885001",config:{site:"eatingwell.com",recs:!1}},{name:"Agriculture",altName:"ag",adEnum:"ag",udfEnum:"ag",account:"5972928226001",config:{site:"agriculture.com",recs:!1}},{name:"All People Quilt",altName:"apq",adEnum:"apq",udfEnum:"apq",account:"5972928224001",config:{site:"allpeoplequilt.com",recs:!1}},{name:"Better Homes and Gardens",altName:"Better Homes & Gardens",adEnum:"bhg",udfEnum:"bhg",account:"5857818251001",config:{site:"bhg.com",recs:!0,metaBar:!0}},{name:"Coinage",altName:"coin",adEnum:!1,udfEnum:!1,account:"1543367584",config:{site:"coinage.com"}},{name:"Content Licensing",altName:"contentlicensing",adEnum:!1,udfEnum:!1,account:"6024607169001",config:{site:"Meredith.com"}},{name:"Daily Paws",altName:"dp",adEnum:"dp",udfEnum:"dailypaws",account:"6157254766001",config:{site:"dailypaws.com"}},{name:"Family Circle",altName:"fc",adEnum:"fc",udfEnum:"fc",account:"5972928227001",config:{site:"familycircle.com",recs:!1}},{name:"Fit Pregnancy",altName:"fitpreg",adEnum:"fitpreg",udfEnum:"fpg",account:"5978871888001",config:{site:"fitpregnancy.com",recs:!1}},{name:"Fitness",altName:"fit",adEnum:"fitness",udfEnum:"fitness",account:"5972928228001",config:{site:"fitness.com",recs:!1}},{name:"Living the Country Life",altName:"lcl",adEnum:"lcl",udfEnum:"lcl",account:"5966354465001",config:{site:"livingthecountrylife.com",recs:!1}},{name:"Martha Stewart Living",altName:"msl",adEnum:"mslo",udfEnum:"msl",account:"5985631785001",config:{site:"marthastewart.com",recs:!1,metaBar:!0}},{name:"Martha Stewart Weddings",altName:"marthaweddings",adEnum:"msw",udfEnum:"msw",account:"5966354466001",config:{site:"marthastewartweddings.com",recs:!1}},{name:"Meredith.com",altName:!1,adEnum:!1,udfEnum:!1,account:"5985631787001"},{name:"Midwest Living",altName:"mwl",adEnum:"mwl",udfEnum:"mwl",account:"5978871885001",config:{site:"midwestliving.com",recs:!1,metaBar:!0}},{name:"Millie",altName:"millie",adEnum:"millie",udfEnum:"millie",account:"6200858063001",config:{site:"millie.com",recs:!1,metaBar:!0}},{name:"Money",altName:!1,adEnum:"money",udfEnum:"money",account:"6001673548001",config:{site:"money.com"}},{name:"More",altName:!1,adEnum:"more",udfEnum:"moe",account:"5972928225001"},{name:"My Wedding",altName:"mw",adEnum:!1,udfEnum:"myw",account:"5978871889001"},{name:"Parents",altName:"par",adEnum:"parents",udfEnum:"parents",account:"5966354423001",config:{site:"parents.com",recs:!1,abTest:{name:"dashVsHls",timeInDays:30,percent:.5}}},{name:"Recipe.com",altName:!1,adEnum:"recipecom",udfEnum:"recipecom",account:"5985631788001"},{name:"Shape",altName:"shp",adEnum:"shape",udfEnum:"shp",account:"5978871887001",config:{site:"shape.com",recs:!1,abTest:{name:"trickviewScrubber",timeInDays:120,percent:.5}}},{name:"Swear By",altName:"swearby",adEnum:"swearby",udfEnum:"swearby",account:"6186000460001",config:{site:"swearby.com"}},{name:"Traditional Home",altName:"tradhome",adEnum:"tradhome",udfEnum:"th",account:"5966354467001",config:{site:"traditionalhome.com",recs:!1,metaBar:!0}},{name:"Wood Magazine",altName:"wood",adEnum:"wood",udfEnum:"wood",account:"5978871886001",config:{site:"woodmagazine.com"}},{name:"Pet Hero",altName:"pet",adEnum:!1,udfEnum:!1,account:"5542599127001",config:{site:"pethero.com"}},{name:"All You",altName:!1,adEnum:"aly",udfEnum:"allyou",account:"474751644"},{name:"Coastal Living",altName:"coast",adEnum:"col",udfEnum:"coastalliving",account:"717659024",config:{site:"coastalliving.com"}},{name:"Cooking Light",altName:"ckl",adEnum:"ckl",udfEnum:"cookinglight",account:"1260616200",config:{site:"cookinglight.com"}},{name:"Departures",altName:"dep",adEnum:"dep",udfEnum:"departures",account:"3281700262001",config:{site:"departures.com"}},{name:"Entertainment Weekly",altName:"enw",adEnum:"enw",udfEnum:"ew",account:"219646971",config:{site:"entertainmentweekly.com",oofPauseLimit:20}},{name:"Extra Crispy",altName:"ec",adEnum:"extracrispy",udfEnum:"extracrispy",account:"4863540596001",config:{site:"extracrispy.com"}},{name:"FanSided",altName:"fs",adEnum:"fansided",udfEnum:!1,account:"4523394907001",config:{site:"fansided.com"}},{name:"Food and Wine",altName:"fw",adEnum:"fw",udfEnum:"foodandwine",account:"1660653193",config:{site:"foodandwine.com"}},{name:"Fortune",altName:"for",adEnum:"fort",udfEnum:"fortune",account:"2111767321001",config:{site:"fortune.com"}},{name:"Foundry",altName:!1,adEnum:"",udfEnum:"foundry360",account:"2678795020001",config:{site:"foundry360.com"}},{name:"Health",altName:!1,adEnum:"hlt",udfEnum:"health",account:"1125866826",config:{site:"health.com"}},{name:"Hello Giggles",altName:"hg",adEnum:"hellogiggles",udfEnum:"hellogiggles",account:"4607804089001",config:{site:"hellogiggles.com"}},{name:"InStyle",altName:"is",adEnum:"ins",udfEnum:"instyle",account:"429048909",config:{site:"instyle.com",oofPauseLimit:20}},{name:"My Recipes",altName:"myrec",adEnum:"mre",udfEnum:"myrecipes",account:"429048911",config:{site:"myrecipes.com"}},{name:"People",altName:"peo",adEnum:"peo",udfEnum:"people",account:"416418724",config:{site:"people.com",oofPauseLimit:20}},{name:"People en Espanol",altName:"pesp",adEnum:"pesp",udfEnum:"peopleenespanol",account:"958536773",config:{site:"peopleenespanol.com",oofPauseLimit:20}},{name:"People TV",altName:"peotv",adEnum:"peotv",udfEnum:"peopletv",account:"5755101710001",config:{site:"peopletv.com",autoplayWithSound:!0}},{name:"Rachael Ray Magazine",altName:"rrmag",adEnum:"rrmag",udfEnum:"rrmag",account:"5118192886001",config:{site:"rachaelraymag.com"}},{name:"Real Simple",altName:"rs",adEnum:"rsm",udfEnum:"realsimple",account:"507936866",config:{site:"realsimple.com"}},{name:"SI TV",altName:!1,adEnum:"",udfEnum:!1,account:"5593175151001"},{name:"SI Kids",altName:"sik",adEnum:"sik",udfEnum:"sikids",account:"2041160236001"},{name:"Southern Living",altName:"sl",adEnum:"sol",udfEnum:"southernliving",account:"474428695",config:{site:"southernliving.com"}},{name:"Sports Illustrated",altName:"si",adEnum:"si",udfEnum:"si",account:"2157889318001",config:{site:"si.com"}},{name:"TPE",altName:"tpe",adEnum:"tpe",udfEnum:"tpe",account:"4604582129001",config:{site:"tpe.com"}},{name:"Time For Kids",altName:"tfk",adEnum:!1,udfEnum:"timeforkids",account:"1872491367001"},{name:"Time",altName:!1,adEnum:"tim",udfEnum:"time",account:"293884104",config:{site:"time.com"}},{name:"Travel and Leisure",altName:"Travel & Leisure",adEnum:"tl",udfEnum:"travelandleisure",account:"3281700261001",config:{site:"travelandleisure.com"}},{name:"xoJane",altName:!1,adEnum:"xoj",udfEnum:"xojane",account:"4838167537001",config:{site:"xojane.com"}}],window.jumpstart.tracker=function(player){player.state={_debug:"true"===player.getAttribute("data-debug"),_verbose:"true"===player.getAttribute("data-verbose")&&"true"===player.getAttribute("data-debug"),get _percentInView(){return window.jumpstart.helpers.getPercentInView(player)},get _adIsActive(){return player.state.adsExtStatus&&player.getState("adStatus")&&"complete"!==player.getState("adStatus")}},player.historical={videoStartedIds:[],videoCompletedIds:[],adErrorCount:0,adErrorMessages:[],videoErrorCount:0,videoErrorMessages:[],waitedCount:0,consecutiveViewsOOF:0},player.setState=function(t,e){player.state[t]||(player.state[t]={});var n=player.state[t].current,r=e,a=player.state[t].lastUpdated||null;player.state[t].previous=player.state[t].current,player.state[t].current=e,player.state[t].lastUpdated=window.performance?window.performance.now():(new Date).getTime(),player.state[t].timeApart=player.state[t].lastUpdated-a,n!==r&&(player.track("jumpstart:state-change"),player.track("jumpstart:state-change:"+t)),(player.state._verbose||"currentTime"!==t&&"duration"!==t)&&(a?player.state._debug&&console.log(t,"setState from",n,"to",r,player.state[t].lastUpdated-a,"milliseconds apart."):player.state._debug&&console.log(t,"setState from",n,"to",r))},player.getState=function(t,e){if(e=e||"current",player.state[t])return player.state[t][e];if(player.state._verbose){var n=window.jumpstart.helpers.getPos(player);console.warn("Player "+n+":",t,"is not a value in this players state.")}return null};var trackerMap={"jumpstart:core-player-initializing":function(){player.setState("playerStatus","initializing"),player.setState("initializationRequested",Date.now())},"jumpstart:core-player-initialized":function(){player.historical.timeToInitialize=player.historical.timeToInitialize||Date.now()-player.getState("initializationRequested"),player.track("jumpstart:historical:timeToInitialize-updated"),player.setState("playerStatus","initialized")},"jumpstart:core-player-ready":function(){player.setState("playerStatus","ready"),player.historical.videoSessionId=window.jumpstart.helpers.generateUUID(),player.historical.timeToReady||(player.historical.timeToReady=player.historical.timeToReady||Date.now()-player.getState("initializationRequested"),player.track("jumpstart:historical:timeToReady-updated"))},"jumpstart:core-player-manifest-parsed":function(){player.historical.timeToReady=player.historical.timeToReady||Date.now()-player.getState("initializationRequested"),player.track("jumpstart:historical:timeToReady-updated")},"jumpstart:core-video-started":function(){player.historical.videoStartedIds.push(player.metadata.video_id)},"native:ended":function(){player.historical.videoCompletedIds.push(player.metadata.video_id),player.setState("videoStatus","complete"),player.setState("videoStarted",!1),player.track("jumpstart:core-video-completed"),player.setState("playbackStarted",!1),player.track("jumpstart:core-playback-completed")},"jumpstart:core-player-metadata-available":function(){player.setState("currentVideo",player.metadata),player.historical.videoViewId=window.jumpstart.helpers.generateUUID(),player.historical.timeToMetadata=player.historical.timeToMetadata||Date.now()-player.getState("initializationRequested"),player.track("jumpstart:historical:timeToMetadata-updated")},"native:loadstart":function(){window.jumpstart.isIos()&&"complete"===player.getState("adStatus")||(player.setState("videoLoadState","loadstart"),player.track("jumpstart:core-buffer-started"),player.track("jumpstart:core-view-started"))},"native:loadedmetadata":function(){player.setState("videoLoadState","loadedmetadata")},"native:loadeddata":function(){player.setState("videoLoadState","loadeddata")},"jumpstart:ext:ads-extension-initializing":function(){player.setState("adsExtStatus","initializing")},"jumpstart:ext:ads-extension-initialized":function(){player.setState("adsExtStatus","initialized")},"jumpstart:ext:ads-extension-ready":function(){player.setState("adsExtStatus","ready")},"jumpstart:ext:ads-ad-loading":function(){player.setState("adStatus","loading")},"jumpstart:ext:ads-ad-started":function(){player.setState("adStatus","playing"),player.getState("playbackStarted")||(player.setState("playbackStarted",!0),player.track("jumpstart:core-playback-started")),player.setState("adStarted",!0)},"jumpstart:ext:ads-ad-paused":function(){player.setState("adStatus","paused")},"jumpstart:ext:ads-ad-resumed":function(){player.setState("adStatus","playing")},"jumpstart:ext:ads-ad-user-close":function(){player.setState("adStatus","complete")},"jumpstart:ext:ads-ad-skipped":function(){player.setState("adStatus","complete")},"jumpstart:ext:ads-ad-complete":function(){player.setState("adStatus","complete")},"jumpstart:ext:ads-all-ads-completed":function(){player.setState("adStatus","complete")},"jumpstart:ext:ads-ad-content-resume-requested":function(){player.setState("adStatus","complete")},"jumpstart:ext:ads-ad-error":function(t){player.historical.adErrorCount++,player.setState("adErrorMessage",t||"Unknown"),player.historical.adErrorMessages.push(t||"Unknown"),player.setState("adStatus","complete")},"jumpstart:core-player-error":function(t){player.historical.videoErrorCount++,player.setState("videoErrorMessage",t||"Unknown"),player.historical.videoErrorMessages.push(t||"Unknown")},"jumpstart:state-change:adStatus":function(){"complete"===player.getState("adStatus")&&player.setState("adStarted",!1)},"native:timeupdate":function(){player.setState("currentTime",player.video.currentTime),player.setState("duration",player.video.duration)},"native:playing":function(){player.setState("videoStatus","playing"),player.setState("waiting",!1),player.getState("playbackStarted")&&player.getState("videoStarted")&&(player.track("jumpstart:core-playback-resumed"),player.track("jumpstart:core-video-resumed")),player.getState("playbackStarted")||(player.setState("playbackStarted",!0),player.track("jumpstart:core-playback-started")),player.getState("videoStarted")||player.setState("videoStarted",!0)},"native:pause":function(){player.video.currentTime>=player.video.duration?player.setState("videoStatus","complete"):player.setState("videoStatus","paused")},"native:emptied":function(){player.setState("videoLoadState","emptied"),player.getState("currentTime")<player.getState("duration")&&player.setState("videoStatus","skipped"),player.setState("videoStarted",!1),player.setState("playbackStarted",!1),player.setState("videoContentPlayerShown",!1)},"jumpstart:ext:recs-continuous-play":function(){player.getAttribute("data-playlist-id")?player.setState("playReason","playlist continuous play"):player.setState("playReason","jumpnext continuous play")},"jumpstart:ext:replay-continuous-play":function(){player.setState("playReason","replay")},"native:waiting":function(){player.video.currentTime&&(player.setState("waiting",!0),player.historical.waitedCount++)},"native:progress":function(){player.video.duration&&player.video.buffered.length&&player.video.duration-player.video.buffered.end(0)<=0&&(player.setState("videoLoadState","bufferComplete"),player.track("jumpstart:core-buffer-completed"))},"jumpstart:state-change:waiting":function(){player.getState("waiting")?player.track("jumpstart:core-bufferpause-started"):!0===player.getState("waiting","previous")&&player.track("jumpstart:core-bufferpause-completed")},"jumpstart:ext:video-flyouts-shown":function(){"brightcove"===player.getState("playlistType")?player.track("jumpstart:ext:playlist-flyouts-shown"):"jumpnext"===player.getState("playlistType")&&player.track("jumpstart:ext:jumpnext-flyouts-shown")},"jumpstart:state-change:isFullscreen":function(){player.getState("isFullscreen")?player.track("jumpstart:core:player-fullscreen-enter"):player.track("jumpstart:core:player-fullscreen-exit")},"jumpstart:ext:autoplay-video-autoplayed":function(){player.setState("playReason","autoplay")},"jumpstart:ui-closed-captions-show":function(){player.setState("displaying-closed-captions",!0)},"jumpstart:ui-closed-captions-hide":function(){player.setState("displaying-closed-captions",!1)},"jumpstart:ui-audio-descriptions-show":function(){player.setState("displaying-audio-descriptions",!0)},"jumpstart:ui-audio-descriptions-hide":function(){player.setState("displaying-audio-descriptions",!1)}};player.emit=function(t,e){var n=window.jumpstart.helpers.createEvent(t);e?e.dispatchEvent(n):player.dispatchEvent(n)},player.track=function(t,e){trackerMap[t]?(player.state._verbose&&console.log("Tracker:",t),trackerMap[t](e)):player.state._verbose&&console.warn(t,"not found!"),player.emit(t)},player.once=function(t,e){var n=function(){e.apply(this),player.removeEventListener(t,n)};player.addEventListener(t,n)},player.addEventListener("jumpstart:core-player-video-element-created",function(){window.jumpstart.nativeEvents.forEach(function(e){player.video.addEventListener(e,function(t){player.state._adIsActive&&window.jumpstart.isIos()?player.track("jumpstart:native:ads-"+e):player.track("native:"+e)})})}),player.addEventListener("jumpstart:core-player-ready",function(){bindButtonEvents(),bindTimeEvents()}),player.addEventListener("jumpstart:ext:ads-ad-started",function(){var t,e,n=!1,r=!1,a=0;function i(){!n&&0<player.state._percentInView&&(n=!0,player.track("jumpstart:ext:ads-ad-shown")),r?o():(.5<=player.state._percentInView?a+=100:a=0,2e3<=a&&(r=!0,player.track("jumpstart:ext:ads-ad-viewable2sec"),o()))}function s(){e||(t=setInterval(i,100),e=!0)}function o(){t&&e&&(clearInterval(t),e=!1)}player.addEventListener("jumpstart:ext:ads-ad-ended",function(){o(),player.removeEventListener("jumpstart:ext:ads-ad-paused",o),player.removeEventListener("jumpstart:ext:ads-ad-resumed",s)}),player.addEventListener("jumpstart:ext:ads-ad-error",function(){o(),player.removeEventListener("jumpstart:ext:ads-ad-paused",o),player.removeEventListener("jumpstart:ext:ads-ad-resumed",s)}),player.addEventListener("native:playing",function(){o(),player.removeEventListener("jumpstart:ext:ads-ad-paused",o),player.removeEventListener("jumpstart:ext:ads-ad-resumed",s)}),s(),player.addEventListener("jumpstart:ext:ads-ad-paused",o),player.addEventListener("jumpstart:ext:ads-ad-resumed",s)});var bindButtonEvents=function(){var buttonArray=[{element:"player.controls['big-play']",once:!0,playReason:{name:"hit play",initialOnly:!0}},{element:"player.controls.play",once:!0,playReason:{name:"hit play",initialOnly:!0}},{element:"player",once:!0,playReason:{name:"hit play",initialOnly:!0}},{element:"player.recsList.children",children:!0,prepareOn:"jumpstart:ext:recs-list-created",playReason:{name:"clicked jumpnext flyout"}},{element:"player.controls.next",alias:"next",playReason:{name:"jumpnext next button"}},{element:"player.controls.previous",alias:"previous",playReason:{name:"jumpnext previous button"}}],bindButton=function(button){var addClick=function(t,e){t.addEventListener("click",function(){!button.playReason||button.playReason.initialOnly&&player.getState("playReason")||player.setState("playReason",button.playReason.name)})};if(button.children){var arr=Array.prototype.slice.call(eval(button.element));arr.forEach(function(t){addClick(t,button.once)})}else addClick(eval(button.element),button.once)};buttonArray.forEach(function(t){t.prepareOn?player.addEventListener(t.prepareOn,function(){bindButton(t)}):bindButton(t)})},bindTimeEvents=function(){var i=3,s=1,o=0;player.addEventListener("native:timeupdate",function(){player.getState("videoStarted")&&!player.getState("videoContentPlayerShown")&&0<player.state._percentInView&&(player.setState("videoContentPlayerShown",!0),player.track("jumpstart:core:video-content-shown"));var t=player.video.currentTime,e=Math.round(t),n=player.video.duration;if(t-o<2)for(var r=[{name:"25pct",time:.25*n},{name:"50pct",time:.5*n},{name:"75pct",time:.75*n}],a=0;a<r.length;a++)o<=r[a].time&&r[a].time<t&&player.track("jumpstart:core-video-completed-"+r[a].name);o=t,e%1==0&&s!==e&&(3===(s=e)?player.track("jumpstart:core-video-progress-3sec"):15===e?player.track("jumpstart:core-video-progress-15sec"):30===e&&player.track("jumpstart:core-video-progress-30sec")),e%3==0&&i!==e&&0!==(i=e)&&player.track("jumpstart:core-video-playing")})}},window.jumpstart.segment=function(player){var bindButtonEvents=function(){var buttonArray=[{element:"player.recsCloseButton",alias:"clicked to exit jumpnext flyouts",prepareOn:"jumpstart:ext:recs-list-created"},{element:"player.recsList.children",alias:"clicked jumpnext flyout",children:!0,prepareOn:"jumpstart:ext:recs-list-created"},{element:"player.controls.next",alias:"next"},{element:"player.controls.previous",alias:"previous"},{element:"player.shareButtons.facebook",prepareOn:"jumpstart:ext:share-ext-initialized",execute:function(){sendEvent("Video Content Shared",player,{videoShareService:"Facebook"})}},{element:"player.shareButtons.twitter",prepareOn:"jumpstart:ext:share-ext-initialized",execute:function(){sendEvent("Video Content Shared",player,{videoShareService:"Twitter"})}},{element:"player.shareButtons.pinterest",prepareOn:"jumpstart:ext:share-ext-initialized",execute:function(){sendEvent("Video Content Shared",player,{videoShareService:"Pinterest"})}},{element:"player.shareButtons.linkedin",prepareOn:"jumpstart:ext:share-ext-initialized",execute:function(){sendEvent("Video Content Shared",player,{videoShareService:"LinkedIn"})}},{element:"player.shareButtons.directLink",prepareOn:"jumpstart:ext:share-ext-initialized",execute:function(){sendEvent("Video Content Shared",player,{videoShareService:"Copy Direct Link"})}},{element:'player.controls["closed-captions"]',execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"Video Closed Captions "+(player.getState("displaying-closed-captions")?"On":"Off")})}},{element:'player.controls["audio-descriptions"]',execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"Video Audio Descriptions "+(player.getState("displaying-audio-descriptions")?"On":"Off")})}}],bindButton=function(button){var addClick=function(t,e){button.alias?t.addEventListener("click",function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:button.alias})}):button.execute&&t.addEventListener("click",function(){button.execute()})};if(button.children){var arr=Array.prototype.slice.call(eval(button.element));arr.forEach(function(t){addClick(t,button.once)})}else addClick(eval(button.element),button.once)};buttonArray.forEach(function(t){t.prepareOn?player.addEventListener(t.prepareOn,function(){bindButton(t)}):bindButton(t)})},eventMap={"native:pause":{eventName:"Video Playback Paused"},"jumpstart:core-video-completed-25pct":{eventName:"Video Content Completed 25pct"},"jumpstart:core-video-completed-50pct":{eventName:"Video Content Completed 50pct"},"jumpstart:core-video-completed-75pct":{eventName:"Video Content Completed 75pct"},"jumpstart:core-playback-started":{eventName:"Video Playback Started"},"jumpstart:core-video-started":{eventName:"Video Content Started"},"jumpstart:core-playback-resumed":{eventName:"Video Playback Resumed"},"jumpstart:core-video-completed":{eventName:"Video Content Completed"},"jumpstart:core-video-playing":{eventName:"Video Content Playing"},"jumpstart:core-playback-completed":{eventName:"Video Playback Completed"},"jumpstart:core-video-progress-3sec":{eventName:"Video Content Started 3sec"},"jumpstart:core-video-progress-15sec":{eventName:"Video Content Started 15sec"},"jumpstart:core-video-progress-30sec":{eventName:"Video Content Started 30sec"},"jumpstart:state-change:adStarted":{execute:function(){player.getState("adStarted")?sendEvent("Video Ad Started",player):"skip"===player.getState("adCompletedReason")?sendEvent("Video Ad Skipped",player):sendEvent("Video Ad Completed",player)}},"jumpstart:ext:ads-ad-click":{eventName:"Video Ad Clicked"},"jumpstart:ext:ads-ad-paused":{eventName:"Video Playback Paused"},"jumpstart:ext:ads-ad-resumed":{eventName:"Video Playback Resumed"},"jumpstart:ads-ad-playing":{eventName:"Video Ad Playing"},"jumpstart:ext:ads-ad-first-quartile":{eventName:"Video Ad Playing"},"jumpstart:ext:ads-ad-midpoint":{eventName:"Video Ad Playing"},"jumpstart:ext:ads-ad-third-quartile":{eventName:"Video Ad Playing"},"jumpstart:core-player-startseek":{eventName:"Video Playback Seek Started"},"jumpstart:core-player-endseek":{eventName:"Video Playback Seek Completed"},"jumpstart:core-buffer-started":{eventName:"Video Playback Buffer Started"},"jumpstart:core-view-started":{eventName:"Video Playback View Impression"},"jumpstart:core-buffer-completed":{eventName:"Video Playback Buffer Completed"},"jumpstart:core-player-error":{execute:function(){sendEvent("Video Player Error",player,{videoPlayerError:player.getState("videoErrorMessage")||"error"})}},"jumpstart:ext:ads-ad-error":{execute:function(){sendEvent("Video Player Error",player,{videoPlayerError:player.getState("adErrorMessage")||"ima3error"})}},"jumpstart:core-video-shared":{eventName:"Video Content Shared",detail:!0},"jumpstart:core-bufferpause-started":{eventName:"Video Content Wait Started"},"jumpstart:core-bufferpause-completed":{execute:function(){sendEvent("Video Content Wait Ended",player,{videoWaitTime:player.state.waiting.timeApart})}},"jumpstart:ext:ads-ad-shown":{eventName:"Video Ad Player Shown"},"jumpstart:ext:ads-ad-viewable2sec":{eventName:"Video Ad Viewable 2sec Req"},"jumpstart:core:video-content-shown":{eventName:"Video Content Player Shown"},"jumpstart:ext:jumpnext-flyouts-shown":{execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"Shown Jumpnext Flyout",recommendedVideos:player.recs})}},"jumpstart:ext:playlist-flyouts-shown":{execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"Shown Playlist Flyout",recommendedVideos:player.recs})}},"jumpstart:core:player-fullscreen-enter":{execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"enter full screen"})}},"jumpstart:core:player-fullscreen-exit":{execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"exit full screen"})}},"native:volumechanged":{execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"Volume Changed"})}},"jumpstart:historical:timeToInitialize-updated":{execute:function(){sendEvent("Video Player Initialized",player,{videoPlayerInitializationTime:player.historical.timeToInitialize||null})}},"jumpstart:historical:timeToMetadata-updated":{execute:function(){sendEvent("Video Player Metadata",player,{videoPlayerMetadataTime:player.historical.timeToMetadata||null})}},"jumpstart:historical:timeToReady-updated":{execute:function(){sendEvent("Video Player Ready",player,{videoPlayerReadyTime:player.historical.timeToReady||null})}},"jumpstart:ext:stickyplayer-click-close":{execute:function(){sendEvent("Video Player Options Interaction",player,{videoPlayerAction:"clicked to exit sticky player"})}}},playerTracking=function(t,e){var n=t.metadata||{brightcove:{}};n.account_id=n.account_id||t.getAttribute("data-account"),n.video_id=n.video_id||t.getAttribute("data-video-id");var r={videoAccountId:n.account_id||null,videoName:n.brightcove.name||null,videoId:n.video_id||null,videoPlayerId:"jumpstart pure",videoContentDuration:t.video.duration||null,videoContentPercentComplete:t.video.currentTime/t.video.duration||null,videoAdDuration:t.adDuration||null,videoCreatedAt:n.brightcove.created_at||null,videoPublishedAt:n.brightcove.published_at||null,videoUpdatedAt:n.brightcove.updated_at||null,videoTags:n.brightcove.tags?n.brightcove.tags.toString():null,videoThumbnail:n.brightcove.images&&n.brightcove.images.thumbnail&&n.brightcove.images.thumbnail.src||null,videoFranchise:n.brightcove.custom_fields?n.brightcove.custom_fields.franchise:null,videoSyndicate:n.brightcove.custom_fields?n.brightcove.custom_fields.syndicate:null,videoPrimarySection:n.brightcove.custom_fields?n.brightcove.custom_fields.primarysection:null,videoContentPosition:t.video.currentTime||null,videoAdPosition:t.ad&&t.adsManager&&Math.round(t.ad.getDuration()-t.adsManager.getRemainingTime())||null,videoVolume:t.video.muted?0:Math.round(100*t.video.volume),videoAdVolume:function(){try{return Math.round(100*t.adsManager.getVolume())}catch(t){return null}}(),videoMuted:t.video.muted,videoCustomFields:n.brightcove.custom_fields||null,contentShownOnPlatform:window.jumpstart.helpers.platformChecker()||null,videoPlayerPosition:[].slice.call(window.jumpstart.players).indexOf(t)+1,videoSessionId:t.historical.videoSessionId,videoPlaybackId:t.historical.videoViewId,category:"Video",label:n.brightcove.name||null,videoVersion:"v4",videoPlayedCount:0<t.historical.videoStartedIds.length?t.historical.videoStartedIds.length-1:null,videoAccountName:window.jumpstart.helpers.getAccountName(n.account_id)||null,previousVideoName:t.state.currentVideo&&t.state.currentVideo.previous?t.state.currentVideo.previous.brightcove.name:null,previousVideoId:t.state.currentVideo&&t.state.currentVideo.previous?t.state.currentVideo.previous.video_id:null,previousVideoFranchise:t.state.currentVideo&&t.state.currentVideo.previous?t.state.currentVideo.previous.brightcove.custom_fields.franchise:null,previousVideoTags:t.state.currentVideo&&t.state.currentVideo.previous?t.state.currentVideo.previous.brightcove.tags:null,previousVideoAccountName:t.state.currentVideo&&t.state.currentVideo.previous?window.jumpstart.helpers.getAccountName(t.state.currentVideo.previous.account_id):null,previousVideoAccountId:t.state.currentVideo&&t.state.currentVideo.previous?t.state.currentVideo.previous.account_id:null,screenHeight:window.devicePixelRatio*window.screen.height||null,screenWidth:window.devicePixelRatio*window.screen.width||null,percentOfPlayerShown:t.state._percentInView,playerErrorCount:t.historical.videoErrorCount||null,adErrorCount:t.historical.adErrorCount||null,videoPlayerSticky:t._sticky,videoPlayReason:t.getState("playReason"),videoWaitCount:t.historical.waitedCount,pageHasJumpstart:!!window.jumpstart,contentCmsId:document.querySelector("#page-segment-values .keyvals")?document.querySelector("#page-segment-values .keyvals").getAttribute("data-content_cms_id"):null,videoLoadLevel:"hls"in t?t.hls.loadLevel:null,videoCurrentLevel:"hls"in t?t.hls.currentLevel:null,abName:t.getAttribute("data-video-ab-name"),abGroupId:t.getAttribute("data-video-ab-group-id"),metric1:0,metric4:0,metric5:0,metric6:0,metric7:0,metric8:0,metric37:0,metric38:0,metric39:0,metric40:0,metric41:0,metric42:0,metric43:0,metric44:0,metric45:0,metric46:0,metric47:0,metric48:0,metric49:0};if(e)for(var a in e)r[a]=e[a];return r},sendEvent=function(t,e,n){window.analytics||function(t){var n=window.analytics=window.analytics||[];if(!n.initialize)if(n.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{n.invoked=!0,n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],n.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),n.push(t),n}};for(var e=0;e<n.methods.length;e++){var r=n.methods[e];n[r]=n.factory(r)}n.load=function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)},n.SNIPPET_VERSION="4.0.0";var a="LXvYXWzKncwuvjr1CnHHsREK9BSOKPtJ",i={717659024:"oLQxj2iibsDyTZ5R6Io8Lkz9cEqzhRUF",1260616200:"h9XROH71zMYYR2GiBVRRImU5VHxHlzGO",219646971:"BON3FBilt68aKr0pgANaJJW6i49R33qn",716147494:"1tK6oSR9d6OpCrXJZeG3EIJx2bq4rsiv",4863540596001:"YYHbYKtAgp7bXHASvGPebuFmlNI0Z2ME",1660653193:"8NpHEDgX8Hd2JBcbevqwVvW3CKssMaG8",2111767321001:"S2RVIWEtnVwlQUlXfkCmR4K4CTTGoT2c",416418725:"eLRAvP3nlgHrDcyVNHuXtt7tSy0YWd1c",1125866826:"XjYNN1mV5ZwafZa6k60GonDxLfJ3BvP1",4607804089001:"ivyaLApVNFePnbiKR2QCWsg1Neyh9Wxo",429048909:"cAULcB6CAxnO49GO0JKjLts8OfZqAK8d",429048911:"GOHtmvx7P418NzMUhs4RsTlJDwGB9Ecz",416418724:"UPBFYM4INmSPtgVRi8bovFpjlLk7VN1r",958536773:"tmQzBRmdmwAf9dw4l54FcPGJMRbprxrU",507936866:"X0houmAvvEjVtnVcXufBpNzaNjdT8QM7",474428695:"XEYVIwXzXHF17MWHQXEZDoMRIy4uDd71",2157889318001:"nS9MXqQP5fFFOZ9X23O4vHExpX9MCNDv",1138497952:"2Doiu0RM2pxT2pqAtGv66vllq1nagqem",4453423237001:"6iMTserUZoJIASV1XjA5b2slpPbxsWZk",293884104:"Tjrt25JUOrbvQQX1cGykGGzC3GncV6F9",1872491367001:"yepo1g9wQTUxxFmo7hDIHh7whiaouy1V",3281700261001:"p8yK4IF91abRJMWa0pXxGE4xk68GFwsX",4838167537001:"jxmZIm9HF3XVX4hBt3KBb324X2QDBu7I",3281700262001:"5WRr3qaaV4VRjMDUgVVYa1yQWd2AeZVm",5542599127001:"fGK1q3fRhLD0w8ZzlT3WAXlxqUPYiuTc",1033249144001:"RnmsxUrjIjM7W62olfjKgJrcsVlxe68V",5857818251001:"j3vsxnyLrmr4Q0LJHYdbrYIvmstsTPwv",5978871887001:"IvENA0rx62yDHDPKAhMCqERhsgfLL1PE",5985631785001:"qwOg4Likk1DBKEsxN585W9zvcUWwcapx",5966354423001:"lreiQPRtevbk1H2lgdbm2Veld1WjO12C",5972928228001:"SW6OrGzMtd1FqTTzysXqbd5d4LcFfVS5",5978871886001:"H2rsT1RTuVCd1UeAZp5UpJuKAFEkSNWk",5972928226001:"1AdvkVwVAJRFaaGcyqAXFJPRuwY9V1SO",5972928227001:"kQoXa3RZFWYf7iyeEQcz4AGJL2ab1oGj",5978871888001:"lCYUu4xcD00CyYUceCyYrSgYqlWRKJzW",5966354467001:"AyEvSn2n2JLz5GJFQu6jmtDsxfS5Qdyy",5966354465001:"lRVek8WoSeN1HTjW5MNiHR9Ir36rmRl1",5978871885001:"QCTHkoR0bJCmc7d41H5JH4a3PW4ruwJB",5972928224001:"fwxLy7vQTD2k1Cgpx08KhDprmb6MIbKe",6001673548001:"vwkDGW1h786nvA887oa073kNaIxlHfAw",6157254766001:"xjlXHsz1FZGMpu5jdWrPnAhmd9WxNCO1",6186000460001:"J5H4HX0PNcB78t4Kg5otocFZQORKwNEK",6200858063001:"yX9j1R8Ay8bobQgwUMNSqn9oPw6HfPsc",5136026552001:"4MGyBdBtBHiG7P4Yf61TGO9lHhgrWHHx",5118192886001:"j7YcntGFom6d0v7TLBfisCyp4FE8SsDm"}[t.metadata&&t.metadata.account_id?t.metadata.account_id:t.getAttribute("data-account")]||a,s="own"!==window.jumpstart.helpers.platformChecker()?i:a;n.load(s),console.warn("Brand Level Segment JS Not Found, Sending Data To"+s),"own"===window.jumpstart.helpers.platformChecker()&&n.page()}}(e);var r=playerTracking(e,n),a={"Video Content Started":"metric1","Video Ad Started":"metric4","Video Content Completed 25pct":"metric5","Video Content Completed 50pct":"metric6","Video Content Completed 75pct":"metric7","Video Content Completed":"metric8","Video Playback Buffer Started":"metric37","Video Playback Started":"metric38","Video Ad Playing":"metric39","Video Ad Completed":"metric40","Video Ad Skipped":"metric61","Video Content Started 3sec":"metric41","Video Content Started 15sec":"metric42","Video Content Started 30sec":"metric43","Video Content Playing":"metric44","Video Playback Buffer Completed":"metric45","Video Player Options Interaction":"metric46","Video Playback Paused":"metric47","Video Playback Resumed":"metric48","Video Player Error":"metric49"};if(a[t]&&(r[a[t]]=1),!r.clientId&&window.ga&&window.ga.getAll&&"function"==typeof window.ga.getAll){var i=window.ga.getAll();r.clientId=!(!i[0]||!i[0].get)&&i[0].get("clientId")}window.analytics?window.analytics.track(t,r):console.error("Failed to track event, segment not found."),e.state._debug&&console.log("SEGMENT: "+t,r)},handleTrackerEvent=function(t){eventMap[t.type].execute&&eventMap[t.type].execute(),eventMap[t.type].eventName&&sendEvent(eventMap[t.type].eventName,player)};for(var eventToListen in bindButtonEvents(),eventMap)player.addEventListener(eventToListen,function(t){handleTrackerEvent(t)})},window.jumpstart.moat=function(n){var p={partnerCode:"meredithhtmlvid531680830241",zMoatPageType:"{parent.window.adService.pageTargetingValues.type}",zMoatAdUnitPath:""};n.addEventListener("jumpstart:ext:ads-ad-loaded",function(){var t=this.adsRequest?this.adsRequest.adTagUrl:"";p.zMoatAdUnitPath=window.jumpstart.helpers.getParameterByName("iu",t)});var r,a={"jumpstart:ext:ads-ad-started":"AdImpression","jumpstart:ext:ads-ad-first-quartile":"AdVideoFirstQuartile","jumpstart:ext:ads-ad-midpoint":"AdVideoMidpoint","jumpstart:ext:ads-ad-third-quartile":"AdVideoThirdQuartile","jumpstart:ext:ads-ad-complete":"AdVideoComplete","jumpstart:ext:ads-ad-paused":"AdPaused","jumpstart:ext:ads-ad-resumed":"AdPlaying","jumpstart:ext:ads-ad-volume-changed":"AdVolumeChange","jumpstart:ext:ads-ad-skipped":"AdSkipped"},e=p.partnerCode;function i(){return"object"==typeof n.adsManager&&"function"==typeof n.adsManager.getVolume?n.adsManager.getVolume():0}function s(t){var e=a[t.type];r.dispatchEvent({type:e,adVolume:i()}),"AdVideoComplete"===e?(r=!1,function(){for(var t in a)n.removeEventListener(t,s)}()):n.removeEventListener(e,s)}n.addEventListener("jumpstart:ext:ads-ad-started",function(t){n.ad&&(r=function(t,e,n,r,a){var i,s,o=document.createElement("script"),u=[],l={},c="_moatApi"+Math.floor(1e8*Math.random());for(var d in l.adData={ids:{level3:e},duration:r},l.ids={},p)p.hasOwnProperty(d)&&"zMoat"===d.slice(0,5)&&(l.ids[d]=p[d]);l.imaAd=n,l["imaSDK-Plugin"]=!0,l.plugin=1,l.version=3,l.dispatchEvent=function(t){this.sendEvent?(u&&(u.push(t),t=u,u=!1),this.sendEvent(t)):u.push(t)};try{i=t.ownerDocument,s=i.defaultView||i.parentWindow}catch(t){i=document,s=window}return s[c]=l,o.type="text/javascript",t&&t.insertBefore(o,t.childNodes[0]||null),o.src="https://z.moatads.com/"+a+"/moatvideo.js#"+c,l}(n,"object"==typeof n.ad&&"function"==typeof n.ad.getAdId&&n.ad.getAdId(),n.ad,n.adDuration,e),function(){for(var t in a)n.addEventListener(t,s)}(),r.dispatchEvent({type:"AdImpression",adVolume:i()}))})},window.jumpstart.comscore=function(t){function e(){a.debug&&console.log("COMSCORE: Made new streaming instance!"),s=new window.ns_.ReducedRequirementsStreamingAnalytics({publisherId:a.c2})}var n,r=window.jumpstart.helpers.getConfig(t.getAttribute("data-brand")).config||{},a={debug:t.getAttribute("data-debug"),c2:r.c2||"6035728",c3:r.site||"meredith.com"},i={},s=new window.ns_.ReducedRequirementsStreamingAnalytics({publisherId:a.c2}),o={get ns_st_ci(){return t.getState("currentVideo").video_id},get ns_st_cl(){return t.getState("currentVideo").brightcove.duration},get ns_st_pu(){return t.getAttribute("data-brand")},get ns_st_pr(){return t.getState("currentVideo").$name},get c3(){return a.c3||"*null"},get c4(){return t.getState("currentVideo").$name||"*null"},get c6(){return"*null"},get ns_st_ge(){return"*null"},get ns_st_ia(){return"*null"},get ns_st_ce(){return"*null"},get ns_st_ddt(){return"*null"},get ns_st_tdt(){return"*null "}};(n=t).addEventListener("native:play",function(){var t;i.ended&&n.video.currentTime<=.01&&(i.ended=!1,e()),a.debug&&console.log("COMSCORE: CONTENT PLAY"),s.playVideoContentPart(o,(t=n).live?window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.Live:600<t.video.duration?window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.LongFormOnDemand:window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand)}),n.addEventListener("jumpstart:state-change:videoStatus",function(){var t=n.getState("videoStatus");"paused"!==t&&"complete"!==t&&"skipped"!==t||(a.debug&&console.log("COMSCORE: CONTENT STOP vidStatus",t),s.stop()),"complete"!==t&&"skipped"!==t||(i.ended=!0)}),n.addEventListener("jumpstart:state-change:adStatus",function(){var t=n.getState("adStatus");("paused"===t&&window.document.hidden||"complete"===t)&&(a.debug&&console.log("COMSCORE: AD STOP"),s.stop())}),n.addEventListener("jumpstart:ext:ads-ad-started",function(){i.ended&&(i.ended=!1,e()),a.debug&&console.log("COMSCORE: AD START"),s.playVideoAdvertisement({ns_st_cl:JSON.stringify(Math.round(1e3*n.ad.getDuration()))},n.live?window.ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearLive:window.ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandPreRoll)})},window.jumpstart.controls=function(t){function e(n,r,a){n.controls=n.controls||{},Object.keys(r).forEach(function(t){var e=document.createElement("div");e.className="jumpstart-control jumpstart-control-"+t,r[t]&&e.addEventListener("click",function(){window.jumpstart[r[t]](n)}),a.appendChild(e),n.controls[t]=e})}var n={logo:!1,loader:!1,"big-play":"playVideoOrAd"},r={left:{progress:!1,play:"playVideoOrAd",pause:"pauseVideoOrAd",mute:"muteVideoOrAd",unmute:"unmuteVideoOrAd","current-time":!1,duration:!1},right:{"closed-captions":"toggleClosedCaptions","audio-descriptions":"toggleAudioDescriptions",share:"openShareWindow",previous:"previous",next:"next",fullscreen:"fullscreen",normalscreen:"normalscreen"}};if(t.controlBar=document.createElement("div"),t.controlBar.className="jumpstart-control-bar",e(t,n,t),t.controlBar.zoneLeft=document.createElement("div"),t.controlBar.zoneLeft.className="jumpstart-control-bar-zone-left",e(t,r.left,t.controlBar.zoneLeft),t.controlBar.zoneRight=document.createElement("div"),t.controlBar.zoneRight.className="jumpstart-control-bar-zone-right",e(t,r.right,t.controlBar.zoneRight),t.controlBar.appendChild(t.controlBar.zoneLeft),t.controlBar.appendChild(t.controlBar.zoneRight),t.appendChild(t.controlBar),t.controls.progress.scrubber=document.createElement("input"),t.controls.progress.scrubber.className="jumpstart-control-progress-scrubber",t.controls.progress.scrubber.type="range",t.controls.progress.scrubber.min="0",t.controls.progress.scrubber.max="100",t.controls.progress.scrubber.value="0",t.controls.progress.scrubber.step="0.1",t.controls.progress.appendChild(t.controls.progress.scrubber),window.jumpstart.isMobileOrTablet()&&window.RangeTouch)try{t.RangeTouch=new window.RangeTouch(t.controls.progress)}catch(t){console.error("Jumpstart is unable to initalize RangeTouch",t)}t.controls.progress.tracker=document.createElement("span"),t.controls.progress.tracker.className="jumpstart-progress-tracker",t.controls.progress.appendChild(t.controls.progress.tracker)},window.jumpstart.nativeEvents=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],window.jumpstart.uiManager=function(r){r.addEventListener("jumpstart:core-player-ready",function(){this.classList.add("jumpstart-player-ready"),this.classList.remove("jumpstart-player-initializing"),r.live&&r.classList.add("jumpstart-video-live")}),r.addEventListener("click",function(t){window.jumpstart.isMobileOrTablet()||-1===t.target.className.indexOf("jumpstart-control")&&(r.video.paused?(r.controls.play.focus(),r.controls.play.click()):(r.controls.pause.focus(),r.controls.pause.click()))}),r.video.addEventListener("play",function(){window.jumpstart.isIos()&&"true"!==r.getAttribute("data-playsinline")&&window.jumpstart.fullscreen(this.player)}),r.addEventListener("touchend",function(t){-1===t.target.className.indexOf("jumpstart-control")&&(r.classList.contains("jumpstart-controls-active")?window.jumpstart.hideControls(r):window.jumpstart.showControls(r))},window.jumpstart.helpers.getPassiveIfSupported()),r.addEventListener("jumpstart:core-player-metadata-available",function(){if((window.jumpstart.helpers.getConfig(r.getAttribute("data-brand")).config||{}).metaBar){var t=r.metadata.brightcove||{},e=t.name||"",n=t.long_description||t.description||"";r.metaBar=r.metaBar||document.createElement("div"),r.metaBar.className="jumpstart-meta-bar",r.metaBar.innerHTML='<div class="jumpstart-player-title">'+e+"</div>",r.metaBar.innerHTML+='<div class="jumpstart-player-dek">'+n+"</div>",r.appendChild(r.metaBar)}}),r.video.addEventListener("loadedmetadata",function(){r.getState("adsExtStatus")&&"complete"!==r.getState("adStatus")&&r._initalInfoTimeSet||(r.controls["current-time"].innerHTML=r.live?"":window.jumpstart.helpers.secondsToHms(r.video.currentTime),r.controls.duration.innerHTML=r.live?"LIVE":window.jumpstart.helpers.secondsToHms(r.video.duration),r._initalInfoTimeSet=!0)}),r.video.addEventListener("timeupdate",function(){if(!r.getState("adsExtStatus")||"complete"===r.getState("adStatus")){var t=r.video.currentTime/r.video.duration*100;r.controls["current-time"].innerHTML=r.live?"":window.jumpstart.helpers.secondsToHms(r.video.currentTime),r.controls.duration.innerHTML=r.live?"LIVE":window.jumpstart.helpers.secondsToHms(r.video.duration);var e=.1*Math.ceil(t/.1)||0;r.controls.progress.tracker.style.width=e+"%",r.controls.progress.scrubber.value=e,r.controls.progress.scrubber.setAttribute("value",e),0<r.video.currentTime&&!r.classList.contains("jumpstart-video-started")&&!r.classList.contains("jumpstart-video-changing")?(r.classList.add("jumpstart-video-started"),r.track("jumpstart:core-video-started"),r.classList.remove("jumpstart-ad-ending")):r.video.currentTime<0&&r.classList.contains("jumpstart-video-started")&&r.classList.remove("jumpstart-video-started")}}),r.video.addEventListener("durationchange",function(){if(!r.getState("adsExtStatus")||"complete"===r.getState("adStatus")){var t=r.video.currentTime/r.video.duration*100;r.controls["current-time"].innerHTML=r.live?"":window.jumpstart.helpers.secondsToHms(r.video.currentTime),r.controls.duration.innerHTML=r.live?"LIVE":window.jumpstart.helpers.secondsToHms(r.video.duration);var e=.1*Math.ceil(t/.1)||0;r.controls.progress.tracker.style.width=e+"%",r.controls.progress.scrubber.value=e,r.controls.progress.scrubber.setAttribute("value",e)}}),r.video.addEventListener("play",function(){r.poster&&(r.poster.style.opacity=0),r.getState("adsExtStatus")&&"complete"!==r.getState("adStatus")||(r.classList.remove("jumpstart-video-paused"),r.classList.add("jumpstart-video-playing"),r.classList.remove("jumpstart-video-loading"))}),r.video.addEventListener("playing",function(){r.poster&&(r.poster.style.opacity=0),r.getState("adsExtStatus")&&"complete"!==r.getState("adStatus")||(r.classList.remove("jumpstart-video-paused"),r.classList.add("jumpstart-video-playing"),r.classList.remove("jumpstart-video-loading"))}),r.video.addEventListener("pause",function(){r.getState("adsExtStatus")&&"complete"!==r.getState("adStatus")||(r.classList.remove("jumpstart-video-playing"),r.classList.add("jumpstart-video-paused"),r.recs&&r.recs.length&&r.track("jumpstart:ext:video-flyouts-shown"),r.classList.remove("jumpstart-video-loading"))}),r.video.addEventListener("volumechange",function(){r.video.muted?r.classList.add("jumpstart-video-muted"):r.classList.remove("jumpstart-video-muted")}),r.video.addEventListener("waiting",function(){r.classList.add("jumpstart-video-loading")}),r.video.addEventListener("playing",function(){r.classList.remove("jumpstart-video-loading")}),r.video.addEventListener("timeupdate",function(){r.video.paused||r.classList.remove("jumpstart-video-loading")}),r.controls.progress.scrubber.addEventListener("change",function(t){var e=r.video.duration*(t.target.value/100),n=.1*Math.ceil(e/.1);r.video.currentTime=isNaN(n)?0:n,0<n&&r.poster&&(r.poster.style.opacity=0)}),r.controls.progress.scrubber.addEventListener("input",function(t){var e=r.video.duration*(t.target.value/100),n=.1*Math.ceil(e/.1);r.video.currentTime=isNaN(n)?0:n,0<n&&r.poster&&(r.poster.style.opacity=0)}),r.controls.progress.scrubber.addEventListener("mousedown",function(){r.state.adExtensionLoadState&&"ended"!==r.state.adExtensionLoadState.current||(r.classList.add("jumpstart-video-scrubbing"),window.jumpstart.pauseVideoOrAd(r))},window.jumpstart.helpers.getPassiveIfSupported()),r.controls.progress.scrubber.addEventListener("mouseup",function(){r.state.adExtensionLoadState&&"ended"!==r.state.adExtensionLoadState.current||(r.classList.remove("jumpstart-video-scrubbing"),window.jumpstart.playVideoOrAd(r))},window.jumpstart.helpers.getPassiveIfSupported()),r.controls.progress.scrubber.addEventListener("touchstart",function(){r.state.adExtensionLoadState&&"ended"!==r.state.adExtensionLoadState.current||(r.classList.add("jumpstart-video-scrubbing"),window.jumpstart.pauseVideoOrAd(r))},window.jumpstart.helpers.getPassiveIfSupported()),r.controls.progress.scrubber.addEventListener("touchend",function(){r.state.adExtensionLoadState&&"ended"!==r.state.adExtensionLoadState.current||(r.classList.remove("jumpstart-video-scrubbing"),window.jumpstart.playVideoOrAd(r))},window.jumpstart.helpers.getPassiveIfSupported()),window.jumpstart.showControls=function(t){t.classList.contains("jumpstart-controls-active")||(t.classList.add("jumpstart-controls-active"),t.track("jumpstart:ui-controls-show"))},window.jumpstart.hideControls=function(t){!t.classList.contains("jumpstart-controls-active")||t.classList.contains("jumpstart-controls-hover")||t.classList.contains("jumpstart-controls-focus")||(t.classList.remove("jumpstart-controls-active"),t.track("jumpstart:ui-controls-hide"))},r.addEventListener("mouseenter",function(t){window.jumpstart.isMobileOrTablet()||(clearTimeout(r.hideControls),window.jumpstart.showControls(r),r.hideControls=setTimeout(function(){window.jumpstart.hideControls(r)},2e3))},window.jumpstart.helpers.getPassiveIfSupported()),r.addEventListener("mousemove",function(t){window.jumpstart.isMobileOrTablet()||(clearTimeout(r.hideControls),window.jumpstart.showControls(r),r.hideControls=setTimeout(function(){window.jumpstart.hideControls(r)},2e3))},window.jumpstart.helpers.getPassiveIfSupported()),r.addEventListener("mouseleave",function(t){window.jumpstart.isMobileOrTablet()||(clearTimeout(r.hideControls),r.hideControls=setTimeout(function(){window.jumpstart.hideControls(r)},2e3))},window.jumpstart.helpers.getPassiveIfSupported()),r.controlBar.addEventListener("mouseenter",function(){window.jumpstart.isMobileOrTablet()||(clearTimeout(r.hideControls),r.classList.add("jumpstart-controls-hover"),window.jumpstart.showControls(r))},window.jumpstart.helpers.getPassiveIfSupported()),r.controlBar.addEventListener("mouseleave",function(){window.jumpstart.isMobileOrTablet()||(clearTimeout(r.hideControls),r.classList.remove("jumpstart-controls-hover"),r.hideControls=setTimeout(function(){window.jumpstart.hideControls(r)},2e3))},window.jumpstart.helpers.getPassiveIfSupported());function t(t,e){t.adDuration||(t.adDuration=0<t.ad.getDuration()?t.ad.getDuration():t.adsManager.getRemainingTime());var n=t.adDuration,r=t.adsManager.getRemainingTime()||0;100===(e=e||(n-r)/n*100)&&(r=0),t.controls["current-time"].innerHTML=window.jumpstart.helpers.secondsToHms(n-r),t.controls.duration.innerHTML=window.jumpstart.helpers.secondsToHms(n);var a=.1*Math.ceil(e/.1);t.controls.progress.tracker.style.width=e+"%",t.controls.progress.scrubber.value=a,t.controls.progress.scrubber.setAttribute("value",a),t.controls.progress.scrubber.setAttribute("tabindex","-1"),t.controls.next.setAttribute("tabindex","-1"),t.controls.previous.setAttribute("tabindex","-1"),t.controls["closed-captions"].setAttribute("tabindex","-1"),t.controls["audio-descriptions"].setAttribute("tabindex","-1"),t.controls.share.setAttribute("tabindex","-1")}function e(){this._reloadMedia=!0,this.hls&&(this.hls.destroy(),this.hls=!1),this.dash&&(this.dash.reset(),this.dash=!1)}function n(t){var e=t.getAttribute("data-ad-play-reason");return e&&"autoplay"===e&&("true"!==t.getAttribute("data-autoplay")||window.jumpstart.isMobileOrTablet())&&(e=!1),e||"true"!==t.getAttribute("data-autoplay")||window.jumpstart.isMobileOrTablet()||(e=!0),!e&&"true"===t.getAttribute("data-mobile-autoplay")&&window.jumpstart.isMobileOrTablet()&&(e=!0),e}function a(t){!function(t){for(var e=[],n=0;n<t.classList.length;n++)-1!==t.classList[n].indexOf("jumpstart-ad")&&e.push(t.classList[n]);for(n=0;n<e.length;n++)t.classList.remove(e[n])}(t),t.controls.progress.scrubber.setAttribute("tabindex","0"),t.controls.next.setAttribute("tabindex","0"),t.controls.previous.setAttribute("tabindex","0"),t.controls["closed-captions"].setAttribute("tabindex","0"),t.controls["audio-descriptions"].setAttribute("tabindex","0"),t.controls.share.setAttribute("tabindex","0"),t.removeEventListener("jumpstart:native:ads-emptied",e),t._reloadMedia?(t.classList.add("jumpstart-video-changing"),window.jumpstart.loadVideoMedia(t),t.once("native:loadedmetadata",function(){n(t)&&(t._content_resume_time&&(t.video.currentTime=t._content_resume_time),window.jumpstart.playVideo(t),t.classList.remove("jumpstart-video-changing"),t.classList.remove("jumpstart-ad-ending"))})):n(t)&&(t._content_resume_time&&(t.video.currentTime=t._content_resume_time),window.jumpstart.playVideo(t))}r.addEventListener("jumpstart:ext:ads-ad-content-pause-requested",function(){this.video.paused||this.video.pause(),this.addEventListener("jumpstart:native:ads-emptied",e)}),r.addEventListener("jumpstart:ext:ads-ad-content-resume-requested",function(){a(this)}),r.addEventListener("jumpstart:ext:ads-ad-error",function(){this.adPlaybackInProgress=!1,a(this)}),r.addEventListener("jumpstart:ext:ads-ad-skipped",function(){this.adPlaybackInProgress=!1,a(this)}),r.addEventListener("jumpstart:ext:ads-ad-loaded",function(){t(this)}),r.addEventListener("jumpstart:ext:ads-ad-started",function(){this.adPlaybackInProgress=!0,this.classList.remove("jumpstart-ad-loading"),this.classList.add("jumpstart-ad-playing"),this.classList.remove("jumpstart-ad-paused"),t(this)}),r.addEventListener("jumpstart:ext:ads-ad-paused",function(){this.classList.remove("jumpstart-ad-loading"),this.classList.remove("jumpstart-ad-playing"),this.classList.add("jumpstart-ad-paused"),t(this)}),r.addEventListener("jumpstart:ext:ads-ad-resumed",function(){this.classList.remove("jumpstart-ad-loading"),this.classList.remove("jumpstart-ad-paused"),this.classList.add("jumpstart-ad-playing"),t(this)}),r.addEventListener("jumpstart:ext:ads-ad-buffereing",function(){this.classList.add("jumpstart-ad-loading")}),r.addEventListener("jumpstart:ext:ads-ad-progress",function(){this.adPlaybackInProgress&&(this.classList.remove("jumpstart-ad-loading"),t(this))}),r.addEventListener("jumpstart:ext:ads-ad-complete",function(){this.adPlaybackInProgress=!1,this.classList.add("jumpstart-ad-ending"),this.classList.add("jumpstart-video-loading"),t(this,100)}),window.jumpstart.isMobileOrTablet()&&window.addEventListener("blur",function(){window.jumpstart.pauseVideoOrAd(r)})},window.jumpstart._playerResizeEventsAdded||(window.addEventListener("resize",function(){for(var t=0;t<window.jumpstart.players.length;t++){var e=window.jumpstart.players[t];e.getBoundingClientRect().width<500?e.classList.add("jumpstart-player-small"):e.classList.remove("jumpstart-player-small")}}),window.jumpstart._playerResizeEventsAdded=!0),!window.jumpstart._adResizeEventsAdded){var fullscreenchangeEvents=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],resizeAds=function(){for(var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,e=0;e<window.jumpstart.players.length;e++){var n=window.jumpstart.players[e],r=n.getBoundingClientRect();n.state&&n===t?(n.adsManager&&n.adsManager.resize(r.width,r.height,window.google.ima.ViewMode.FULLSCREEN),n.setState("isFullscreen",!0)):n.state&&(n.adsManager&&n.adsManager.resize(r.width,r.height,window.google.ima.ViewMode.NORMAL),n.setState("isFullscreen",!1))}};fullscreenchangeEvents.forEach(function(t){document.addEventListener(t,function(){resizeAds()})}),window.addEventListener("resize",function(){resizeAds()}),window.jumpstart._adResizeEventsAdded=!0}window.jumpstart._backwardsCompatibility=function(){window.jumpstart.ready=function(e,t){t&&t.state&&"ready"===t.getState("playerStatus")?e(t):t&&t.state?t.addEventListener("jumpstart:core-player-ready",function(){e(this)}):t?t.addEventListener("jumpstart:core-player-prepared",function(){this.player.addEventListener("jumpstart:core-player-ready",function(){e(this)})}):window.jumpstart.forAll(function(t){window.jumpstart.ready(e,t)})},window.bcJumpstart&&console.error("A previous version of Jumpstart is present on this page. Expect turbulence..."),window.bcJumpstart=window.jumpstart;var t=window.jumpstart.helpers.createEvent("jumpstartLoad");window.dispatchEvent(t)},window.jumpstart.patch=function(n){n.addEventListener("jumpstart:core-player-hls-attached",function(){n.hls.on(window.Hls.Events.ERROR,function(t,e){if(e.fatal)switch(e.type){case window.Hls.ErrorTypes.NETWORK_ERROR:console.warn("Jumpstart has detected a fatal network error, trying to recover..."),n.hls.startLoad(),window.jumpstart.displayVideoAvailability(n);break;case window.Hls.ErrorTypes.MEDIA_ERROR:console.warn("Jumpstart has detected a media error, trying to recover..."),n.hls.recoverMediaError();break;default:console.error("fatal unrecoverable HLS error encountered"),n.track("jumpstart:core-player-error","fatal unrecoverable HLS error"),n.hls.destroy()}})}),n.addEventListener("native:error",function(){n.video.error&&3===n.video.error.code?(console.warn("Jumpstart has encountered an issue attaching an hls stream, falling back to mp4 playback"),delete n.metadata.m3u8,window.jumpstart.loadVideoMedia(n),window.jumpstart.playVideoOrAd(this)):n.track("jumpstart:core-player-error",n.video.error)})},window.jumpstart.accessibility=function(n){var r={"big-play":{toggle:"pause",label:"play"},play:{toggle:"pause",label:"play"},pause:{toggle:"play",label:"pause"},mute:{toggle:"unmute",label:"mute"},unmute:{toggle:"mute",label:"un mute"},"closed-captions":{toggle:!1,label:"closed captions"},"audio-descriptions":{toggle:!1,label:"audio descriptions"},share:{toggle:!1,label:"share video"},previous:{toggle:!1,label:"previous video"},next:{toggle:!1,label:"next video"},fullscreen:{toggle:"normalscreen",label:"enter fullscreen"},normalscreen:{toggle:"fullscreen",label:"exit fullscreen"}};Object.keys(n.controls).forEach(function(e){-1===Object.keys(r).indexOf(e)?n.controls[e].setAttribute("tabindex","-1"):(n.controls[e].setAttribute("role","button"),n.controls[e].setAttribute("tabindex","0"),n.controls[e].setAttribute("aria-label",r[e].label),n.controls[e].addEventListener("focusin",function(){window.jumpstart.isMobileOrTablet()||(clearTimeout(n.hideControls),n.classList.add("jumpstart-controls-focus"),window.jumpstart.showControls(n))}),n.controls[e].addEventListener("focusout",function(){window.jumpstart.isMobileOrTablet()||(clearTimeout(n.hideControls),n.classList.remove("jumpstart-controls-focus"),n.hideControls=setTimeout(function(){window.jumpstart.hideControls(n)},2e3))}),n.controls[e].addEventListener("keydown",function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.click(),r[e].toggle&&this.addEventListener("focusout",function(){n.controls[r[e].toggle].focus()}))}),n.controls[e].addEventListener("click",function(t){r[e].toggle&&this.addEventListener("focusout",function(){n.controls[r[e].toggle].focus()})}))}),n.controls.progress.scrubber.setAttribute("aria-label","video seek"),n.controls.progress.scrubber.addEventListener("focusin",function(t){window.jumpstart.isMobileOrTablet()||(clearTimeout(n.hideControls),n.classList.add("jumpstart-controls-focus"),n.controls.progress.classList.add("jumpstart-control-progress-focus"),window.jumpstart.showControls(n))}),n.controls.progress.scrubber.addEventListener("focusout",function(t){window.jumpstart.isMobileOrTablet()||(clearTimeout(n.hideControls),n.classList.remove("jumpstart-controls-focus"),n.controls.progress.classList.remove("jumpstart-control-progress-focus"),n.hideControls=setTimeout(function(){window.jumpstart.hideControls(n)},2e3))}),n.controls.progress.scrubber.addEventListener("keydown",function(t){38!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),n.video.pause(),n.video.currentTime+=1),37!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),n.video.pause(),--n.video.currentTime),13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),n.video.paused?window.jumpstart.playVideoOrAd(n):window.jumpstart.pauseVideoOrAd(n))}),document.addEventListener("keydown",function(t){13!==t.keyCode&&32!==t.keyCode&&9!==t.keyCode||document.body.classList.add("jumpstart-js-show-acc")}),document.addEventListener("click",function(){document.body.classList.remove("jumpstart-js-show-acc")})},window.jumpstart.closedCaptions=function(r){r.addEventListener("jumpstart:core-video-started",function(){if(!r.getAttribute("data-src")||!r.getAttribute("data-src").length){if(this.metadata.brightcove.text_tracks&&this.metadata.brightcove.text_tracks.length){var t=function(t){for(var e=t[0]||{},n=0;n<t.length;n++)t[n].default&&"captions"===t[n].kind&&(e=t[n]);return e.src="//playback.video.meredithcorp.io/"+r.metadata.account_id+"/"+r.metadata.video_id+".vtt",e}(this.metadata.brightcove.text_tracks);if(this.closedCaptions=this.closedCaptions||document.createElement("track"),this.closedCaptions.label=t.label,this.closedCaptions.kind=t.kind,this.closedCaptions.srclang=t.srclang,this.closedCaptions.src=t.src,this.closedCaptions.default=!1,this.video.appendChild(this.closedCaptions),this.video.textTracks&&this.video.textTracks.length){for(var e=0;e<this.video.textTracks.length;e++)if("captions"===this.video.textTracks[e].kind){this.video.textTracks[e].mode="hidden",this._captions_track=this.video.textTracks[e];break}this.classList.contains("jumpstart-closed-captions-active")&&this.track("jumpstart:ui-closed-captions-show"),this.controls["closed-captions"].style.display="inline-block"}this.track("jumpstart:core-player-closed-captions-available")}else this.closedCaptions&&(this.video.removeChild(this.closedCaptions),this.closedCaptions=null,this._captions_track=null,this.controls["closed-captions"].style.display="none")}}),r.video.addEventListener("webkitbeginfullscreen",function(){var t=this.textTracks&&this.textTracks.length;window.jumpstart.isIos()&&t&&(r.classList.contains("jumpstart-closed-captions-active")?r._captions_track.mode="showing":r._captions_track.mode="hidden")},!1),r.video.addEventListener("webkitendfullscreen",function(){var t=this.textTracks&&this.textTracks.length;window.jumpstart.isIos()&&t&&(r._captions_track&&"showing"===r._captions_track.mode?(r.track("jumpstart:ui-closed-captions-show"),r.classList.add("jumpstart-closed-captions-active")):r._captions_track&&"showing"!==r._captions_track.mode&&(r.track("jumpstart:ui-closed-captions-hide"),r.classList.remove("jumpstart-closed-captions-active")),r._captions_track.mode="hidden")},!1),r.addEventListener("jumpstart:ui-closed-captions-show",function(){r._captions_track&&(r.textTracksContainer||(r.textTracksContainer=document.createElement("div"),r.textTracksContainer.className="jumpstart-text-tracks-container",r.textTracksContainer.setAttribute("aria-atomic","true"),r.appendChild(r.textTracksContainer)),r.textTracksContainer.style.opacity=1,r._captions_track.activeCues&&r._captions_track.activeCues[0]?r.textTracksContainer.innerHTML="<span>"+r._captions_track.activeCues[0].text+"</span>":r.textTracksContainer.innerHTML="",r._captions_track.oncuechange=function(){r._captions_track.activeCues&&r._captions_track.activeCues[0]?r.textTracksContainer.innerHTML="<span>"+r._captions_track.activeCues[0].text+"</span>":r.textTracksContainer.innerHTML="",window.jumpstart.isIos()||"hidden"===r._captions_track.mode||(r._captions_track.mode="hidden")})}),r.addEventListener("jumpstart:ui-closed-captions-hide",function(){r.textTracksContainer&&(r.textTracksContainer.style.opacity=0)})},window.jumpstart.audioDescriptions=function(r){function e(t,e){for(var n=0;n<t.length;n++)if(-1!==t[n][e].indexOf("(Descriptive)"))return!0;return!1}function n(t){if("hls"===t._audioTracksHandler)for(var e=t.hls.audioTracks[t.hls.audioTrack].groupId,n=t._audioDescriptionsActive?"Descriptive":"Main",r=0;r<t.hls.audioTracks.length;r++){var a=t.hls.audioTracks[r];a.groupId===e&&-1!==a.name.indexOf("("+n+")")&&(t.hls.audioTrack=r)}if("native"===t._audioTracksHandler)for(var i=t._audioDescriptionsActive?"Descriptive":"Main",s=0;s<t.video.audioTracks.length;s++){-1!==t.video.audioTracks[s][t.video.audioTracks[s].customLabel?"customLabel":"label"].indexOf("("+i+")")&&(t.video.audioTracks[s].enabled=!0)}}r.addEventListener("native:loadeddata",function(){if(r.controls["audio-descriptions"].classList.remove("ad-available"),r.hls&&r.hls.audioTracks&&r.hls.audioTracks.length)r._audioTracksHandler="hls",r._audioDescriptionsAvailable=e(r.hls.audioTracks,"name"),n(r);else if(r.video&&r.video.audioTracks&&r.video.audioTracks.length){r.video.audioTracks[0]&&!r.video.audioTracks[0].label.length&&(r.video.audioTracks[0].customLabel="(Main)"),r.video.audioTracks[1]&&!r.video.audioTracks[1].label.length&&(r.video.audioTracks[1].customLabel="(Descriptive)"),r._audioTracksHandler="native";var t=r.video.audioTracks[0].customLabel?"customLabel":"label";r._audioDescriptionsAvailable=e(r.video.audioTracks,t),n(r),r._trackingNativeAudioTrackChanges||r.video.audioTracks.addEventListener("change",function(){r._trackingNativeAudioTrackChanges=!0;for(var t=r._audioDescriptionsActive?"Descriptive":"Main",e=0;e<r.video.audioTracks.length;e++){var n=r.video.audioTracks[e].customLabel?"customLabel":"label";-1!==r.video.audioTracks[e][n].indexOf("("+t+")")&&(r.video.audioTracks[e].enabled||window.jumpstart.toggleAudioDescriptions(r))}})}}),r.addEventListener("jumpstart:core-video-started",function(){r._audioDescriptionsAvailable&&(window.jumpstart.toggleAudioDescriptions=window.jumpstart.toggleAudioDescriptions||function(){r._audioDescriptionsActive?(r._audioDescriptionsActive=!1,r.classList.remove("audio-descriptions-active"),r.track("jumpstart:ui-audio-descriptions-hide"),n(r)):(r._audioDescriptionsActive=!0,r.classList.add("audio-descriptions-active"),r.track("jumpstart:ui-audio-descriptions-show"),n(r),r.video.muted&&window.jumpstart.unmuteVideoOrAd(r))},r.controls["audio-descriptions"].classList.add("ad-available"))})},window.jumpstart.adTaggr=function(t){function e(t){if(t._karmaReset=!0,window.karma&&window.karma.updateVideoTargeting)try{window.karma.updateVideoTargeting()}catch(t){console.error("Failed to update video targeting",t)}}t.addEventListener("click",function(){this.setAttribute("data-ad-play-reason","clicktoplay")}),t.addEventListener("touchend",function(){this.setAttribute("data-ad-play-reason","clicktoplay")},window.jumpstart.helpers.getPassiveIfSupported()),window.karma&&(t.addEventListener("native:timeupdate",function(){t.video.currentTime>=t.video.duration-5&&!t._karmaReset&&e(t)}),t.addEventListener("jumpstart:core-source-change-requested",function(){t._karmaReset||e(t),t._karmaReset=!1})),t.getAdTagUrl=function(n){var a={siteInitials:n.adEnum||"unknown"};n.metadata.brightcove.custom_fields=n.metadata.brightcove.custom_fields||{};function i(){return!!(window.karma&&window.karma.config&&window.karma.config)&&window.karma.config}function t(){var t,e=Number(n.metadata.brightcove.duration)||0;return e<0&&(e=0),0<e&&(e/=1e3),{duration_over:300<=e?(t=300*Math.ceil(e/300),300*Math.floor(e/300)):60<=e?(t=60*Math.ceil(e/60),60*Math.floor(e/60)):(t=30*Math.ceil(e/30),30*Math.floor(e/30)),duration_under:t}}var e,r,s,o="https://pubads.g.doubleclick.net/gampad/ads?sz=640x360",u={iu:function(){var t="video",e="";if("true"===window.jumpstart.helpers.getQueryParam("amp")?t="amp.video":"true"===window.jumpstart.helpers.getQueryParam("fbia")?t="fbia.video":"true"===window.jumpstart.helpers.getQueryParam("rrad")?t="rrad.video":i()&&i().isMobile?t="video.mob":i()&&i().tabletAds?t="video.tablet":window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)|(Windows Phone)|(IE Mobile)/i)&&(t="video.mob"),i()&&i().targeting&&i().targeting.type&&i().targeting.channel&&(e="/"+window.karma.config.targeting.type+"/"+window.karma.config.targeting.channel),a.customDomain&&a.customDomain.hosts&&a.customDomain.name)for(var n=0;n<a.customDomain.hosts.length;n++){var r=a.customDomain.hosts[n];-1<window.location.host.indexOf(r)&&(a.siteInitials=a.customDomain.name)}return"/3865/"+a.siteInitials+".mdp."+t+e}(),impl:"s",gdfp_req:1,env:"vp",output:"xml_vast4",vid:n.metadata.brightcove.id,description_url:window.encodeURIComponent(window.location.href),unviewed_position_start:1,ad_rule:1,cmsid:2461872,url:"[referrer_url]",correlator:"[timestamp]"},l={videoduration:n.metadata.brightcove.duration,videomuted:n.video.muted,xid:window.jumpstart.helpers.getQueryParam("XID"),id:i()&&i().targeting&&i().targeting.id?i().targeting.id:"",muid:i()&&i().targeting&&i().targeting.muid?i().targeting.muid:"",ref_hub:window.jumpstart.helpers.getQueryParam("ref_hub"),sentiment:n.metadata.brightcove.custom_fields.sentiment,ad_count:(s=n.getAttribute("data-ad-number")||"0",n.setAttribute("data-ad-number",Number(s)+1),n.getAttribute("data-ad-number")),pos:window.jumpstart.helpers.getPos(n),play:("1"!==n.getAttribute("data-ad-number")&&n.setAttribute("data-ad-play-reason","continuousplay"),n.getAttribute("data-ad-play-reason")||n.setAttribute("data-ad-play-reason","autoplay"),n.getAttribute("data-ad-play-reason")),channel:i()&&i().targeting&&i().targeting.channel?i().targeting.channel:"",video_source:window.jumpstart.helpers.getVideoShareOwner(n),advertest:(e=i()&&i().targeting?i().targeting.advertest:"",r=window.jumpstart.helpers.getQueryParam("advertest"),e||r),kuid:void 0!==window.Krux&&window.Krux.hasOwnProperty("user")?window.Krux.user:"",ttid:n.metadata.brightcove.id,ad_keys:n.metadata.brightcove.adKeys,plid:"pure",type:a.env,frnch:n.metadata.brightcove.custom_fields.franchise,ad_tags:n.metadata.brightcove.custom_fields.adtag,category:n.metadata.brightcove.custom_fields.categories,section:n.metadata.brightcove.custom_fields.primarysection,tags:n.metadata.brightcove.tags,in_focus:window&&window.document&&window.document.hasFocus(),duration_under:t().duration_under,duration_over:t().duration_over,is_midroll:0<n.video.currentTime,midroll_count:function(){if(0<n.video.currentTime){var t=n.getAttribute("data-midroll-number")||"0";n.setAttribute("data-midroll-number",Number(t)+1)}else n.setAttribute("data-midroll-number",0);return n.getAttribute("data-midroll-number")}()};if(window.karma&&window.karma.config&&window.karma.config.videoTargeting)try{for(var c in window.karma.config.videoTargeting)l[c]?(Array.isArray(l[c])||(l[c]=[l[c]]),l[c]=l[c].concat(window.karma.config.videoTargeting[c]),l[c]=l[c].filter(function(t,e,n){return n.indexOf(t)===e})):l[c]=window.karma.config.videoTargeting[c]}catch(t){console.error("Failed to assign Karma videoTargeting",t)}i()&&i().usPrivacy&&i().usPrivacy.enabled&&(l.rdp="1"),i()&&i().euPrivacy&&i().euPrivacy.enabled&&(l.npa="1"),n.adTagData={url:o,baseParams:u,customParams:l};var d=o+window.jumpstart.helpers.objectToParams(u)+"&cust_params="+window.jumpstart.helpers.objectToParams(l,!0).replace("%26","");if(window.karma&&window.karma.resetVideoTargeting)try{window.karma.resetVideoTargeting()}catch(t){console.error("Failed to reset video targeting",t)}return d}},window.jumpstart.ads=function(t){if("true"===t.getAttribute("data-disable-ima3")&&(console.warn("data-disable-ima3 will be deprecated. Change to data-disable-ads."),t.setAttribute("data-disable-ads","true")),"true"!==t.getAttribute("data-disable-ads"))if(window.google&&window.google.ima){try{var e=window.karma.config.targeting.muid;e&&window.google.ima.settings.setPpid(e)}catch(t){console.warn("Jumpstart was unable to set a publisher ID on the IMA SDK")}t.track("jumpstart:ext:ads-extension-initializing"),buildAdContainer(t),createAdsLoader(t),t.once("jumpstart:core-player-ads-requested",function(){initializeAdsRequest(this)}),t.track("jumpstart:ext:ads-extension-initialized")}else console.warn("Jumpstart was unable to initialize ads on this player, likely do to an ad blocker.")};var getRecs=function(e,n){var r=new window.XMLHttpRequest;r.open("GET","//metadata.video.meredithcorp.io?video="+e.getAttribute("data-video-id")+"&playlist="+e.getAttribute("data-playlist-id")+"&account="+e.getAttribute("data-account")+"&brand="+e.getAttribute("data-brand")),r.send(null),r.onreadystatechange=function(){if(4===r.readyState){if(200===r.status){var t=JSON.parse(r.responseText);"true"===e.getAttribute("data-disable-plugindev")&&(console.warn("data-disable-plugindev will be deprecated. Change to data-disable-recs."),e.setAttribute("data-disable-recs","true")),"true"!==e.getAttribute("data-disable-recs")&&1<t.playlist.length?e.recs=e.recs||t.playlist:e.recs=[]}else e.recs=[];n()}}},buildRecElement=function(r){r.recsContainer=document.createElement("div"),r.recsContainer.className="jumpstart-recs-container",r.appendChild(r.recsContainer),r.recsTitle=document.createElement("div"),r.recsTitle.className="jumpstart-recs-title",r.recsTitle.innerHTML="You might like",r.recsTitle.setAttribute("role","heading"),r.recsTitle.setAttribute("aria-level","1"),r.recsContainer.appendChild(r.recsTitle),r.recsCloseButton=document.createElement("div"),r.recsCloseButton.className="jumpstart-recs-close-button",r.recsCloseButton.innerHTML="&times;",r.recsCloseButton.setAttribute("role","button"),r.recsCloseButton.setAttribute("aria-label","Close recommendations list"),r.recsCloseButton.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),r.classList.add("jumpstart-recs-hidden"),toggleRecsTabbability(r,"off")}),r.recsCloseButton.addEventListener("keydown",function(t){13!==t.keyCode&&32!==t.keyCode||this.click()}),r.recsContainer.appendChild(r.recsCloseButton),r.recsList=document.createElement("div"),r.recsList.className="jumpstart-recs-list",r.recsContainer.appendChild(r.recsList);var e=getPlayedVideos(),n=[],a=[];r.recs.forEach(function(t){-1===e.indexOf(t._source.video)||t._source.video===r.metadata.video_id?n.push(t):(t.watched=!0,a.push(t))}),r.recs=n.concat(a),r.recs.forEach(function(t,e){var n=document.createElement("div");n.player=r,n.className="jumpstart-recs-flyout",n.setAttribute("data-video-id",t._source.video),n.setAttribute("data-index",e),n.setAttribute("role","link"),n.setAttribute("aria-label",t._source.name),n.innerHTML+='<span class="countdown"></span>',n.innerHTML+='<img class="thumbnail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEklEQVR42mNk2M+AFzCOKgADAE23BsF4QJ7cAAAAAElFTkSuQmCC" width="320px" height="180px" />',n.innerHTML+='<div class="title">'+t._source.name+"</div>",t.watched&&(n.classList.add("watched"),n.innerHTML+='<div class="watched">Watched</div>'),n.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),window.jumpstart.selectFlyout(this)}),n.addEventListener("keydown",function(t){13!==t.keyCode&&32!==t.keyCode||this.click()}),r.recsList.appendChild(n)}),r.track("jumpstart:ext:recs-list-created")},lazyLoadImages=function(a){a.recsList.loadIndex=a.recsList.loadIndex||0;function i(t){for(var e=a.recsList.loadIndex;e<a.recsList.loadIndex+t;e++){if(!s[e])return void a.recsList.removeEventListener("scroll",o);var n=a.recs[e]._source.thumbnail||"",r=-1!==n.indexOf(".gif")?"gif":"image";n&&n.length&&(s[e].src="https://imagesvc.meredithcorp.io/v3/jumpstartpure/"+r+"?url="+a.recs[e]._source.thumbnail+"&w=320&h=180&q=90&c=cc",s[e].setAttribute("aria-label",a.recs[e]._source.name))}a.recsList.loadIndex+=t}var s=a.recsList.querySelectorAll("img"),o=function(){var t=s[a.recsList.loadIndex],e=a.classList.contains("jumpstart-player-mobile")?["scrollLeft","offsetWidth","offsetLeft","scrollWidth"]:["scrollTop","offsetHeight","offsetTop","scrollHeight"],n=a.recsList[e[0]]+a.recsList[e[1]]>=t.parentElement[e[2]],r=a.recsList[e[3]]-a.recsList[e[1]]===a.recsList[e[0]];t?n&&(i(5),r&&i(a.recs.length)):a.recsList.removeEventListener("scroll",o)};i(5),a.recsList.addEventListener("scroll",o,window.jumpstart.helpers.getPassiveIfSupported())},getPlayedVideos=function(){var t=window.jumpstart.helpers.getCookie("jumpnext-videos-played")||"";return t=t.split(",")},track=function(t){var e=getPlayedVideos();-1===e.indexOf(t.getAttribute("data-video-id"))&&e.push(t.getAttribute("data-video-id")),window.jumpstart.helpers.setCookie("jumpnext-videos-played",e.toString(),30)},toggleRecsTabbability=function(t,e){[].slice.call(t.recsList.querySelectorAll(".jumpstart-recs-flyout")).forEach(function(t){"on"===e?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1")}),"on"===e?t.recsCloseButton.setAttribute("tabindex","0"):t.recsCloseButton.setAttribute("tabindex","-1")},addEventListeners=function(n){n.video.addEventListener("pause",function(){toggleRecsTabbability(this.player,"on")}),n.once("jumpstart:core-video-started",function(){lazyLoadImages(n)}),n.video.addEventListener("timeupdate",function(){if(!(n.state.adStatus&&"complete"!==n.state.adStatus.current||!n.recs.length||n.live))if(this.duration-this.currentTime<=5.3){this.player.classList.add("jumpstart-video-ending");var t=(this.player.recsList.index?Number(this.player.recsList.index):0)+1;t%=this.player.recs.length;var e=this.player.recsList.querySelector('[data-index="'+t+'"]');n.getState("isEnding")||(n.setState("isEnding",!0),n.track("jumpstart:ext:video-flyouts-shown"),n.classList.contains("jumpstart-player-mobile")?this.player.recsList.scrollLeft=e.offsetLeft:this.player.recsList.scrollTop=e.offsetTop),e.querySelector(".countdown").innerHTML=Math.round(this.duration-this.currentTime),track(this.player),toggleRecsTabbability(this.player,"on")}else{n.getState("isEnding")&&n.setState("isEnding",!1),this.player.classList.remove("jumpstart-video-ending"),[].slice.call(this.player.recsList.querySelectorAll(".countdown")).forEach(function(t){t.innerHTML=""}),toggleRecsTabbability(this.player,"off")}}),n.video.addEventListener("ended",function(){if(!n.state.adStatus||"complete"===n.state.adStatus.current){if(!!n.recsList&&n.recsList.querySelector("[data-video-id]")){window.jumpstart.trackViewOOF(n);var t=window.jumpstart.helpers.getConfig(n.getAttribute("data-brand")),e=(t&&t.config?t.config.oofPauseLimit:5)||5;(n.historical.consecutiveViewsOOF||0)<e&&(window.jumpstart.next(n),n.track("jumpstart:ext:recs-continuous-play"))}toggleRecsTabbability(this.player,"off")}});["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(t){window.addEventListener(t,function(){n.recsList&&n.emit("scroll",n.recsList)})})};window.jumpstart.recs=function(n){if(n.getAttribute("data-playlist-id")?n.setState("playlistType","brightcove"):n.setState("playlistType","jumpnext"),n.getAttribute("data-src")&&n.getAttribute("data-src").length)return n.controls.next.style.display="none",void(n.controls.previous.style.display="none");n.addEventListener("jumpstart:core-player-ready",function(){n.recs?(buildRecElement(n),addEventListeners(n),n.track("jumpstart:ext:recs-extension-ready")):getRecs(n,function(){buildRecElement(n),addEventListeners(n),n.track("jumpstart:ext:recs-extension-ready")})}),n.addEventListener("jumpstart:ext:recs-extension-ready",function(){n.recs.length?n.classList.add("jumpstart-recs-loaded"):n.recsContainer.style.display="none"}),n.addEventListener("jumpstart:core-source-change-requested",function(){var t=n.getAttribute("data-video-id");n.uniqueRecHistory=n.uniqueRecHistory||[];var e=n.uniqueRecHistory.indexOf(t);-1!==e&&n.uniqueRecHistory.splice(e,1),n.uniqueRecHistory.push(t),n.recs&&n.recs.length&&(n.classList.contains("jumpstart-player-mobile")?n.recsList.firstElementChild.style.display="inline-block":n.recsList.firstElementChild.style.display="block")})},window.jumpstart.autoplay=function(r){"false"!==r.getAttribute("data-autoplay")&&(r.setAttribute("data-autoplay","true"),window.jumpstart.isMobileOrTablet()&&"true"!==r.getAttribute("data-mobile-autoplay")||(window.jumpstart.isMobileOrTablet()&&"true"===r.getAttribute("data-mobile-autoplay")&&(r.setAttribute("data-playsinline","true"),r.video.setAttribute("playsinline","true"),r.video.playsinline=!0,r.setAttribute("data-muted","true"),r.video.setAttribute("muted","true"),r.video.muted=!0),r.addEventListener("jumpstart:core-player-ready",function(){if(!(r.state._percentInView<.5&&(r.setAttribute("data-inview-onload","false"),"true"!==r.getAttribute("data-is-lead"))||(r.getAttribute("data-inview-onload")||r.setAttribute("data-inview-onload","true"),window.jumpstart._autoplayInitiated&&"true"!==r.getAttribute("data-is-lead")))){var t=window.jumpstart.canAutoplay();if("none"!==t){var e=window.jumpstart.helpers.getConfig(r.getAttribute("data-brand")).config;e&&e.autoplayWithSound||(t="muted"),window.jumpstart._autoplayInitiated=!0,"muted"===t&&window.jumpstart.muteVideoOrAd(r);var n=function(){(.5<=r.state._percentInView||r.getBoundingClientRect().top<=0)&&(r.track("jumpstart:ext:autoplay-video-autoplayed"),window.jumpstart.playVideoOrAd(r),window.removeEventListener("scroll",n))};r.state._percentInView<.5?(window.addEventListener("scroll",n,window.jumpstart.helpers.getPassiveIfSupported()),n()):(r.track("jumpstart:ext:autoplay-video-autoplayed"),window.jumpstart.playVideoOrAd(r))}}})))},window.jumpstart.loadplay={manual:function(t,e,n){window.jumpstart.changeSource(t,e,function(){n&&window.jumpstart.playVideoOrAd(t)})},auto:function(e,t){[].slice.call(t).forEach(function(t){t.addEventListener("click",function(){var t=this.getAttribute("data-video-id");t&&window.jumpstart.loadplay.manual(e,t,!0)})})},playlist:{load:function(t,e,n){if(!e)return t.recs;var r=window.jumpstart.helpers.getPos(t)-1;window.jumpstart.dispose(t),t.setAttribute("data-playlist-id",e),window.jumpstart.initializePlayer(window.jumpstart.players[r]),n&&window.jumpstart.players[r].addEventListener("jumpstart:core-player-ready",function(){window.jumpstart.playVideoOrAd(this)})},play:function(t,e,n){if("next"===e||"previous"===e)window.jumpstart[e](t);else{if("number"!=typeof e)return t.recsList.index?Number(t.recsList.index):0;window.jumpstart.changeSource(t,t.recs[e]._id,function(){n&&window.jumpstart.playVideoOrAd(t)})}}}},window.jumpstart.volumeControl=function(e){var n=document.createElement("input");n.style.width="48px",n.style.marginLeft="12px",n.setAttribute("type","range"),n.setAttribute("min","0"),n.setAttribute("max","100"),n.setAttribute("step","1"),n.setAttribute("value",100*e.video.volume),n.setAttribute("tabindex","-1"),n.addEventListener("click",function(t){t.stopPropagation()});function t(){e.video.volume=this.value/100,"object"==typeof e.adsManager&&"function"==typeof e.adsManager.setVolume&&e.adsManager.setVolume(this.value/100)}n.addEventListener("input",t),n.addEventListener("change",t),e.video.addEventListener("volumechange",function(){var t=100*Number(e.video.volume);if(n.value=t,n.setAttribute("value",t),"object"==typeof e.adsManager&&e.state._adIsActive&&"function"==typeof e.adsManager.getVolume){t=100*Number(e.adsManager.getVolume());n.value=t,n.setAttribute("value",t)}}),e.controls.mute.addEventListener("keydown",function(t){if(38===t.keyCode||39===t.keyCode){t.preventDefault();var e=Number(n.value)+10;n.value=e,n.setAttribute("value",e),n.dispatchEvent(new Event("change"))}if(37===t.keyCode||40===t.keyCode){t.preventDefault();e=Number(n.value)-10;n.value=e,n.setAttribute("value",e),n.dispatchEvent(new Event("change"))}}),e.controls.mute.appendChild(n)},window.jumpstart.replay=function(a){a.addEventListener("jumpstart:core-player-ready",function(){a.addEventListener("native:ended",function(){var t=a.getAttribute("data-endslate");if(!(a.recs&&a.recs.length||t&&t.length)){window.jumpstart.trackViewOOF(a);var e=window.jumpstart.helpers.getConfig(a.getAttribute("data-brand")),n=(e&&e.config?e.config.oofPauseLimit:5)||5;if((a.historical.consecutiveViewsOOF||0)<n){window.jumpstart.changeSource(this,this.metadata.brightcove.id,function(){this.track("jumpstart:ext:replay-continuous-play"),window.jumpstart.playVideoOrAd(this)});var r=a.getAttribute("data-poster");r&&r.length&&a.video.setAttribute("poster",r)}}})})},window.jumpstart.brightcoveAnalytics=function(t){function e(t,e,n){var r={domain:e._brightcoveAnalytics.domain,account:e._brightcoveAnalytics.account,session:e._brightcoveAnalytics.session,source:e._brightcoveAnalytics.source,destination:e._brightcoveAnalytics.destination,video:e._brightcoveAnalytics.video,event:t,time:(new Date).valueOf()};e.metadata&&e.metadata.brightcove&&(r.video_name=e.metadata.brightcove.name,r.video_duration=e.metadata.brightcove.duration/1e3),n&&(r.range=n.range[0]+".."+n.range[1]);for(var a="https://metrics.brightcove.com/v2/tracker?",i=0;i<Object.keys(r).length;i++)a+=Object.keys(r)[i]+"="+r[Object.keys(r)[i]]+"&";var s=document.createElement("img");s.setAttribute("src",a),document.getElementsByTagName("body")[0].appendChild(s)}t._brightcoveAnalytics={domain:"videocloud",session:parseInt(1e6*Math.random()).toString()+"_"+(new Date).toISOString(),source:encodeURIComponent(document.referrer),destination:encodeURIComponent(window.location.href),account:t.getAttribute("data-account"),video:t.getAttribute("data-video-id"),_sourceChanged:!0},e("player_init",t),t.once("jumpstart:core-player-initialized",function(){e("player_load",t),e("catalog_request",t)}),t.once("jumpstart:core-player-ready",function(){e("catalog_response",t)}),t.addEventListener("jumpstart:core-view-started",function(){t._brightcoveAnalytics._sourceChanged&&e("video_impression",t)}),t.addEventListener("jumpstart:core-video-started",function(){t._brightcoveAnalytics._sourceChanged&&e("video_view",t)}),t.addEventListener("native:play",function(){e("play_request",t)}),t.addEventListener("jumpstart:ext:ads-ad-started",function(){e("ad_start",t)}),t.addEventListener("jumpstart:ext:ads-ad-content-resume-requested",function(){e("ad_end",t)}),t.addEventListener("native:seeking",function(){t._brightcoveAnalytics._seeking=!0}),t.addEventListener("native:seeked",function(){t.once("native:timeupdate",function(){t.video.seeking||(t._brightcoveAnalytics._seeking=!1)})}),t.addEventListener("native:pause",function(){1<t._brightcoveAnalytics.range[1]-t._brightcoveAnalytics.range[0]&&(e("video_engagement",t,{range:t._brightcoveAnalytics.range}),t._brightcoveAnalytics.range=[Math.round(t.video.currentTime),Math.round(t.video.currentTime)])}),t.addEventListener("native:timeupdate",function(){t._brightcoveAnalytics.range=t._brightcoveAnalytics.range||[Math.round(t.video.currentTime),Math.round(t.video.currentTime)],t.video.seeking&&(t._brightcoveAnalytics._seeking=!0,1<t._brightcoveAnalytics.range[1]-t._brightcoveAnalytics.range[0]&&e("video_engagement",t,{range:t._brightcoveAnalytics.range})),t._brightcoveAnalytics._seeking?t._brightcoveAnalytics.range=[Math.round(t.video.currentTime),Math.round(t.video.currentTime)]:(t._brightcoveAnalytics.range[1]=Math.round(t.video.currentTime),9<t._brightcoveAnalytics.range[1]-t._brightcoveAnalytics.range[0]&&(e("video_engagement",t,{range:t._brightcoveAnalytics.range}),t._brightcoveAnalytics.range=[Math.round(t.video.currentTime)+1,Math.round(t.video.currentTime)]))}),t.addEventListener("native:ended",function(){1<t._brightcoveAnalytics.range[1]-t._brightcoveAnalytics.range[0]&&e("video_engagement",t,{range:t._brightcoveAnalytics.range}),e("video_complete",t),t._brightcoveAnalytics.range=!1,t._brightcoveAnalytics._seeking=!1}),t.addEventListener("jumpstart:core-source-change-requested",function(){e("catalog_request",t),t.once("jumpstart:core-player-metadata-available",function(){t._brightcoveAnalytics.video!=t.getAttribute("data-video-id")?(t._brightcoveAnalytics.video=t.getAttribute("data-video-id"),t._brightcoveAnalytics._sourceChanged=!0):t._brightcoveAnalytics._sourceChanged=!1,e("catalog_response",t)})})},window.jumpstart.chartbeat=function(t){t.once("jumpstart:core-player-metadata-available",function(){window._cbv=window._cbv||[],window._cbv.push(this.video)})},window.jumpstart.multiplay=function(e){if("true"!==e.getAttribute("data-multiplay"))for(var t=["native:playing","jumpstart:ext:ads-ad-started","jumpstart:ext:ads-ad-resumed"],n=0;n<t.length;n++)e.addEventListener(t[n],function(){for(var t=0;t<window.jumpstart.players.length;t++)window.jumpstart.players[t]!==e&&window.jumpstart.pauseVideoOrAd(window.jumpstart.players[t]);e.getAttribute("data-ad-play-reason")||e.setAttribute("data-ad-play-reason","autoplay")})},window.jumpstart.share=function(p){p.addEventListener("jumpstart:core-player-ready",function(){p.shareContainer=document.createElement("div"),p.shareContainer.className="jumpstart-social-share-container",p.shareContainer.addEventListener("click",function(t){t.stopPropagation()});var t=window.location.href,e=p.metadata.$name,n=p.metadata.brightcove.images&&p.metadata.brightcove.images.thumbnail&&p.metadata.brightcove.images.thumbnail.src||"",r=document.createElement("span");r.className="jumpstart-social-share-title",r.innerHTML="<b>Share:</b> "+e,p.shareContainer.appendChild(r),p.shareContainerCloseBtn=document.createElement("div"),p.shareContainerCloseBtn.className="jumpstart-control jumpstart-social-share-close",p.shareContainerCloseBtn.innerHTML="&times;",p.shareContainerCloseBtn.setAttribute("tabindex","0"),p.shareContainerCloseBtn.setAttribute("role","button"),p.shareContainerCloseBtn.setAttribute("aria-label","Close share dialog"),p.shareContainerCloseBtn.addEventListener("click",function(){window.jumpstart.closeShareWindow(p)}),p.shareContainerCloseBtn.addEventListener("keydown",function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.click())}),p.shareContainer.appendChild(p.shareContainerCloseBtn);var a={facebook:"https://www.facebook.com/sharer/sharer.php?u="+(t=encodeURIComponent(t)),twitter:"https://twitter.com/intent/tweet?text="+(e=encodeURIComponent(e))+"&url="+t,pinterest:"https://pinterest.com/pin/create/button/?url="+t+"&media="+(n=encodeURIComponent(n))+"&description="+e,linkedin:"https://www.linkedin.com/shareArticle?mini=true&url="+t};p.shareButtons={};for(var i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],u=a[o],l=document.createElement("a");l.setAttribute("class","jumpstart-control jumpstart-social-share-link jumpstart-share-link--"+o),l.setAttribute("href",u),l.setAttribute("aria-label","Share on "+o.charAt(0).toUpperCase()+o.slice(1)),l.setAttribute("title",o.charAt(0).toUpperCase()+o.slice(1)),l.setAttribute("target","popup"),l.setAttribute("tabindex",0),l.onclick=function(){return window.open(this.href,"popup","width=600,height=600"),!1},p.shareContainer.appendChild(l),p.shareButtons[o]=l}var c=document.createElement("label");c.className="jumpstart-social-share-title",c.setAttribute("for",p.id+"_share-direct-link"),c.innerHTML="Direct Link",p.shareContainer.appendChild(c);var d=document.createElement("input");d.className="jumpstart-social-share-direct-link",d.id=p.id+"_share-direct-link",d.value=window.location.href,d.readOnly=!0,d.setAttribute("tabindex","0"),p.shareContainer.appendChild(d),p.shareButtons.directLink=d,p.appendChild(p.shareContainer),p.track("jumpstart:ext:share-ext-initialized")})},window.jumpstart.stickyplay=function(e){if("false"!==e.getAttribute("data-stickyplay")&&(e.setAttribute("data-stickyplay","true"),!window.jumpstart.isMobileOrTablet())){["native:playing","jumpstart:ext:ads-ad-started","jumpstart:ext:ads-ad-resumed"].forEach(function(t){e.addEventListener(t,function(){window.jumpstart._eligibleStickyPlayer&&window.jumpstart._eligibleStickyPlayer._sticky&&e!==window.jumpstart._eligibleStickyPlayer&&window.jumpstart.unstick(window.jumpstart._eligibleStickyPlayer),window.jumpstart._eligibleStickyPlayer=e,window.jumpstart._stickyCheck(e)})}),window.addEventListener("scroll",function(){window.jumpstart._stickyCheck(e)},window.jumpstart.helpers.getPassiveIfSupported())}},window.jumpstart._stickyCheck=function(t){if(!window.jumpstart._stickyDisabled){var e=t._sticky?t.parentElement:t;t===window.jumpstart._eligibleStickyPlayer&&window.jumpstart.helpers.getPercentInView(e,!1)<.5?window.jumpstart.stick(t):window.jumpstart.unstick(t)}},window.jumpstart.stick=function(e){if(e._sticky=!0,e.classList.add("jumpstart-player-sticky"),e.stickyPlayerClose?e.stickyPlayerClose.style.display="block":(e.stickyPlayerClose=document.createElement("div"),e.stickyPlayerClose.className="jumpstart-player-sticky-close",e.stickyPlayerClose.setAttribute("data-icon","m"),e.stickyPlayerClose.setAttribute("tabindex","0"),e.stickyPlayerClose.setAttribute("role","button"),e.stickyPlayerClose.setAttribute("aria-label","Close sticky player"),(e.stickyPlayerClose.player=e).stickyPlayerClose.onclick=function(t){t.stopPropagation(),e.track("jumpstart:ext:stickyplayer-click-close"),window.jumpstart.unstick(this.player,!0)},e.insertBefore(e.stickyPlayerClose,e.firstChild)),e.adsManager){var t=e.getBoundingClientRect();e.adsManager.resize(t.width,t.height,window.google.ima.ViewMode.NORMAL)}},window.jumpstart.unstick=function(t,e){if(e&&(window.jumpstart._stickyDisabled=!0),t._sticky=!1,t.classList.remove("jumpstart-player-sticky"),t.stickyPlayerClose&&(t.stickyPlayerClose.style.display="none"),t.adsManager){var n=t.getBoundingClientRect();t.adsManager.resize(n.width,n.height,window.google.ima.ViewMode.NORMAL)}},window.jumpstart.monitor=function(r){function a(t){if(n&&console.log("Jumpstart Monitor: "+t),i)return r._monitor_report=r._monitor_report||[],void r._monitor_report.push(t.replace("https://analytics.video.meredithcorp.io",""));try{var e=new window.XMLHttpRequest;e.open("GET",t,!0),e.send(null)}catch(t){console.error("Jumpstart Monitor: Failed to report",t)}}var n=!1,i=!0;r.addEventListener("jumpstart:ext:ads-ad-complete",function(){a("https://analytics.video.meredithcorp.io/count_adComplete?v=4")}),r.addEventListener("jumpstart:ext:ads-ad-error",function(){var t=r.ad&&r.ad.g&&r.ad.g.adWrapperCreativeIds&&r.ad.g.adWrapperCreativeIds[0]||"Unknown",e=window.location.href;a("https://analytics.video.meredithcorp.io"+("/count_adError?v=4&cid="+t+"&origin="+e))}),r.addEventListener("jumpstart:core-video-completed",function(){var t=r.metadata&&r.metadata.video_id||"Unknown";a("https://analytics.video.meredithcorp.io"+("/count_videoComplete?v=4&id="+t))}),r.addEventListener("jumpstart:core-player-error",function(){var t=r.metadata&&r.metadata.video_id||"Unknown",e=window.location.href;a("https://analytics.video.meredithcorp.io"+("/count_videoError?v=4&id="+t+"&origin="+e))}),r.addEventListener("jumpstart:state-change:playerStatus",function(){if("ready"===r.getState("playerStatus")){var t="/report_playerLoadTime?v=4&amt="+r.historical.timeToReady;if(a("https://analytics.video.meredithcorp.io"+t),window.jumpstart.helpers.getConfig(r.getAttribute("data-brand")).account!==r.getAttribute("data-account")){var e=r.metadata&&r.metadata.video_id||"Unknown",n=window.location.href;a("https://analytics.video.meredithcorp.io"+("/count_videoShare?v=4&id="+e+"&origin="+n))}}}),r.addEventListener("jumpstart:core-video-started",function(){var t=r.metadata&&r.metadata.video_id||"Unknown",e=1===r.historical.videoStartedIds.length?"true":"false",n=r.metadata?r.metadata.video_duration:"Unknown";a("https://analytics.video.meredithcorp.io"+("/count_videoStart?v=4&id="+t+"&initial="+e+"&duration="+n))}),r.addEventListener("jumpstart:core-video-completed-25pct",function(){var t=r.metadata&&r.metadata.video_id||"Unknown";a("https://analytics.video.meredithcorp.io"+("/count_videoPercentageComplete?v=4&id="+t+"&perc=25"))}),r.addEventListener("jumpstart:core-video-completed-50pct",function(){var t=r.metadata&&r.metadata.video_id||"Unknown";a("https://analytics.video.meredithcorp.io"+("/count_videoPercentageComplete?v=4&id="+t+"&perc=50"))}),r.addEventListener("jumpstart:core-video-completed-75pct",function(){var t=r.metadata&&r.metadata.video_id||"Unknown";a("https://analytics.video.meredithcorp.io"+("/count_videoPercentageComplete?v=4&id="+t+"&perc=75"))}),r.addEventListener("jumpstart:core-bufferpause-started",function(){a("https://analytics.video.meredithcorp.io/count_playbackInterruptStart?v=4")}),r.addEventListener("jumpstart:core-bufferpause-completed",function(){var t=r.getState("waiting","timeApart");a("https://analytics.video.meredithcorp.io"+("/count_playbackInterruptEnd?v=4&dur="+t))})},window.jumpstart.skipAds=function(t){t.addEventListener("jumpstart:ext:ads-ad-started",function(){t.setState("adCompletedReason",null),t.adSkipBtn||(t.adSkipBtn=document.createElement("div"),t.adSkipBtn.setAttribute("tabindex","0"),t.adSkipBtn.setAttribute("role","button"),t.adSkipBtn.setAttribute("aria-label","skip ad"),t.adSkipBtn.innerHTML="SKIP ADS",t.adSkipBtn.className="jumpstart-control jumpstart-control-skip-ad",t.adSkipBtn.addEventListener("click",function(){t.setState("adCompletedReason","skip"),window.jumpstart.stopAd(t)}),t.appendChild(t.adSkipBtn)),t.adDuration&&30<Math.floor(t.adDuration)?t.classList.add("jumpstart-ads-skippable"):t.classList.remove("jumpstart-ads-skippable")})},window.jumpstart.endSlate=function(n){n.once("jumpstart:core-player-ready",function(){n.addEventListener("native:ended",function(){var t=n.getAttribute("data-endslate"),e=!1;t&&t.length&&(e=document.querySelector(t)||!1);e?n.endSlate||(n.endSlate=document.createElement("div"),n.endSlate.className="jumpstart-endslate-container",n.endSlate.innerHTML=e.innerHTML,n.endSlate.addEventListener("click",function(t){t.stopPropagation()}),n.appendChild(n.endSlate),n.track("jumpstart:ext:endslate-rendered"),n.addEventListener("native:play",function(){n.endSlate&&(n.removeChild(n.endSlate),n.endSlate=null,n.track("jumpstart:ext:endslate-removed"))})):console.warn("Jumpstart Endslate: Endslate Element Not Found")})})},window.jumpstart.peopleHomepageTest=function(e){"people.com"===window.location.host&&"/"===window.location.pathname&&e.addEventListener("jumpstart:core-player-ready",function(){console.log("Jumpstart: custom plugin executing (people homepage test)");var t=function(){.5<window.jumpstart.helpers.getPercentInView(e,!1)&&!window.jumpstart.isMobileOrTablet()&&(e.setAttribute("data-autoplay","true"),window.jumpstart._autoplayInitiated=!0,e.track("jumpstart:ext:autoplay-video-autoplayed"),window.jumpstart.muteVideoOrAd(e),window.jumpstart.playVideoOrAd(e),window.removeEventListener("scroll",t))};window.addEventListener("scroll",t,window.jumpstart.helpers.getPassiveIfSupported())})},window.jumpstart.thumbnailPreview=function(a){var t=a.getAttribute("data-video-ab-name"),e=a.getAttribute("data-video-ab-group-id");if("trickviewScrubber"===t&&"test"===e&&!window.jumpstart.isMobileOrTablet()){function n(t){t.scrubberPreview&&t.scrubberPreview.remove(),t._thumbnailWrapper&&t._thumbnailWrapper.remove(),t.controls.progress.removeEventListener("mouseleave",t._thumbnailMouseLeaveListener,r),t.controls.progress.removeEventListener("mousemove",t._thumbnailMouseMoveListener,r)}var r=window.jumpstart.helpers.getPassiveIfSupported();a.addEventListener("jumpstart:core-video-started",function(){if(!a.getAttribute("data-src")||!a.getAttribute("data-src").length){n(a),a.once("native:emptied",function(){n(this)}),a._thumbnailMouseMoveListener=a._thumbnailMouseMoveListener||function(t){var e,n,r;e=t.pageX||t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e-=a.controls.progress.getBoundingClientRect().left,n=Math.max(Math.floor(a._thumbnail_track.cues.length*e/a.controls.progress.getBoundingClientRect().width),0),a._thumbnailImg.src=a._thumbnail_track.cues[n].text,(r=e)+a._thumbnailImg.getBoundingClientRect().width+15>a.controls.progress.getBoundingClientRect().width?r=a.controls.progress.getBoundingClientRect().width-a._thumbnailImg.getBoundingClientRect().width-15:e<15&&(r=15),a._thumbnailWrapper.style.visibility="visible",a._thumbnailWrapper.style.left=r+"px"},a._thumbnailMouseLeaveListener=a._thumbnailMouseLeaveListener||function(t){a._thumbnailWrapper.style.visibility="hidden"},this.scrubberPreview=document.createElement("track"),this.scrubberPreview.label="thumbnails",this.scrubberPreview.kind="metadata",this.scrubberPreview.default=!0,this.scrubberPreview.src="//playback.video.meredithcorp.io/"+a.metadata.account_id+"/"+a.metadata.video_id+".vtt?vtt_kind=metadata",a.video.appendChild(this.scrubberPreview);for(var t=0;t<a.video.textTracks.length;t++)"metadata"===a.video.textTracks[t].kind&&(a.video.textTracks[t].mode="hidden",a._thumbnail_track=a.video.textTracks[t]);this.scrubberPreview.onload=function(){a._thumbnailWrapper=document.createElement("div"),a._thumbnailWrapper.className="thumbnail-wrapper",a._thumbnailWrapper.style.visibility="hidden",a._thumbnailWrapper.style.display="none",a._thumbnailImg=document.createElement("img"),a._thumbnailImg.className="thumbnail-preview",a._thumbnailImg.onerror=function(){a._thumbnailWrapper.style.display="none"},a._thumbnailImg.onload=function(){a._thumbnailWrapper.style.display="block"},a._thumbnailWrapper.appendChild(a._thumbnailImg),a.controls.progress.appendChild(a._thumbnailWrapper),a.controls.progress.addEventListener("mouseleave",a._thumbnailMouseLeaveListener,r),a.controls.progress.addEventListener("mousemove",a._thumbnailMouseMoveListener,r)}}})}},window.jumpstart.abTest=function(t){var e=t.getAttribute("data-brand"),n=e&&window.jumpstart.helpers.getConfig(e)||{},r=null;if(n&&n.config&&n.config.abTest&&(r=n.config.abTest),r&&0!==r.name.length){var a=window.jumpstart.helpers.getCookie(r.name+"-ab-id")||"";if(0===a.length&&(a=Math.random()<r.percent?"test":"control",window.jumpstart.helpers.setCookie(r.name+"-ab-id",a,r.timeInDays)),"test"===a)for(var i in r)"param"===i.substring(0,5)&&t.setAttribute("data-"+i.substring(6,i.length),r[i]);t.setAttribute("data-video-ab-name",r.name),t.setAttribute("data-video-ab-group-id",a)}},window.jumpstart.preparePlayer=function(e){window.jumpstart._preparedPlayers=window.jumpstart._preparedPlayers||0,window.jumpstart._preparedPlayers+=1;var t=document.createElement("div");t.id="jumpstart_player_"+window.jumpstart._preparedPlayers,t._originalState=e.cloneNode(!1);for(var n=["poster","muted","playsinline","autoplay"],r=0;r<e.attributes.length;r++)-1!==n.indexOf(e.attributes[r].name)?t.setAttribute("data-"+e.attributes[r].name,e.attributes[r].value||"true"):t.setAttribute(e.attributes[r].name,e.attributes[r].value);if(e.parentElement.appendChild(t),e.parentElement.removeChild(e),t._prepared=!0,e.getAttribute("data-metadata"))try{var a=JSON.parse(e.getAttribute("data-metadata"));e.metadata=a,e.metadata.$name=a.brightcove.name,e.metadata.$description=a.brightcove.long_description||a.brightcove.description,e.metadata.account_id=a.brightcove.account_id,e.metadata.video_id=a.brightcove.id,e.metadata.video_duration=a.brightcove.duration,e.metadata.created_at=a.brightcove.created_at,t.setAttribute("data-metadata","this.metadata")}catch(t){e.metadata=null,console.error('Invalid data provided to the following attribute: "data-metadata"')}if(e.metadata){t.metadata=e.metadata,t.metadata.m3u8="//playback.video.meredithcorp.io/"+t.metadata.account_id+"/"+t.metadata.video_id+".m3u8",t.metadata.mp4="//playback.video.meredithcorp.io/"+t.metadata.account_id+"/"+t.metadata.video_id+".mp4",t.metadata.mpd="//playback.video.meredithcorp.io/"+t.metadata.account_id+"/"+t.metadata.video_id+".mpd";try{var i=!1;for(r=0;r<t.metadata.brightcove.sources.length;r++){if((o=t.metadata.brightcove.sources[r])&&o.src&&-1!==o.src.indexOf(".m3u8")){i=!0;break}}i||(delete t.metadata.m3u8,console.warn("Jumpstart is running the following embed in legacy mode:",t))}catch(t){console.warn("Jumpstart encountered an error while checking available sources:",t)}try{var s=!1;for(r=0;r<t.metadata.brightcove.sources.length;r++){var o;if((o=t.metadata.brightcove.sources[r])&&o.src&&-1!==o.src.indexOf(".mpd")){s=!0;break}}s||(delete t.metadata.mpd,console.warn("Jumpstart is running the following embed in legacy mode:",t))}catch(t){console.warn("Jumpstart encountered an error while checking available sources:",t)}}var u=window.jumpstart.helpers.createEvent("jumpstart:core-player-prepared");return e.player=t,e.dispatchEvent(u),t},window.jumpstart.addVideoPoster=function(t){var e=t.metadata&&t.metadata.brightcove&&t.metadata.brightcove.custom_fields||{};if(e.custom_poster&&window.jumpstart.isMobileOrTablet()&&t.setAttribute("data-poster",e.custom_poster),!t.poster&&(t.getAttribute("data-poster")||t.metadata)&&!t.getAttribute("data-src")){if(!t.getAttribute("data-poster")&&t.metadata&&t.metadata.brightcove&&t.metadata.brightcove.images&&t.metadata.brightcove.images.poster){for(var n=t.metadata.brightcove.images.poster.sources||[],r=t.metadata.brightcove.images.poster.src,a=0;a<n.length;a++)n[a].src&&-1!==n[a].src.indexOf("https")&&(r=n[a].src);t.setAttribute("data-poster",r)}var i=-1!==(t.getAttribute("data-poster")||"").indexOf(".gif")?"gif":"image";t.poster=document.createElement("img"),t.poster.className="jumpstart-poster jumpstart-poster-lazy",t.poster.setAttribute("alt",""),t.poster.src="https://imagesvc.meredithcorp.io/v3/jumpstartpure/"+i+"?url="+t.getAttribute("data-poster")+"&w=320&h=180&q=10&c=cc",t.video.setAttribute("poster",t.poster.src),t.poster.onload=function(){this.className="jumpstart-poster jumpstart-poster-lazy jumpstart-poster-loaded",t.poster.src="https://imagesvc.meredithcorp.io/v3/jumpstartpure/"+i+"?url="+t.getAttribute("data-poster")+"&w=1280&h=720&q=90&c=cc",t.poster.onload=function(){this.classList.remove("jumpstart-poster-lazy")}},t.poster.onerror=function(){t.poster&&t.removeChild(t.poster),t.video.removeAttribute("poster"),t.poster=!1,t._posterRetried||(t._posterRetried=!0,t.removeAttribute("data-poster"),t.video.removeAttribute("poster"),window.jumpstart.addVideoPoster(t))},t.appendChild(t.poster)}},window.jumpstart.addVideoPreview=function(t){var e=t.metadata&&!t.preview&&t.metadata.brightcove&&t.metadata.brightcove.custom_fields&&t.metadata.brightcove.custom_fields.video_preview,n=t.getAttribute("data-autoplay")&&"true"==t.getAttribute("data-autoplay");if(window.jumpstart.isMobileOrTablet()&&(n=n&&"true"==t.getAttribute("data-mobile-autoplay")),e&&!n){t.preview=document.createElement("video"),t.preview.src=t.metadata.brightcove.custom_fields.video_preview;for(var r=["muted","autoplay","playsinline","loop"],a=t.preview.style.opacity=0;a<r.length;a++)t.preview[r[a]]=!0,t.preview.setAttribute(r[a],r[a]);t.preview.className="jumpstart-preview",t.appendChild(t.preview),t.preview.addEventListener("loadedmetadata",function(){t.preview.style.opacity=1});var i=function(){t.removeChild(t.preview),t.video.removeEventListener("play",i)};t.video.addEventListener("play",i)}},window.jumpstart.addVideoElement=function(t){t.classList.add("jumpstart-player-initializing"),t.video=document.createElement("video"),(t.video.player=t).video.setAttribute("playsinline","true"),t.video.setAttribute("preload","metadata"),t.video.setAttribute("crossorigin","anonymous"),"true"===t.getAttribute("data-muted")&&(t.video.muted=!0),window.jumpstart.addVideoPoster(t),window.jumpstart.addVideoPreview(t),window.jumpstart.isMobileOrTablet()&&t.classList.add("jumpstart-player-mobile"),t.getBoundingClientRect().width<500&&t.classList.add("jumpstart-player-small"),t.appendChild(t.video),t.track("jumpstart:core-player-video-element-created")},window.jumpstart.assignVideoMetadata=function(e,t){if(e.metadata&&!t)return e.adEnum=window.jumpstart.helpers.getConfig(e.getAttribute("data-brand")).adEnum,e.recs=!1,e.video.setAttribute("title",e.metadata.$name),window.jumpstart.addVideoPoster(e),window.jumpstart.addVideoPreview(e),void e.track("jumpstart:core-player-metadata-available");t&&e.errorMessage&&(e.removeChild(e.errorMessage),e.errorMessage=!1);var n=new window.XMLHttpRequest;n.open("GET","//metadata.video.meredithcorp.io?video="+e.getAttribute("data-video-id")+"&playlist="+e.getAttribute("data-playlist-id")+"&account="+e.getAttribute("data-account")+"&brand="+e.getAttribute("data-brand")+"&dynamic="+e.getAttribute("data-dynamic-embed")),n.send(null),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var t=JSON.parse(n.responseText);e.metadata=t.video,e.adEnum=t.adEnum,e.video.setAttribute("title",e.metadata.$name),"true"===e.getAttribute("data-disable-plugindev")&&(console.warn("data-disable-plugindev will be deprecated. Change to data-disable-recs."),e.setAttribute("data-disable-recs","true")),"true"!==e.getAttribute("data-disable-recs")&&1<t.playlist.length?e.recs=e.recs||t.playlist:e.recs=e.recs||[],e.setAttribute("data-video-id",e.metadata.video_id),window.jumpstart.addVideoPoster(e),window.jumpstart.addVideoPreview(e),e.track("jumpstart:core-player-metadata-available")}else e.track("jumpstart:core-player-error","Failed to load video"),window.jumpstart.displayError(e,"Failed to load video")}},window.jumpstart.loadVideoMedia=function(n){var t=n.getAttribute("data-video-ab-name"),e=n.getAttribute("data-video-ab-group-id"),r="dashVsHls"===t&&"test"===e;n.metadata.m3u8&&n.video.canPlayType("application/vnd.apple.mpegurl")&&(!window.jumpstart.isMobileOrTablet()||window.jumpstart.isIos())?(n.live="remote"===n.metadata.brightcove.delivery_type,n.video.src=n.getAttribute("data-src")||n.metadata.m3u8,n.video.load()):r&&window.dashjs&&n.metadata.mpd?(n.dash=window.dashjs.MediaPlayer().create(),n.dash.updateSettings({streaming:{abr:{limitBitrateByPortal:!0}}}),n.dash.initialize(n.video,n.metadata.mpd,!1),n.dash.on("MANIFEST_LOADED",function(){n._dashManifestParsed=!0,n.track("jumpstart:core-player-manifest-parsed")})):n.metadata.m3u8&&window.Hls&&window.Hls.isSupported()?(n.hls=n.hls||new window.Hls({autoStartLoad:!0,enableWebVTT:!1,startLevel:-1,maxBufferSize:1e7,capLevelToPlayerSize:!0}),n.hls.attachMedia(n.video),n.hls.on(window.Hls.Events.MEDIA_ATTACHED,function(){n.hls.loadSource(n.getAttribute("data-src")||n.metadata.m3u8),n.live="remote"===n.metadata.brightcove.delivery_type,n.track("jumpstart:core-player-hls-attached")}),n.hls.on(window.Hls.Events.MANIFEST_PARSED,function(t,e){n._hlsManifestParsed=!0,n.track("jumpstart:core-player-manifest-parsed")})):n.video.src=n.getAttribute("data-src")||n.metadata.mp4},window.jumpstart.addExtensions=function(e){["controls","accessibility","closedCaptions","audioDescriptions","patch","uiManager","segment","brightcoveAnalytics","moat","comscore","chartbeat","adTaggr","ads","skipAds","endSlate","recs","autoplay","multiplay","share","stickyplay","replay","monitor","peopleHomepageTest","abTest","cuePoints","volumeControl","thumbnailPreview"].forEach(function(t){window.jumpstart[t]?window.jumpstart[t](e):e.getAttribute("data-debug")&&console.warn("The following extension is unavailable in this build:",t)})},window.jumpstart.initializePlayer=function(t){if(!t._prepared){var e=window.jumpstart.preparePlayer(t);e._initialized||(window.jumpstart.tracker(e),e.track("jumpstart:core-player-initializing"),window.jumpstart.addVideoElement(e),window.jumpstart.addExtensions(e),e.addEventListener("jumpstart:core-player-metadata-available",function(){window.jumpstart.loadVideoMedia(this)}),window.jumpstart.assignVideoMetadata(e),e.once("native:loadedmetadata",function(){e.getAttribute("data-start-time")&&(e.video.currentTime=e.getAttribute("data-start-time")),this.track("jumpstart:core-player-ready")}),e.track("jumpstart:core-player-initialized"),e._initialized=!0)}};var ima3SDK=document.createElement("script");ima3SDK.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js",document.body.appendChild(ima3SDK),ima3SDK.addEventListener("load",initializeAllPlayers),ima3SDK.addEventListener("error",initializeAllPlayers)}function buildAdContainer(t){t.adDisplayContainer||(t.adContainer=document.createElement("div"),t.adContainer.className="jumpstart-ad-container",t.appendChild(t.adContainer),t.video.removeAttribute("playsinline"),t.adDisplayContainer=new window.google.ima.AdDisplayContainer(t.adContainer,t.video))}function createAdsLoader(e){e.adsLoader?e.track("jumpstart:ext:ads-extension-ready"):(e.adsLoader=new window.google.ima.AdsLoader(e.adDisplayContainer),e.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){onAdsManagerLoaded(t,e)},!1),e.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,function(t){onAdError(t,e)},!1))}function initializeAdsRequest(t){t.adsRequest=t.adsRequest||new window.google.ima.AdsRequest,"true"===t.getAttribute("data-sample-ad")?t.adsRequest.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=":t.getAttribute("data-sample-ad")&&-1!==t.getAttribute("data-sample-ad").indexOf("http")?t.adsRequest.adTagUrl=t.getAttribute("data-sample-ad"):t.adsRequest.adTagUrl=t.getAdTagUrl(t),t.adsRequest.linearAdSlotWidth=t.video.getBoundingClientRect().width,t.adsRequest.linearAdSlotHeight=t.video.getBoundingClientRect().height,t.adsRequest.nonLinearAdSlotWidth=t.video.getBoundingClientRect().width,t.adsRequest.nonLinearAdSlotHeight=t.video.getBoundingClientRect().height,t.adsRequest.setAdWillAutoPlay("autoplay"===t.getState("playReason")),t.adsRequest.setAdWillPlayMuted(t.video.muted),t.adsLoader.requestAds(t.adsRequest)}function onAdError(t,e){console.error("Jumpstart has detected the following ad error:",t.getError()),e.track("jumpstart:ext:ads-ad-error",t.getError()),e.adsManager&&e.adsManager.destroy()}function onAdsManagerLoaded(t,e){e.video.setAttribute("playsinline","true");var n=new window.google.ima.AdsRenderingSettings;n.uiElements=[],e.adsManager=t.getAdsManager(e.video,n);var r={};r[window.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]="jumpstart:ext:ads-ad-content-pause-requested",r[window.google.ima.AdEvent.Type.AD_BUFFERING]="jumpstart:ext:ads-ad-buffering",r[window.google.ima.AdEvent.Type.LOADED]="jumpstart:ext:ads-ad-loaded",r[window.google.ima.AdEvent.Type.STARTED]="jumpstart:ext:ads-ad-started",r[window.google.ima.AdEvent.Type.AD_PROGRESS]="jumpstart:ext:ads-ad-progress",r[window.google.ima.AdEvent.Type.FIRST_QUARTILE]="jumpstart:ext:ads-ad-first-quartile",r[window.google.ima.AdEvent.Type.MIDPOINT]="jumpstart:ext:ads-ad-midpoint",r[window.google.ima.AdEvent.Type.THIRD_QUARTILE]="jumpstart:ext:ads-ad-third-quartile",r[window.google.ima.AdEvent.Type.CLICK]="jumpstart:ext:ads-ad-click",r[window.google.ima.AdEvent.Type.PAUSED]="jumpstart:ext:ads-ad-paused",r[window.google.ima.AdEvent.Type.RESUMED]="jumpstart:ext:ads-ad-resumed",r[window.google.ima.AdEvent.Type.DURATION_CHANGE]="jumpstart:ext:ads-ad-duration-change",r[window.google.ima.AdEvent.Type.VOLUME_CHANGED]="jumpstart:ext:ads-ad-volume-changed",r[window.google.ima.AdEvent.Type.VOLUME_MUTED]="jumpstart:ext:ads-ad-volume-muted",r[window.google.ima.AdEvent.Type.USER_CLOSE]="jumpstart:ext:ads-ad-user-close",r[window.google.ima.AdEvent.Type.SKIPPED]="jumpstart:ext:ads-ad-skipped",r[window.google.ima.AdEvent.Type.COMPLETE]="jumpstart:ext:ads-ad-complete",r[window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED]="jumpstart:ext:ads-all-ads-completed",r[window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]="jumpstart:ext:ads-ad-content-resume-requested",["AD_BREAK_READY","AD_BUFFERING","AD_METADATA","AD_PROGRESS","ALL_ADS_COMPLETED","CLICK","COMPLETE","CONTENT_PAUSE_REQUESTED","CONTENT_RESUME_REQUESTED","DURATION_CHANGE","FIRST_QUARTILE","IMPRESSION","INTERACTION","LINEAR_CHANGED","LOADED","LOG","MIDPOINT","PAUSED","RESUMED","SKIPPABLE_STATE_CHANGED","SKIPPED","STARTED","THIRD_QUARTILE","USER_CLOSE","VOLUME_CHANGED","VOLUME_MUTED"].forEach(function(t){window.google.ima.AdEvent.Type[t]&&e.adsManager.addEventListener(window.google.ima.AdEvent.Type[t],function(t){e.ad=t.getAd()||e.ad,r[t.type]&&e.track(r[t.type])})}),e.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,function(t){onAdError(t,e)},!1),e.track("jumpstart:ext:ads-extension-ready")}function initializeAllPlayers(){window.jumpstart._libReady=!0,window.jumpstart._backwardsCompatibility();for(var t=0;t<window.jumpstart.players.length;t++)"true"!==window.jumpstart.players[t].getAttribute("data-preventstart")&&window.jumpstart.initializePlayer(window.jumpstart.players[t])}}(),window.jumpstart.bundle_information=[{filename:"rangetouch.js",version:1},{filename:"lib-handler.js",version:2},{filename:"comscore-lib.js",version:3},{filename:"hls.js",version:12},{filename:"api.js",version:30},{filename:"accounts.js",version:16},{filename:"tracker.js",version:16},{filename:"segment.js",version:29},{filename:"moat.js",version:5},{filename:"comscore.js",version:6},{filename:"controls.js",version:3},{filename:"native-events.js",version:1},{filename:"ui-manager.js",version:19},{filename:"compatability.js",version:3},{filename:"patch.js",version:4},{filename:"accessibility.js",version:2},{filename:"closed-captions.js",version:12},{filename:"audio-descriptions.js",version:4},{filename:"ad-taggr.js",version:15},{filename:"ads.js",version:8},{filename:"recs.js",version:24},{filename:"ads.css",version:5},{filename:"autoplay.js",version:12},{filename:"loadplay.js",version:1},{filename:"controls.css",version:19},{filename:"volume-control.js",version:2},{filename:"fonts.css",version:7},{filename:"player.css",version:12},{filename:"recs.css",version:14},{filename:"share.css",version:4},{filename:"replay.js",version:8},{filename:"brightcove-analytics.js",version:4},{filename:"chartbeat.js",version:2},{filename:"multiplay.js",version:2},{filename:"share.js",version:7},{filename:"stickyplay.js",version:8},{filename:"monitor.js",version:16},{filename:"skip-ads.js",version:4},{filename:"endslate.js",version:2},{filename:"people-homepage-test.js",version:4},{filename:"thumbnail-preview.js",version:1},{filename:"ab-test.js",version:2},{filename:"initializer.js",version:47}];